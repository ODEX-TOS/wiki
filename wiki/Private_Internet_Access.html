<!--
    title: Private_Internet_Access
    description: Migration of Private_Internet_Access from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Private Internet Access</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p><a rel="nofollow"  href="https://www.privateinternetaccess.com/">Private Internet Access</a> is a subscription-based VPN service.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This company has been bought by a competitor that sells client information to 3rd parties. See <a rel="nofollow"  href="https://old.reddit.com/r/PrivateInternetAccess/comments/dz2w53/our_merger_with_kape_technologies_addressing_your/">this discussion</a>, and <a rel="nofollow"  href="https://www.reddit.com/r/DataHoarder/comments/e05hn3/psa_pia_privateinternetaccess_has_been_bought_by/">this discussion</a> for more information.</div>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Manual"><span >1</span> <span >Manual</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#NetworkManager_applet_approach"><span >1.1</span> <span >NetworkManager applet approach</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Installation"><span >1.1.1</span> <span >Installation</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Configuration"><span >1.1.2</span> <span >Configuration</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Usage"><span >1.1.3</span> <span >Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6">
<a href="#OpenVPN_command_line_approach"><span >1.2</span> <span >OpenVPN command line approach</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Installation_2"><span >1.2.1</span> <span >Installation</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Usage_2"><span >1.2.2</span> <span >Usage</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Automatic"><span >2</span> <span >Automatic</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Official_installation_script"><span >2.1</span> <span >Official installation script</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Official_Linux_client"><span >2.2</span> <span >Official Linux client</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Packages"><span >2.3</span> <span >Packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Tips_and_tricks"><span >3</span> <span >Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Internet_%22kill_switch%22"><span >3.1</span> <span >Internet "kill switch"</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Setting_PIA_DNS"><span >3.2</span> <span >Setting PIA DNS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#Troubleshooting"><span >4</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#I_can't_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_doesn't_work"><span >4.1</span> <span >I can't connect to OpenVPN using PIA manager, or OpenVPN doesn't work</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Manual">Manual</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<a href="../wiki/IPv6.html#Disable_IPv6" class="mw-redirect" title="Disable ipv6">Disable ipv6</a> since it is not supported by PIA.<a rel="nofollow"  href="https://helpdesk.privateinternetaccess.com/hc/en-us/articles/232324908-Why-Do-You-Block-IPv6-">[1]</a>
</li>
<li>Ensure you are using PIA's <a href="../wiki/Domain_name_resolution.html" class="mw-redirect" title="DNS">DNS</a> servers, listed on their website.</li>
</ul>
</div>
<h3><span class="mw-headline" id="NetworkManager_applet_approach">NetworkManager applet approach</span></h3>
<h4><span class="mw-headline" id="Installation">Installation</span></h4>
<p>Download <a rel="nofollow"  href="https://www.privateinternetaccess.com/openvpn/openvpn.zip">OpenVPN configuration files from PIA</a>. Extract the ZIP file to a place in your user home directory or elsewhere that is memorable for future access.
</p>
<p>Install and configure <a href="../wiki/NetworkManager.html" title="NetworkManager">NetworkManager</a> along with the NetworkManager applet and OpenVPN plugin.
</p>
<h4><span class="mw-headline" id="Configuration">Configuration</span></h4>
<ol>
<li>Right click on the NetworkManager applet from your desktop environment, and click Edit Connections. Click the Plus sign in the bottom left corner of the Network Connections window that appears.</li>
<li>When you choose a connection type, click the drop down menu and scroll all the way down until you reach "Import a saved VPN configuration". Select that option. Now, click Create.</li>
<li>Navigate to the directory you extracted all of the openvpn files to earlier, then open one of the files from that folder. Generally speaking, you will want to open the file that is associated with the connection you specifically want.</li>
<li>After you have opened one of the openvpn files, the window that appears should be "Editing &lt;connection type&gt;". Type in your Username and Password that you received from Private Internet Access. There is an icon in the password box indicating user permission of the credentials; change the settings as you wish.</li>
<li>Now, click Advanced. Next to "Use LZO data compression", click the drop down menu to select "adaptive" and next to "Set vitrual device type", click the menu and make sure "TUN" is selected.</li>
<li>Next, go to the security tab and select as cipher "AES-128-CBC" and as HMAC Authentication "SHA-1".</li>
<li>Click the OK button at the bottom left of the window to save this change.</li>
<li>Go to the IPv6 tab and select for "Method" "Ignored" since PIA blocks IPv6 addresses <a rel="nofollow"  href="https://www.privateinternetaccess.com/helpdesk/kb/articles/why-do-you-block-ipv6-2">[2]</a>.</li>
<li>Click Save at the bottom left of the "Editing &lt;connection type&gt;" window.</li>
</ol>
<h4><span class="mw-headline" id="Usage">Usage</span></h4>
<p>Left click on the NetworkManager applet. There is a VPN Connections menu. Inside it should be the VPN connection you saved. Click on it to connect to Private Internet Access.
</p>
<p>When a gold lock has appeared over the NetworkManager applet, you are successfully connected to Private Internet Access. Visit <a rel="nofollow"  href="https://www.privateinternetaccess.com/">Private Internet Access</a> and confirm that you are connected by referring to the status message at the top of their homepage.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  If the VPN asks for a password, and you would like to avoid entering the password each time you attempt to connect, be sure to click the icon in the password box as noted previously regarding permission of credentials and change it to all users.</div>
<h3><span class="mw-headline" id="OpenVPN_command_line_approach">OpenVPN command line approach</span></h3>
<h4><span class="mw-headline" id="Installation_2">Installation</span></h4>
<p>Download <a rel="nofollow"  href="https://www.privateinternetaccess.com/openvpn/openvpn-strong.zip">OpenVPN configurations from PIA</a>. Unzip the file and move all files to <code>/etc/openvpn/client</code>. Ensure the files have <code>root</code> as the owner.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To be able to use <a href="../wiki/OpenVPN.html#systemd_service_configuration" title="OpenVPN">OpenVPN#systemd service configuration</a> (e.g <code>systemctl start openvpn-client@<i>&lt;config&gt;</i></code>), rename the all the files and replace <code>.opvn</code> extension with <code>.conf</code> and replace spaces in configuration file names with underscores.</div>
<h4><span class="mw-headline" id="Usage_2">Usage</span></h4>
<p>See <a href="../wiki/OpenVPN.html#Starting_OpenVPN" title="OpenVPN">OpenVPN#Starting OpenVPN</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To automatically login, append the name of the file containing your username and password immediately after <code>auth-user-pass</code> in the configuration file(s). See this option in <span class="plainlinks archwiki-template-man" title="$ man 8 openvpn"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/openvpn.8">openvpn(8)</a></span>for more information.</div>
<p>To test to see if you have successfully connected to the VPN, see <a rel="nofollow"  href="https://helpdesk.privateinternetaccess.com/hc/en-us/articles/231734668-Security-Best-Practices-Part-5-Testing-Your-Security">this article</a>.
</p>
<h2><span class="mw-headline" id="Automatic">Automatic</span></h2>
<h3><span class="mw-headline" id="Official_installation_script">Official installation script</span></h3>
<p>Private Internet Access has an installation script that sets up <a href="../wiki/NetworkManager.html" title="NetworkManager">NetworkManager</a> for use with the VPN. Download the script <a rel="nofollow"  href="http://www.privateinternetaccess.com/installer/pia-nm.sh">here</a> and then run to set up.
</p>
<h3><span class="mw-headline" id="Official_Linux_client">Official Linux client</span></h3>
<p>Private Internet Access now has an official client for Linux with support for TOS. Download the client from <a rel="nofollow"  href="https://www.privateinternetaccess.com/pages/download">this page</a>, unzip the file (e.g. <code>pia-v81-installer-linux.tar.gz</code>) and run the installation script (.e.g. <code># ./pia-v81-installer-linux.sh</code>).
</p>
<h3><span class="mw-headline" id="Packages">Packages</span></h3>
<ul><li>
<b>openvpn-pia</b> — The package automates the method listed in the <a href="#Manual">#Manual</a> section, including renaming the configuartion files to be used with <a href="../wiki/OpenVPN.html#systemd_service_configuration" title="OpenVPN">OpenVPN#systemd service configuration</a>, as well as setting up the OpenVPN parameter <code>auth-user-pass</code> with a file for automatic login. Upon installation read <code>/usr/share/doc/openvpn-pia/README</code> for setup.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.privateinternetaccess.com/">https://www.privateinternetaccess.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/openvpn-pia/">openvpn-pia</a></span><sup><small>AUR</small></sup><sup>[<a href="../wiki/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b>pia-nm</b> — Installs <a href="../wiki/NetworkManager.html" title="NetworkManager">NetworkManager</a> configuration files for the VPN, similar to the <a href="#Official_installation_script">#Official installation script</a>.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.privateinternetaccess.com/">https://www.privateinternetaccess.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/pia-nm/">pia-nm</a></span><sup><small>AUR</small></sup><sup>[<a href="../wiki/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>
</dd></dl>
<ul><li>
<b><a href="../wiki/Private_Internet_Access/AUR.html" title="Private Internet Access/AUR">Private Internet Access/AUR</a></b> — Installs profiles for <a href="../wiki/NetworkManager.html" title="NetworkManager">NetworkManager</a>, <a href="../wiki/ConnMan.html" title="ConnMan">ConnMan</a>, and <a href="../wiki/OpenVPN.html" title="OpenVPN">OpenVPN</a>.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.privateinternetaccess.com/">https://www.privateinternetaccess.com/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/private-internet-access-vpn/">private-internet-access-vpn</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id="Internet_.22kill_switch.22"></span><span class="mw-headline" id='Internet_"kill_switch"'>Internet "kill switch"</span>
</h3>
<p>The following <a href="../wiki/Iptables.html" title="Iptables">iptables</a> rules only allow network traffic through the <code>tun</code> interface, with the exception that traffic is allowed to PIA's DNS servers and to port 1197, which is used in establishing the VPN connection:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iptables/iptables.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">:INPUT DROP [0:0]
:FORWARD DROP [0:0]
:OUTPUT DROP [0:10]
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -i tun+ -j ACCEPT
-A OUTPUT -o lo -j ACCEPT
-A OUTPUT -d 209.222.18.222/32 -j ACCEPT
-A OUTPUT -d 209.222.18.218/32 -j ACCEPT
-A OUTPUT -p udp -m udp --dport 1197 -j ACCEPT
-A OUTPUT -o tun+ -j ACCEPT
-A OUTPUT -j REJECT --reject-with icmp-net-unreachable
COMMIT</pre>
<p>This ensures that if you are disconnected from the VPN unknowingly, no network traffic is allowed in or out.
</p>
<p>If you wish to additionally access devices on your LAN, you will need to explicitly allow them. For example, to allow access to devices on <code>192.0.0.0/24</code>, add the following two rules (before any REJECT rule):
</p>
<pre>-A INPUT -s 192.168.0.0/24 -j ACCEPT
-A OUTPUT -d 192.168.0.0/24 -j ACCEPT
</pre>
<p>Additionally, the above rules block the ICMP protocol, which is probably not desired. See <a rel="nofollow"  href="https://bbs.archlinux.org/viewtopic.php?id=224655">this thread</a> for potential pitfalls of using these iptables rules as well as more details.
</p>
<h3><span class="mw-headline" id="Setting_PIA_DNS">Setting PIA DNS</span></h3>
<p>If you find that Network Manager is controlling your host's DNS settings, and therefore your host cannot resolve any address, you will have to manually set the DNS server and attributes.
You should note a symbolic link when running the following command
</p>
<pre>ls -l /etc/resolv.conf
</pre>
<p>Remove the symbolic link with <code>rm /etc/resolv.conf</code>
Then create a new <code>/etc/resolv.conf</code> and add the following
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/resolv.conf </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">nameserver 209.222.18.222
nameserver 209.222.18.218</pre>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" ><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" ><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Using <i>resolvconf</i> after editing <code>/etc/resolv.conf</code> makes no sense. If <a href="../wiki/Openresolv.html" title="Openresolv">openresolv</a> is used then the nameservers should be set in <code>/etc/resolvconf.conf</code>, and <code>/etc/resolv.conf</code> should not be manually edited. (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Private_Internet_Access">Talk:Private Internet Access#</a>)</div>
</div>
<p>Next regenerate resolvconf by typing:
</p>
<pre># resolvconf -u
</pre>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../wiki/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Duplicates <a href="../wiki/Domain_name_resolution.html#Overwriting_of_/etc/resolv.conf" title="Domain name resolution">Domain name resolution#Overwriting of /etc/resolv.conf</a>. (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Private_Internet_Access">Talk:Private Internet Access#</a>)</div>
</div>
<p>Finally make the file immutable so no other application can modify it
</p>
<pre>chattr +i /etc/resolv.conf
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="I_can.27t_connect_to_OpenVPN_using_PIA_manager.2C_or_OpenVPN_doesn.27t_work"></span><span class="mw-headline" id="I_can't_connect_to_OpenVPN_using_PIA_manager,_or_OpenVPN_doesn't_work">I can't connect to OpenVPN using PIA manager, or OpenVPN doesn't work</span>
</h3>
<p>PIA manager still uses OpenVPN under the hood, so even if you don't directly use one of the OpenVPN methods, you still need it. Firstly, check that it's installed. If you used one of the installation scripts, this should be done for you.
</p>
<p>If you're getting errors like <code>#&lt;Errno::ECONNREFUSED: Connection refused - connect(2) for "127.0.0.1" port 31749&gt;</code>, that probably means TAP/TUN is not currently running. Either your kernel does not have it, in which case install a kernel which does (or compile a fresh one), or it isn't currently running, in which case it needs to be started:
</p>
<pre># modprobe tun
</pre>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../wiki/Category:VPN_providers.html" title="Category:VPN providers">VPN providers</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../wiki/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../wiki/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../wiki/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Private_Internet_Access&amp;oldid=614276">https://wiki.archlinux.org/index.php?title=Private_Internet_Access&amp;oldid=614276</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 18 May 2020, at 15:46.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



