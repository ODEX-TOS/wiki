<!--
    title: YouCompleteMe
    description: Migration of YouCompleteMe from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:44:33.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Vim/YouCompleteMe</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"><span >&lt; <a href="../../Vim.html" title="Vim">Vim</a></span></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p><a rel="nofollow"  href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe</a> (shortened as YCM) is a code-completion engine for <a href="../../Vim.html" title="Vim">Vim</a>. It supports the following languages:
</p>
<ul>
<li>C/C++/Objective-C/Objective-C++</li>
<li>Python</li>
<li>C#</li>
<li>Go</li>
<li>Rust</li>
<li>Java</li>
<li>JavaScript</li>
<li>TypeScript</li>
<li>Other languages (Ruby, PHP etc.) through the use of omnicompletion system</li>
</ul>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span >2</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#C/C++"><span >2.1</span> <span >C/C++</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Extra_conf_structure"><span >2.1.1</span> <span >Extra conf structure</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Extra_conf_location"><span >2.1.2</span> <span >Extra conf location</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Java"><span >2.2</span> <span >Java</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Java_-_alternative"><span >2.3</span> <span >Java - alternative</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#C#"><span >2.4</span> <span >C#</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Troubleshooting"><span >3</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#E764:_Option_'omnifunc'_is_not_set"><span >3.1</span> <span >E764: Option 'omnifunc' is not set</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#No_completion_in_Java_files"><span >3.2</span> <span >No completion in Java files</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#URLError:_&lt;urlopen_error_%5BErrno_111%5D_Connection_refused&gt;"><span >3.3</span> <span >URLError: &lt;urlopen error [Errno 111] Connection refused&gt;</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#RuntimeError:_Error_starting_OmniSharp_server:_no_solutionfile_found"><span >3.4</span> <span >RuntimeError: Error starting OmniSharp server: no solutionfile found</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span >4</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/vim-youcompleteme-git/">vim-youcompleteme-git</a></span><sup><small>AUR</small></sup> package from <a href="../../TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. For an alternative manual way of installing YouCompleteMe see <a rel="nofollow"  href="https://github.com/Valloric/YouCompleteMe#linux-64-bit">upstream instructions</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3>
<span id="C.2FC.2B.2B"></span><span class="mw-headline" id="C/C++">C/C++</span>
</h3>
<p>YCM uses a python script called <code>.ycm_extra_conf.py</code> to set project wide settings, needed to provide completion and syntax check. A brief introduction to essential configuration follows, for details and advanced options see the <a rel="nofollow"  href="https://github.com/Valloric/YouCompleteMe#options">upstream documentation</a>.
</p>
<p>Alternatively, provide a <code>compile_commands.json</code> in the project's root.
</p>
<h4><span class="mw-headline" id="Extra_conf_structure">Extra conf structure</span></h4>
<p>A sample <code>.ycm_extra_conf.py</code> may be found in <a rel="nofollow"  href="https://github.com/Valloric/ycmd/blob/master/.ycm_extra_conf.py">[1]</a>. You should save a copy of this file in your project folder and customize it with adequate settings for your source files. 
</p>
<p>The most important settings (which usually suffices for a minimal configuration) are the <code>-x</code> and <code>--std</code> options, which respectively tells the syntax checker the language used in the project and the <a href="https://en.wikipedia.org/wiki/ISO/IEC_JTC_1/SC_22"  title="wikipedia:ISO/IEC JTC 1/SC 22">standard</a> followed. The <code>-x</code> value may be set to <code>c</code> or <code>c++</code>, while common values for the <code>--std</code> are <code>--std=c89</code>, <code>--std=c99</code>, <code>--std=c11</code>, <code>--std=c14</code> and their respective c++ version. The standard parameter will determine the warning and the errors in the syntax check (e.g., a line commented with <code>//</code> will be marked as unallowed in C89, but not under following versions of the standard).
</p>
<p>A third party script and vim plugin for the automatic generation of the <code>.ycm_extra_conf.py</code> is available on <a rel="nofollow"  href="https://github.com/rdnetto/YCM-Generator">this repo</a>.
</p>
<h4><span class="mw-headline" id="Extra_conf_location">Extra conf location</span></h4>
<p>The program searches for the <code>.ycm_extra_conf.py</code> file on startup in the current source file directory and in its parent folders. If the file is not found, YCM features are not available. A global file (used as fallback when a local extra conf file is not found) may be set adding the following to <code>~/.vimrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vimrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">let g:ycm_global_ycm_extra_conf = '/path/to/the/file'</pre>
<p>Being the extra conf file a python script, when a file is found a confirmation is asked for security reason before to load it. This behaviour may be disabled adding the following to <code>~/.vimrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vimrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">let g:ycm_confirm_extra_conf = 0</pre>
<p>For a less unsecure solution, when the confirmation is enabled an extra conf file blacklist/whitelist may be set assigning a list of patterns to the <code>ycm_extra_conf_globlist</code> variable. A file matching one pattern is blacklisted if the pattern begins with <code>!</code>, whitelisted otherwise, confirmation is asked if the file does not match any pattern. Rule precedence is determined by the order, and the first match is applied. Some glob pattern rules are available:
</p>
<ul>
<li>* matches everything</li>
<li>? matches any single character</li>
<li>[seq] matches any character in seq</li>
<li>[!seq] matches any char not in seq</li>
</ul>
<p>In example, with the following setting
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vimrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">let g:ycm_extra_conf_globlist = ['~/dev/*','!~/*']</pre>
<p>any file in <code>~/dev</code> will be whitelisted, any in <code>~/</code> will be blacklisted, and due to order precedence any file in <code>~/</code> excepted the <code>~/dev</code> folder will be blacklisted.
</p>
<h3><span class="mw-headline" id="Java">Java</span></h3>
<p>YCM has integrated support for <a rel="nofollow"  href="https://github.com/eclipse/eclipse.jdt.ls">jdt.ls</a> which can be installed by passing <code>--java-completer</code> to the <code>install.py</code> script.
</p>
<h3><span class="mw-headline" id="Java_-_alternative">Java - alternative</span></h3>
<p>For Java completion, a project file should be present and Eclim headless server must be running.
</p>
<ol>
<li>
Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/eclim/">eclim</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/eclim-git/">eclim-git</a></span><sup><small>AUR</small></sup> from <a href="../../TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</li>
<li>
Put this in your <a href="../../Vim.html#Example_configurations" class="mw-redirect" title="Vim/.vimrc">.vimrc</a>:

<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vimrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">let g:EclimCompletionMethod = 'omnifunc'</pre>
</li>
<li>
Start <code>eclimd</code> script in a separate terminal:

<pre>$ /usr/lib/eclipse/plugins/org.eclim_$pkgver/bin/eclimd</pre>
</li>
<li>
Create a file named <code>.project</code> in the same directory as your Java files:

<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.project</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;projectDescription&gt;
    &lt;name&gt;<i>PROJECTNAME</i>&lt;/name&gt;
&lt;/projectDescription&gt;
</pre>
</li>
<li>
Open your Java file in Vim and run:

<pre>:ProjectCreate . -n java</pre>
</li>
</ol>
<p>To compile the project:
</p>
<pre>:ProjectBuild
</pre>
<p>To run the project:
</p>
<pre>:Java
</pre>
<p>To run only current file:
</p>
<pre>:Java %
</pre>
<p>A list of available commands may be found <a rel="nofollow"  href="http://eclim.org/cheatsheet.html">here</a>.
</p>
<h3>
<span id="C.23"></span><span class="mw-headline" id="C#">C#</span>
</h3>
<p>Before starting work with a C# project, ensure that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/msbuild-stable/">msbuild-stable</a></span><sup><small>AUR</small></sup> is installed on your system as it is a required dependency of Omnisharp-Roslyn, the C# completion engine used by YouCompleteMe. More information can be found in Omnisharp-Roslyn's <a rel="nofollow"  href="https://github.com/OmniSharp/omnisharp-roslyn/">README</a> and the following <a rel="nofollow"  href="https://github.com/OmniSharp/omnisharp-roslyn/issues/1168">Github issue</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For C# completion to "just work" simply create an empty <code>.sln</code> file in current or parent directory. The rest of this section explains how to manually create a full working C# project.</div>
<p>The easiest way to create a project is to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/monodevelop-stable/">monodevelop-stable</a></span><sup><small>AUR</small></sup>. The rest of this section explains how to manually create a C# project which can also be built from command line with <code>xbuild</code>.
</p>
<p>First create a solution file. Replace <i><b>bold-italic</b></i> names appropriately.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i><b>SOLUTION</b></i>.sln</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

Microsoft Visual Studio Solution File, Format Version 11.00
# Visual Studio 2010
Project("{00000000-0000-0000-0000-000000000000}") = "<i><b>PROJECT</b></i>", "<i><b>PROJECT</b></i>\<i><b>PROJECT</b></i>.csproj", "{11111111-1111-1111-1111-111111111111}"
EndProject
EndProject
Global
	GlobalSection(SolutionConfigurationPlatforms) = preSolution
		Debug|x86 = Debug|x86
		Release|x86 = Release|x86
	EndGlobalSection
	GlobalSection(ProjectConfigurationPlatforms) = postSolution
		{11111111-1111-1111-1111-111111111111}.Debug|x86.ActiveCfg = Debug|x86
		{11111111-1111-1111-1111-111111111111}.Debug|x86.Build.0 = Debug|x86
		{11111111-1111-1111-1111-111111111111}.Release|x86.ActiveCfg = Release|x86
		{11111111-1111-1111-1111-111111111111}.Release|x86.Build.0 = Release|x86
	EndGlobalSection
EndGlobal</pre>
<p>Then create a directory named <code>PROJECT</code> and in it a file named <code>PROJECT.csproj</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i><b>PROJECT</b></i>/<i><b>PROJECT</b></i>.csproj</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"&gt;
  &lt;PropertyGroup&gt;
    &lt;Configuration Condition=" '$(Configuration)' == '' "&gt;Debug&lt;/Configuration&gt;
    &lt;Platform Condition=" '$(Platform)' == '' "&gt;x86&lt;/Platform&gt;
    &lt;ProductVersion&gt;10.0.0&lt;/ProductVersion&gt;
    &lt;SchemaVersion&gt;2.0&lt;/SchemaVersion&gt;
    &lt;ProjectGuid&gt;{11111111-1111-1111-1111-111111111111}&lt;/ProjectGuid&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;RootNamespace&gt;<i><b>PROJECT</b></i>&lt;/RootNamespace&gt;
    &lt;AssemblyName&gt;<i><b>PROJECT</b></i>&lt;/AssemblyName&gt;
  &lt;/PropertyGroup&gt;
  &lt;PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x86' "&gt;
    &lt;DebugSymbols&gt;true&lt;/DebugSymbols&gt;
    &lt;DebugType&gt;full&lt;/DebugType&gt;
    &lt;Optimize&gt;false&lt;/Optimize&gt;
    &lt;OutputPath&gt;bin\Debug&lt;/OutputPath&gt;
    &lt;DefineConstants&gt;DEBUG;&lt;/DefineConstants&gt;
    &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;
    &lt;WarningLevel&gt;4&lt;/WarningLevel&gt;
    &lt;ConsolePause&gt;false&lt;/ConsolePause&gt;
    &lt;PlatformTarget&gt;x86&lt;/PlatformTarget&gt;
  &lt;/PropertyGroup&gt;
  &lt;PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x86' "&gt;
    &lt;DebugType&gt;full&lt;/DebugType&gt;
    &lt;Optimize&gt;true&lt;/Optimize&gt;
    &lt;OutputPath&gt;bin\Release&lt;/OutputPath&gt;
    &lt;ErrorReport&gt;prompt&lt;/ErrorReport&gt;
    &lt;WarningLevel&gt;4&lt;/WarningLevel&gt;
    &lt;ConsolePause&gt;false&lt;/ConsolePause&gt;
    &lt;PlatformTarget&gt;x86&lt;/PlatformTarget&gt;
  &lt;/PropertyGroup&gt;
  &lt;Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" /&gt;
  &lt;ItemGroup&gt;
    &lt;Compile Include="<i><b>HelloWorld.cs</b></i>" /&gt;
    &lt;Compile Include="<i><b>CSharpFile1.cs</b></i>" /&gt;
    &lt;Compile Include="<i><b>CSharpFile2.cs</b></i>" /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;</pre>
<p>Place your C# files in <code>PROJECT</code> directory and do not forget to manually add them at the bottom of <code>PROJECT/PROJECT.csproj</code>.
</p>
<p>Now YouCompleteMe should work for C# files in that directory and you can build the project. To compile the project from inside Vim:
</p>
<pre>:!xbuild
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>Remember that it might take some time for YouCompleteMe to generate a list of completion strings.
</p>
<p>The following commands are available for diagnostics:
</p>
<ul>
<li>
<code>:messages</code> - show previous errors or messages from Vim</li>
<li><code>:YcmDiags</code></li>
<li><code>:YcmDebugInfo</code></li>
</ul>
<h3>
<span id="E764:_Option_.27omnifunc.27_is_not_set"></span><span class="mw-headline" id="E764:_Option_'omnifunc'_is_not_set">E764: Option 'omnifunc' is not set</span>
</h3>
<p>If this happens for Java files, you forgot to put this in your <i>.vimrc</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vimrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">let g:EclimCompletionMethod = 'omnifunc'</pre>
<h3><span class="mw-headline" id="No_completion_in_Java_files">No completion in Java files</span></h3>
<p>Make sure <code>eclimd</code> daemon is running:
</p>
<pre>$ ps -ax|grep eclimd
</pre>
<p>and that you have first generated project files.
</p>
<h3>
<span id="URLError:_.3Curlopen_error_.5BErrno_111.5D_Connection_refused.3E"></span><span class="mw-headline" id="URLError:_&lt;urlopen_error_[Errno_111]_Connection_refused&gt;">URLError: &lt;urlopen error [Errno 111] Connection refused&gt;</span>
</h3>
<p>This error appears when you do not have a <code>.sln</code> file in current or parent directory.
</p>
<h3><span class="mw-headline" id="RuntimeError:_Error_starting_OmniSharp_server:_no_solutionfile_found">RuntimeError: Error starting OmniSharp server: no solutionfile found</span></h3>
<p>Same as above.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="https://github.com/Valloric/YouCompleteMe">GitHub page</a></li>
<li>
<a rel="nofollow"  href="http://valloric.github.io/YouCompleteMe/">Project homepage</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-03 ⓘ]</sup>
</li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../Category:Text_editors.html" title="Category:Text editors">Text editors</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../../Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Vim/YouCompleteMe&amp;oldid=614117">https://wiki.archlinux.org/index.php?title=Vim/YouCompleteMe&amp;oldid=614117</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 18 May 2020, at 06:49.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../../TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../../TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../../TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



