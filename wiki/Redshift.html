<!--
    title: Redshift
    description: Migration of Redshift from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Redshift</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p>From the <a rel="nofollow"  href="http://jonls.dk/redshift/">Redshift project web page</a>:
</p>
<dl><dd>
<a href="https://en.wikipedia.org/wiki/Redshift_(software)"  title="wikipedia:Redshift (software)">Redshift</a> adjusts the color temperature of your screen according to your surroundings. This may help your eyes hurt less if you are working in front of the screen at night. This program is inspired by <a rel="nofollow"  href="http://justgetflux.com">f.lux</a>.</dd></dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Redshift does not support <a href="../wiki/Wayland.html" title="Wayland">Wayland</a> since it offers no way to adjust the color temperature <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/55">[1]</a>. See <a href="../wiki/Wayland.html#Gamma" title="Wayland">Wayland#Gamma</a> for more.</div>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span >1</span> <span >Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Front_ends"><span >1.1</span> <span >Front ends</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Usage"><span >2</span> <span >Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Quick_start"><span >2.1</span> <span >Quick start</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Autostart"><span >2.2</span> <span >Autostart</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Configuration"><span >3</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Automatic_location_based_on_GeoClue2"><span >3.1</span> <span >Automatic location based on GeoClue2</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Automatic_location_based_on_GPS"><span >3.2</span> <span >Automatic location based on GPS</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Use_real_screen_brightness"><span >3.3</span> <span >Use real screen brightness</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Troubleshooting"><span >4</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Screen_1_could_not_be_found"><span >4.1</span> <span >Screen 1 could not be found</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Left/right_clicking_the_tray_icon_does_not_work"><span >4.2</span> <span >Left/right clicking the tray icon does not work</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Redshift_makes_the_screen_quickly_flicker_between_the_set_color_value_of_the_screen_and_the_default_color_value"><span >4.3</span> <span >Redshift makes the screen quickly flicker between the set color value of the screen and the default color value</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Redshift_works_fine_when_invoked_as_a_command_but_fails_when_run_as_a_systemd_service"><span >4.4</span> <span >Redshift works fine when invoked as a command but fails when run as a systemd service</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Redshift_does_not_appear_in_system_tray"><span >4.5</span> <span >Redshift does not appear in system tray</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Redshift_temporarily_resets_using_some_wine_apps_that_reset_gamma_values"><span >4.6</span> <span >Redshift temporarily resets using some wine apps that reset gamma values</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Redshift_GDBus.Error:org.freedesktop.DBus.Error.AccessDenied_on_start"><span >4.7</span> <span >Redshift GDBus.Error:org.freedesktop.DBus.Error.AccessDenied on start</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Redshift_turns_the_screen_green_when_resolution_is_over_1080p_while_using_Nvidia_drivers"><span >4.8</span> <span >Redshift turns the screen green when resolution is over 1080p while using Nvidia drivers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#See_also"><span >5</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../wiki/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=redshift">redshift</a></span> package. Alternatively, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/redshift-minimal/">redshift-minimal</a></span><sup><small>AUR</small></sup> package, for a version with minimal dependencies.
</p>
<h3><span class="mw-headline" id="Front_ends">Front ends</span></h3>
<p>The <i>redshift-gtk</i> command comes with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=redshift">redshift</a></span> package and provides a system tray icon for controlling Redshift. See optional dependencies.
</p>
<p>Alternatives are <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/redshiftgui-bin/">redshiftgui-bin</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/redshift-qt/">redshift-qt</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/redshiftconf/">redshiftconf</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=plasma5-applets-redshift-control">plasma5-applets-redshift-control</a></span><sup>[<a href="../wiki/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/plasma5-applets-redshift-control-git/">plasma5-applets-redshift-control-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Redshift will at least need your location to start (unless <code>-O</code> is used), meaning the latitude and longitude of your location. Redshift employs several routines for obtaining your location. If none of them works (e.g. none of the used helper programs is installed), you need to enter your location manually.
</p>
<h3><span class="mw-headline" id="Quick_start">Quick start</span></h3>
<p>To just get it up and running with a basic setup, issue:
</p>
<pre>$ redshift -l <i>LATITUDE</i>:<i>LONGITUDE</i>
</pre>
<p>where <i>LATITUDE</i> is the latitude and <i>LONGITUDE</i> is the longitude of your location.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can get the coordinates of a place with <a rel="nofollow"  href="http://www.geonames.org/">GeoNames.org</a>.</div>
<p>To instantly adjusts the color temperature of your screen use:
</p>
<pre>$ redshift -P -O <i>TEMPERATURE</i>
</pre>
<p>where <i>TEMPERATURE</i> is the desired <a href="https://en.wikipedia.org/wiki/Color_temperature"  title="wikipedia:Color temperature">color temperature</a> (between <code>1000</code> and <code>25000</code>).
</p>
<h3><span class="mw-headline" id="Autostart">Autostart</span></h3>
<p>There are several options to have Redshift automatically started:
</p>
<ul>
<li>By right-clicking the system tray icon and selecting <i>Autostart</i> when <i>redshift-gtk</i> or <i>plasma5-applets-redshift-control</i> is already launched.</li>
<li>By placing a Redshift <a href="../wiki/Desktop_entries.html" class="mw-redirect" title="Desktop entry">desktop entry</a> in <code>~/.config/autostart/</code> or by adding <code>redshift</code> to your window manager or desktop environment's <a href="../wiki/Autostarting.html" title="Autostarting">autostarting</a> method.</li>
<li>By using <a href="../wiki/Systemd/User.html" title="Systemd/User">systemd/User</a>. Two services are provided: <code>redshift.service</code> and <code>redshift-gtk.service</code>. Activate only one of them depending on whether or not you want the system tray icon.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The Redshift service files contain <code>Restart=always</code> so they will restart infinitely. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.service.5">systemd.service(5)</a></span>.</li>
<li>When using a systemd user service, <a href="../wiki/Xorg.html" title="Xorg">Xorg</a> must be started before execution of the service, which is not the case without a <a href="../wiki/Display_manager.html" title="Display manager">display manager</a>. Otherwise you will get <code>RANDR Query Version' returned error -1</code> and <code>Initialization of randr failed</code>.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Redshift reads the configuration file <code>~/.config/redshift/redshift.conf</code> <a rel="nofollow"  href="https://github.com/jonls/redshift/releases/tag/v1.12">[2]</a> if it exists. However, Redshift does not create that configuration file, so you may want to create it manually. See <a rel="nofollow"  href="https://raw.githubusercontent.com/jonls/redshift/master/redshift.conf.sample">redshift.conf.sample</a>.
</p>
<h3><span class="mw-headline" id="Automatic_location_based_on_GeoClue2">Automatic location based on GeoClue2</span></h3>
<p>First check if <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=geoclue">geoclue</a></span> backend is working by running <code>$ /usr/lib/geoclue-2.0/demos/where-am-i</code>. At this time default TOSlinux-tosAPI key for Mozilla services reaches limit (see <a rel="nofollow"  href="https://unix.stackexchange.com/questions/495333/geoclue2-insists-that-permission-is-forbidden">SO post</a> and <a rel="nofollow"  href="https://bugs.archlinux.org/task/61494">bugreport</a>) and Wi-Fi location method is banned. As workaround it's suggested to change API key to 'geoclue'.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/geoclue/geoclue.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">url=<a rel="nofollow"  href="https://location.services.mozilla.com/v1/geolocate?key=geoclue">https://location.services.mozilla.com/v1/geolocate?key=geoclue</a></pre>
<p>In order to allow access Redshift to use GeoClue2, add the following lines to <code>/etc/geoclue/geoclue.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/geoclue/geoclue.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[redshift]
allowed=true
system=false
users=</pre>
<p><a href="../wiki/Systemd.html#Using_units" class="mw-redirect" title="Restart">Restart</a> <code>redshift.service</code> and/or any other Redshift instance to apply the changes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>This workaround is not needed with Geoclue2 version 2.5.0 and above.</li>
<li>If using <a href="../wiki/GNOME.html" title="GNOME">GNOME</a>, also toggle Location Services to "On" in <i>Settings &gt; Privacy</i>.</li>
<li>Due possible bugs with geoclue2 and Redshift <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/318">[3]</a>, it may be required to use the <code>manual</code> location-provider instead, e.g. for Paris:</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/redshift/redshift.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[redshift]
...
; Set the location-provider: 'geoclue2', 'manual'
; type 'redshift -l list' to see possible values.
; The location provider settings are in a different section.
location-provider=manual

...

; Keep in mind that longitudes west of Greenwich (e.g. the Americas)
; are negative numbers.
[manual]
lat=48.864716
lon=2.349014</pre>
<ul><li>If using <a href="../wiki/I3.html" class="mw-redirect" title="I3wm">i3wm</a> or similar, you will also need to enable the geoclue agent on startup. As well as <code>systemctl --user enable redshift-gtk</code> or <code>redshift</code> user service.</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.i3/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
exec --no-startup-id /usr/lib/geoclue-2.0/demos/agent
...</pre>
</div>
<h3><span class="mw-headline" id="Automatic_location_based_on_GPS">Automatic location based on GPS</span></h3>
<p>You can also use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=gpsd">gpsd</a></span> to automatically determine your <a href="../wiki/GPS.html" title="GPS">GPS</a> location and use it as an input for Redshift. Create the following script and pass <code>$lat</code> and <code>$lon</code> to <code>redshift -l $lat;$lon</code>:
</p>
<pre>#!/bin/bash
date
#gpsdata=$( gpspipe -w -n 10 |   grep -m 1 lon )
gpsdata=$( gpspipe -w | grep -m 1 TPV )
lat=$( echo "$gpsdata"  | jsawk 'return this.lat' )
lon=$( echo "$gpsdata"  | jsawk 'return this.lon' )
alt=$( echo "$gpsdata"  | jsawk 'return this.alt' )
dt=$( echo "$gpsdata" | jsawk 'return this.time' )
echo "$dt"
echo "You are here: $lat, $lon at $alt"
</pre>
<p>For more information, see <a rel="nofollow"  href="https://bbs.archlinux.org/viewtopic.php?pid=1389735#p1389735">this</a> forums thread.
</p>
<h3><span class="mw-headline" id="Use_real_screen_brightness">Use real screen brightness</span></h3>
<p>Redshift has a brightness adjustment setting, but it does not work the way most people might expect. In fact it is a fake brightness adjustment obtained by manipulating the gamma ramps, which means that it does not reduce the backlight of the screen. <a rel="nofollow"  href="http://jonls.dk/redshift/#known-bugs-and-limitations">[4]</a>
</p>
<p>Changing screen backlight is possible with redshift hooks and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xorg-xrandr">xorg-xrandr</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span> but, please see <a href="../wiki/Backlight.html#xbacklight" title="Backlight">Backlight#xbacklight</a> as there are some limitations and you may have to find another method of controlling the backlight depending on your hardware.
</p>
<p>You need to create a file in <code>~/.config/redshift/hooks</code> and make it executable. You can use and edit the following example:
</p>
<pre>$ mkdir -p ~/.config/redshift/hooks
</pre>
<p>Create and adjust the following script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/redshift/hooks/brightness.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Set brightness via xbrightness when redshift status changes

# Set brightness values for each status.
# Range from 1 to 100 is valid
brightness_day=100
brightness_transition=50
brightness_night=10
# Set fade time for changes to one minute
fade_time=60000

if [ "$1" = period-changed ]; then
	case $3 in
		night)
			xbacklight -set $brightness_night -time $fade_time
			;;
		transition)
			xbacklight -set $brightness_transition -time $fade_time
			;;
		daytime)
			xbacklight -set $brightness_day -time $fade_time
			;;
	esac
fi</pre>
<p>Make it <a href="../wiki/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>:
</p>
<pre>$ chmod +x ~/.config/redshift/hooks/brightness.sh
</pre>
<p><a href="../wiki/Systemd.html#Using_units" class="mw-redirect" title="Restart">Restart</a> the <code>redshift.service</code> to apply changes.
</p>
<p>Check the service status as it should <b>not</b> contain the following message:
</p>
<pre>redshift[..]: No outputs have backlight property
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Screen_1_could_not_be_found">Screen 1 could not be found</span></h3>
<p>Locate configuration-file "redshift.conf" in your distribution and change "screen 1" to "screen 0".
</p>
<h3>
<span id="Left.2Fright_clicking_the_tray_icon_does_not_work"></span><span class="mw-headline" id="Left/right_clicking_the_tray_icon_does_not_work">Left/right clicking the tray icon does not work</span>
</h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=libappindicator-gtk3">libappindicator-gtk3</a></span>. See <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/363">redshift issue 363</a> and <a rel="nofollow"  href="https://bugs.archlinux.org/task/49971">FS#49971</a>.
</p>
<h3><span class="mw-headline" id="Redshift_makes_the_screen_quickly_flicker_between_the_set_color_value_of_the_screen_and_the_default_color_value">Redshift makes the screen quickly flicker between the set color value of the screen and the default color value</span></h3>
<p>Make sure there are not multiple instances of redshift running.
</p>
<h3><span class="mw-headline" id="Redshift_works_fine_when_invoked_as_a_command_but_fails_when_run_as_a_systemd_service">Redshift works fine when invoked as a command but fails when run as a systemd service</span></h3>
<p>The <a href="../wiki/Systemd.html" title="Systemd">systemd</a> unit has a line in the <code>redshift.service</code> file that makes the service wait until the <code>display-manager.service</code> unit is started by a <a href="../wiki/Display_manager.html" title="Display manager">display manager</a> before the unit will invoke <code>redshift</code>. If you do not use a display manager, <a href="../wiki/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> the <code>redshift.service</code> user service and delete the <code>After=display-manager.service</code> line. Run <code>systemctl --user daemon-reload</code> and the service should initialize properly.
</p>
<h3><span class="mw-headline" id="Redshift_does_not_appear_in_system_tray">Redshift does not appear in system tray</span></h3>
<p>If running the <code>$ redshift-gtk</code> command does not start in the system tray, but instead you get the following output
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ redshift-gtk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Traceback (most recent call last):
  File "/usr/bin/redshift-gtk", line 26, in &lt;module&gt;
    from redshift_gtk.statusicon import run
  File "/usr/lib/python3.8/site-packages/redshift_gtk/statusicon.py", line 31, in &lt;module&gt;
    gi.require_version('Gtk', '3.0')
AttributeError: module 'gi' has no attribute 'require_version'
</pre>
<p>you will need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-gobject">python-gobject</a></span>.
</p>
<h3><span class="mw-headline" id="Redshift_temporarily_resets_using_some_wine_apps_that_reset_gamma_values">Redshift temporarily resets using some wine apps that reset gamma values</span></h3>
<p>If you notice that using some wine apps, redshift seems to reset temporarily upon launch, or adjusting settings, or etc, then there is a useful registry key that seems to alleviate this. See <a rel="nofollow"  href="https://www.winehq.org/pipermail/wine-bugs/2015-January/403770.html">[5]</a> and <a rel="nofollow"  href="https://wiki.winehq.org/UsefulRegistryKeys">[6]</a>. Set or create the string value
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">HKEY_CURRENT_USER\Software\Wine\X11 Driver</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">UseXVidMode="N"</pre>
<p>using the registry editor, or import/set it otherwise.
</p>
<h3><span class="mw-headline" id="Redshift_GDBus.Error:org.freedesktop.DBus.Error.AccessDenied_on_start">Redshift GDBus.Error:org.freedesktop.DBus.Error.AccessDenied on start</span></h3>
<p>If running <code>$ redshift</code> and you are getting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ redshift</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Trying location provider `geoclue2'...
Using provider `geoclue2'.
Unable to start GeoClue client: GDBus.Error:org.freedesktop.DBus.Error.AccessDenied: 'redshift' disallowed, no agent for UID 1000.
Unable to connect to GeoClue.
Unable to get location from provider.
</pre>
<p>or running <code>$ redshift-gtk</code> and getting the similar error:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ redshift-gtk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Failed to run Redshift
Trying location provider `geoclue2'...
Unable to start GeoClue client:
GDBus.Error:org.freedesktop.DBus.Error.AccessDenied:
'redshift' disallowed, no agent for UID 1000.
Unable to connect to GeoClue.
Unable to get location from provider.
</pre>
<p>You can create a <a href="../wiki/Systemd.html" title="Systemd">systemd</a> unit file in <code>~/.config/systemd/user/geoclue-agent.service</code> with the following config:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/geoclue-agent.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=redshift needs to get a (geo)clue

[Service]
ExecStart=/usr/lib/geoclue-2.0/demos/agent

[Install]
WantedBy=default.target</pre>
<p>Start and enable the service with systemctl: <code>$ systemctl --user enable --now geoclue-agent.service</code> and try running redshift again.
</p>
<p>If you still get the same error, it may be because of geoclue being locked down to a few programs by default. Try adding the following lines to <code>/etc/geoclue/geoclue.conf</code> (see <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/158#issuecomment-71329118">redshift issue 158</a> and <a rel="nofollow"  href="https://bugs.archlinux.org/task/40360">FS#40360</a>) and run <code>$ redshift</code> again:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/geoclue/geoclue.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[redshift]
allowed=true
system=false
users=</pre>
<h3><span class="mw-headline" id="Redshift_turns_the_screen_green_when_resolution_is_over_1080p_while_using_Nvidia_drivers">Redshift turns the screen green when resolution is over 1080p while using Nvidia drivers</span></h3>
<p>This is a bug with the nvidia drivers. A fix for this is to make the following edit:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
    ...
    Option         "UseNvKmsCompositionPipeline" "false"
    ...
EndSection</pre>
<p>For more information, see <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/587">redshift issue 587</a> and <a rel="nofollow"  href="https://github.com/jonls/redshift/issues/720">redshift issue 720</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="http://jonls.dk/redshift">Redshift website</a></li>
<li><a rel="nofollow"  href="http://github.com/jonls/redshift">Redshift on github</a></li>
<li><a href="https://en.wikipedia.org/wiki/Redshift_(software)"  title="wikipedia:Redshift (software)">Wikipedia:Redshift (software)</a></li>
<li>Similar software: <a rel="nofollow"  href="https://github.com/jumper149/blugon">[7]</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/blugon/">blugon</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/xflux-gui-git/">xflux-gui-git</a></span><sup><small>AUR</small></sup>
</li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../wiki/Category:X_server.html" title="Category:X server">X server</a></li>
<li><a href="../wiki/Category:Eye_candy.html" title="Category:Eye candy">Eye candy</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../wiki/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Redshift&amp;oldid=605131">https://wiki.archlinux.org/index.php?title=Redshift&amp;oldid=605131</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 9 April 2020, at 09:29.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



