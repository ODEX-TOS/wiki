<!--
    title: IRiver_iFP_Audio_Players
    description: Migration of IRiver_iFP_Audio_Players from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:44:33.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">iRiver iFP Audio Players</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" ><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" ><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The kernel modules section might be irrelevant. The udev rules section is out-of-date. Other sections may be out-of-date as well. (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:IRiver_iFP_Audio_Players">Talk:IRiver iFP Audio Players#</a>)</div>
</div>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Description"><span >1</span> <span >Description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Configure_needed_kernel_modules"><span >1.1</span> <span >Configure needed kernel modules</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Install_iRiver_driver/manager_software"><span >1.2</span> <span >Install iRiver driver/manager software</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Verify_that_you_can_connect_to_your_iRiver_device"><span >1.3</span> <span >Verify that you can connect to your iRiver device</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Midnight_Commander_setup"><span >1.4</span> <span >Midnight Commander setup</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Setting_up_udev_to_automatically_assign_permissions"><span >1.5</span> <span >Setting up udev to automatically assign permissions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Notes"><span >2</span> <span >Notes</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Upgrading_firmware"><span >2.1</span> <span >Upgrading firmware</span></a></li>
</ul>
</li>
</ul>
</div>

<h3><span class="mw-headline" id="Description">Description</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=libifp">libifp</a></span>, which provides the <code>ifpline</code> command, lets you manage your <a href="https://en.wikipedia.org/wiki/Iriver#Discontinued_2"  title="wikipedia:Iriver">iRiver</a> MP3 music player acting in "Manager Mode" ONLY.
If your player is using "UMS Mode", then you do not need this program; it will appear as a new drive when you plug it in.
At the time of writing, only Manager Mode can play <a href="https://en.wikipedia.org/wiki/Vorbis"  title="wikipedia:Vorbis">Ogg Vorbis</a> format files.
</p>
<p>libifp can upload and download files and directories, delete and create directories on the device, format the device, and upgrade your firmware.
It effectively manages most of the tasks performed by the iRiver software provided for Windows, while being faster and more stable.
</p>
<p>It is recommended that it is used in conjunction with <a href="https://en.wikipedia.org/wiki/Midnight_Commander"  title="wikipedia:Midnight Commander">Midnight Commander</a> to help manage your music files more effectively.
</p>
<h4><span class="mw-headline" id="Configure_needed_kernel_modules">Configure needed kernel modules</span></h4>
<p>Refer to <a href="../Kernel_module.html#Obtaining_information" class="mw-redirect" title="Kernel modules">Kernel modules#Obtaining information</a> to make sure the modules <code>usbserial</code> and <code>usb_storage</code> are loaded.
</p>
<h4>
<span id="Install_iRiver_driver.2Fmanager_software"></span><span class="mw-headline" id="Install_iRiver_driver/manager_software">Install iRiver driver/manager software</span>
</h4>
<p><a href="../Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=libifp">libifp</a></span> package, and then reboot the system.
</p>
<h4><span class="mw-headline" id="Verify_that_you_can_connect_to_your_iRiver_device">Verify that you can connect to your iRiver device</span></h4>
<p>Connect iRiver device to your PC with the supplied USB cable and then run this command:
</p>
<pre>$ ifpline ls /
</pre>
<p>If successful, the output should display the root directory on your iRiver, similar to this:
</p>
<pre>d VOICE
d RECORD
d music
</pre>
<h4><span class="mw-headline" id="Midnight_Commander_setup">Midnight Commander setup</span></h4>
<ul>
<li>
<a href="../Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> Midnight Commander, provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=mc">mc</a></span> package.</li>
<li>Copy the <code>ifpline</code> binary to the Midnight Commander extfs directory</li>
</ul>
<pre># cp /usr/bin/ifpline /usr/share/mc/extfs/
</pre>
<ul><li>Edit <code>/usr/share/mc/extfs/extfs.ini</code> and add a new line at the bottom:</li></ul>
<pre>ifpline
</pre>
<ul>
<li>Save changes to <code>extfs.ini</code>
</li>
<li>Start Midnight Commander, and in its command line, enter:</li>
</ul>
<pre>cd /#ifpline
</pre>
<p>You should now have full access to your iRiver directories via Midnight Commander.
You will be able to copy and delete music tracks as you wish.
</p>
<h4><span class="mw-headline" id="Setting_up_udev_to_automatically_assign_permissions">Setting up udev to automatically assign permissions</span></h4>
<p>Put the following into the file <code>/etc/udev/rules.d/ifpdev.rules</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/ifpdev.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> # udev rules file for supported ifp devices
 #
 # To add an USB ifp device, add a rule to the list below between the SUBSYSTEM...
 # and LABEL... lines.
 #
 # To run a script when your ifp is plugged in, add RUN="/path/to/script"
 # to the appropriate rule.
 #
 
 SUBSYSTEM!="usb_device", ACTION!="add", GOTO="libifp_rules_end"
 
 # ifp-1xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1001", GROUP="storage"
 # ifp-3xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1003", GROUP="storage"
 # ifp-5xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1005", GROUP="storage"
 # ifp-7xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1007", GROUP="storage"
 # ifp-8xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1008", GROUP="storage"
 # ifp-9xx
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1009", GROUP="storage"
 # ifpdev
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1010", GROUP="storage"
 # The N10
 SYSFS{idVendor}=="4102", SYSFS{idProduct}=="1011", GROUP="storage"
 
 LABEL="libifp_rules_end"
</pre>
<p>And add the user you want to have permissions to the <code>storage</code> <a href="../Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a>:
</p>
<pre># gpasswd -a username storage
</pre>
<h3><span class="mw-headline" id="Notes">Notes</span></h3>
<p>Do not delete the default folders in the <code>/</code> directory of your iRiver — it may cause issues!
</p>
<p>Midnight Commander, by default, preserves file permissions when copying files. Because these file permissions cannot be written to your iRiver, an error message will be displayed after each file copy. To prevent these messages from appearing, uncheck the "preserve attributes" check box on Midnight Commander's copy dialog.
</p>
<p>If you frequently copy directories to your iRiver rather than individual tracks, then select the directory to copy and check the "Dive into subdir if exists" checkbox.
</p>
<p>The <code>ifpline</code> commands can easily be incorporated into your own shell scripts to make the management of your iRiver even easier! Run <code>ifpline</code> for a list of all supported commands.
</p>
<h4><span class="mw-headline" id="Upgrading_firmware">Upgrading firmware</span></h4>
<ol>
<li>Get the firmware for the manager version and name it <code>IFP-3XXT.HEX</code>.</li>
<li>Run <code>ifpline firmupdate ./IFP-3XXT.HEX</code>.</li>
<li>Wait for the device to update, concluding in a power-off.</li>
<li>Unplug everything, turn on the player, and plug it back in.</li>
<li>Run <code>ifpline ls /</code> to see some files and ensure it is working.</li>
</ol>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category:Mobile_devices.html" title="Category:Mobile devices">Mobile devices</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=IRiver_iFP_Audio_Players&amp;oldid=548754">https://wiki.archlinux.org/index.php?title=IRiver_iFP_Audio_Players&amp;oldid=548754</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 20 October 2018, at 13:03.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



