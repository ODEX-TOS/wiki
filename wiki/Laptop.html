<!--
    title: Laptop
    description: Migration of Laptop from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:44:33.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Laptop</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p>This <b>Laptop main page</b> contains links to articles (sections) needed for configuring a laptop for the best experience. Setting up a laptop is in many ways the same as setting up a desktop. However, there are a few key differences. TOS Linux provides all the tools and programs necessary to take complete control of your laptop. These programs and utilities are highlighted below, with appropriate tips tutorials. 
</p>
<p>To gain an overview of the reported/achieved Linux hardware compatibility of a particular laptop model, see the results per vendor of below subpages. 
</p>
<div class="archwiki-template-box" style="background-color: #f9faff; border-color:#d7dfe3; text-align: center;">
<a href="../Laptop/Acer.html" title="Laptop/Acer">Acer</a> – <a href="../Laptop/Apple.html" title="Laptop/Apple">Apple</a> – <a href="../Laptop/ASUS.html" title="Laptop/ASUS">ASUS</a> – <a href="../Laptop/Dell.html" title="Laptop/Dell">Dell</a> – <a href="../Laptop/Fujitsu.html" title="Laptop/Fujitsu">Fujitsu</a> – <a href="../Laptop/HP.html" title="Laptop/HP">HP</a> – <a href="../Laptop/Lenovo.html" title="Laptop/Lenovo">IBM/Lenovo</a> – <a href="../Laptop/MSI.html" title="Laptop/MSI">MSI</a> – <a href="../Laptop/Samsung.html" title="Laptop/Samsung">Samsung</a> – <a href="../Laptop/Sony.html" title="Laptop/Sony">Sony</a> – <a href="../Laptop/Toshiba.html" title="Laptop/Toshiba">Toshiba</a> – <a href="../Laptop/Other.html" title="Laptop/Other">Other</a>
</div>
<p>If there are laptop model specific instructions, the respective article is crosslinked in the first column of the vendor subpages. In case the model is not listed in the vendor table, existing instructions of similar models via the <a href="../Category:Laptops.html" title="Category:Laptops">Category:Laptops</a> vendor subcategory may help. 
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Power_management"><span >1</span> <span >Power management</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Battery_state"><span >1.1</span> <span >Battery state</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#ACPI"><span >1.1.1</span> <span >ACPI</span></a></li>
<li class="toclevel-3 tocsection-4">
<a href="#Hibernate_on_low_battery_level"><span >1.1.2</span> <span >Hibernate on low battery level</span></a>
<ul>
<li class="toclevel-4 tocsection-5"><a href="#Testing_events"><span >1.1.2.1</span> <span >Testing events</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Suspend_and_Hibernate"><span >1.2</span> <span >Suspend and Hibernate</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Hard_drive_spin_down_problem"><span >1.3</span> <span >Hard drive spin down problem</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Modify_wake_events"><span >1.4</span> <span >Modify wake events</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Hardware_support"><span >2</span> <span >Hardware support</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Screen_brightness"><span >2.1</span> <span >Screen brightness</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Touchpad"><span >2.2</span> <span >Touchpad</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Fingerprint_Reader"><span >2.3</span> <span >Fingerprint Reader</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Webcam"><span >2.4</span> <span >Webcam</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Hard_disk_shock_protection"><span >2.5</span> <span >Hard disk shock protection</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Hybrid_graphics"><span >2.6</span> <span >Hybrid graphics</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Network_time_syncing"><span >3</span> <span >Network time syncing</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#See_also"><span >4</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Power_management">Power management</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You should read the main article <a href="../Power_management.html" title="Power management">Power management</a>. Additional laptop-specific features are described below.</div>
<p>Power management is very important for anyone who wishes to make good use of their battery capacity. The following tools and programs help to increase battery life and keep your laptop cool and quiet.
</p>
<h3><span class="mw-headline" id="Battery_state">Battery state</span></h3>
<p>Reading battery state can be done in multiple ways. Classical method is some daemon periodically polling battery level using ACPI interface. On some systems, the battery sends events to <a href="../Udev.html" title="Udev">udev</a> whenever it (dis)charges by 1%, this event can be connected to some action using a udev rule.
</p>
<h4><span class="mw-headline" id="ACPI">ACPI</span></h4>
<p>Battery state can be read using ACPI utilities from the terminal. ACPI command line utilities are provided via the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=acpi">acpi</a></span> package. See <a href="../ACPI_modules.html" title="ACPI modules">ACPI modules</a> for more information.
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=cbatticon">cbatticon</a></span> is a battery icon that sits in the system tray.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/batterymon-clone/">batterymon-clone</a></span><sup><small>AUR</small></sup> is a battery monitor that sits in the system tray, similar to batti.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/batify/">batify</a></span><sup><small>AUR</small></sup> is an udevrule file triggering plug and battery level notifications (multi-x sessions support).</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/batsignal/">batsignal</a></span><sup><small>AUR</small></sup> is a lightweight battery monitor daemon that uses libnotify to warn of low battery levels.</li>
</ul>
<h4><span class="mw-headline" id="Hibernate_on_low_battery_level">Hibernate on low battery level</span></h4>
<p>If your battery sends events to <a href="../Udev.html" title="Udev">udev</a> whenever it (dis)charges by 1%, you can use this udev rule to automatically hibernate the system when battery level is critical, and thus prevent all unsaved work from being lost.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Not all batteries report discharge events. Test by running <code>udevadm monitor --property</code> while on battery and see if any events are reported. You should wait at least 1% drop. If no events are reported and <code>/sys/class/power_supply/BAT0/alarm</code> is non-zero then the battery will likely trigger an event when <code>BAT0/energy_now</code> drops below the alarm value, and the udev rule will work as long as the percentage math works out. Some laptops have an option for this disabled in BIOS by default.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-lowbat.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Suspend the system when battery level drops to 5% or lower
SUBSYSTEM=="power_supply", ATTR{status}=="Discharging", ATTR{capacity}=="[0-5]", RUN+="/usr/bin/systemctl hibernate"
</pre>
<p>This rule will be repeated whenever the condition is set. As such, when resuming from hibernate when the battery is critical, the computer will hibernate directly. Some laptops do not boot beyond a certain battery level, so the rule could be adjusted accordingly. 
</p>
<p>If you have more than one battery or if you are using a battery powered peripheral device, the rule could be triggered unexpectedly by another battery discharging; this can be fixed by checking <code>/sys/class/power_supply/nameOfMainBattery/attributesAndOtherDirectories</code> for another pair attribute/value to add to your udev rule. This further attribute must be specific to the main battery, for example <code><i>model_name</i></code>.
</p>
<p>Batteries can jump to a lower value instead of discharging continuously, therefore a udev string matching pattern for all capacities 0 through 5 is used.
</p>
<p>Other rules can be added to perform different actions depending on power supply status and/or capacity.
</p>
<p>If your system has no or missing ACPI events, use <a href="../Cron.html" title="Cron">cron</a> with the following script which uses <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=acpi">acpi</a></span>:
</p>
<pre>#!/bin/sh
acpi -b | awk -F'[,:%]' '{print $2, $3}' | {
	read -r status capacity

	if [ "$status" = Discharging -a "$capacity" -lt 5 ]; then
		logger "Critical battery threshold"
		systemctl hibernate
	fi
}
</pre>
<p>If you have more than one battery or if you are using a battery powered peripheral device, you should modify the second line of the script by adding <code>grep</code> to monitor the correct battery like so: <code>acpi -b | grep "Battery 0" | awk -F'[,:%]' '{print $2, $3}' | {</code>. Replace <code>Battery 0</code> with your required battery as reported by <code>acpi -b</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Unplugging a battery or peripheral device may break your script since it can cause remaining batteries to be renamed, i.e. when <code>Battery 0</code> is unplugged, <code>Battery 1</code> becomes <code>Battery 0</code> automatically, and so on.</div>
<h5><span class="mw-headline" id="Testing_events">Testing events</span></h5>
<p>One way to test udev rules is to have them create a file when they are run. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/98-discharging.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="power_supply", ATTR{status}=="Discharging", RUN+="/usr/bin/touch /home/example/discharging"
</pre>
<p>This creates a file at <code>/home/example/discharging</code> when the laptop charger is unplugged. You can test whether the rule worked by unplugging your laptop and looking for this file. For more advanced udev rule testing, see <a href="../Udev.html#Testing_rules_before_loading" title="Udev">Udev#Testing rules before loading</a>.
</p>
<h3><span class="mw-headline" id="Suspend_and_Hibernate">Suspend and Hibernate</span></h3>
<p>Manually suspending the operating system, either to memory (standby) or to disk (hibernate) sometimes provides the most efficient way to optimize battery life, depending on the usage pattern of the laptop.
</p>
<p>See the main article <a href="../Power_management/Suspend_and_hibernate.html" class="mw-redirect" title="Suspend and hibernate">Suspend and hibernate</a>.
</p>
<h3><span class="mw-headline" id="Hard_drive_spin_down_problem">Hard drive spin down problem</span></h3>
<p>Documented <a rel="nofollow"  href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695">here</a>.
</p>
<p>To prevent your laptop hard drive from spinning down too often, set less aggressive power management as described in <a href="../Hdparm.html#Power_management_configuration" title="Hdparm">hdparm#Power management configuration</a>. Even the default values may be too aggressive.
</p>
<h3><span class="mw-headline" id="Modify_wake_events">Modify wake events</span></h3>
<p>Events which cause the system to resume from <a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface#Power_states"  title="w:Advanced Configuration and Power Interface">power states</a> can be regulated in <code>/proc/acpi/wakeup</code>. Writing an entry from the <i>Device</i> column toggles the status from <code>enabled</code> to <code>disabled</code>, or vice-versa.
</p>
<p>For example, to disable waking from suspend (S3) on opening the lid, run:
</p>
<pre># echo LID &gt; /proc/acpi/wakeup
</pre>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" ><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" ><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> "Permanent toggling" is not the desired behaviour considering that <i>systemd-tmpfiles</i> can be run repeatedly. (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Laptop">Talk:Laptop#</a>)</div>
</div>
<p>This change can be made permanent with <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/tmpfiles.d.5">tmpfiles.d(5)</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/disable-lid-wakeup.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /proc/acpi/wakeup - - - - LID</pre>
<h2><span class="mw-headline" id="Hardware_support">Hardware support</span></h2>
<h3><span class="mw-headline" id="Screen_brightness">Screen brightness</span></h3>
<p>See <a href="../Backlight.html" title="Backlight">Backlight</a>.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>To get your touchpad working properly, see the <a href="../Libinput.html" title="Libinput">libinput</a> page. <a href="../Touchpad_Synaptics.html" title="Touchpad Synaptics">Touchpad Synaptics</a> is the older input driver, which is currently in maintenance mode and is no longer updated.
</p>
<h3><span class="mw-headline" id="Fingerprint_Reader">Fingerprint Reader</span></h3>
<p>See <a href="../Fingerprint_GUI.html" class="mw-redirect" title="Fingerprint-gui">Fingerprint-gui</a>, <a href="../Fprint.html" title="Fprint">fprint</a> and <a href="../ThinkFinger.html" title="ThinkFinger">ThinkFinger</a> (for ThinkPads).
</p>
<h3><span class="mw-headline" id="Webcam">Webcam</span></h3>
<p>See <a href="../Webcam_setup.html" title="Webcam setup">Webcam setup</a>.
</p>
<h3><span class="mw-headline" id="Hard_disk_shock_protection">Hard disk shock protection</span></h3>
<p>There are several laptops from different vendors featuring shock protection capabilities. As manufacturers have refused to support open source development of the required software components so far, Linux support for shock protection varies considerably between different hardware implementations.
</p>
<p>Currently, two projects, named <a href="../Hard_Drive_Active_Protection_System.html" class="mw-redirect" title="HDAPS">HDAPS</a> and <a href="../Hpfall.html" title="Hpfall">Hpfall</a> (available in the <a href="../TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>), support this kind of protection. HDAPS is for IBM/Lenovo Thinkpads and hpfall for HP/Compaq laptops.
</p>
<h3><span class="mw-headline" id="Hybrid_graphics">Hybrid graphics</span></h3>
<p>The laptop manufacturers developed new technologies involving two graphic cards in an single computer, enabling both high performance and power saving usages. These laptops usually use an Intel chip for display by default, so an <a href="../Intel_graphics.html" title="Intel graphics">Intel graphics</a> driver is needed first. Then you can <a href="../Hybrid_graphics.html" title="Hybrid graphics">choose methods</a> to utilize the second graphics chip.
</p>
<h2><span class="mw-headline" id="Network_time_syncing">Network time syncing</span></h2>
<p>For a laptop, it may be a good idea to use <a href="../Chrony.html" title="Chrony">Chrony</a> as an alternative to <a href="../Network_Time_Protocol_daemon.html" class="mw-redirect" title="NTPd">NTPd</a>, <a href="../OpenNTPD.html" title="OpenNTPD">OpenNTPD</a> or <a href="../Systemd-timesyncd.html" title="Systemd-timesyncd">systemd-timesyncd</a> to sync your clock over the network. Chrony is designed to work well even on systems with no permanent network connection (such as laptops), and is capable of much faster time synchronisation than standard ntp. Chrony has several advantages when used in systems running on virtual machines, such as a larger range for frequency correction to help correct quickly drifting clocks, and better response to rapid changes in the clock frequency. It also has a smaller memory footprint and no unnecessary process wakeups, improving power efficiency.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<dl><dt>General</dt></dl>
<ul>
<li>
<a href="../CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a> is a technology used primarily by notebooks which enables the OS to scale the CPU frequency up or down, depending on the current system load and/or power scheme.</li>
<li>
<a href="../Display_Power_Management_Signaling.html" title="Display Power Management Signaling">Display Power Management Signaling</a> describes how to automatically turn off the laptop screen after a specified interval of inactivity (not just blanked with a screensaver but completely shut off).</li>
<li>
<a href="../Network_configuration/Wireless.html" class="mw-redirect" title="Wireless network configuration">Wireless network configuration</a> provides information about setting up wireless connection.</li>
<li>
<a href="../Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a> describes configuration of Media keys.</li>
<li>
<a href="../Acpid.html" title="Acpid">acpid</a> which is a flexible and extensible daemon for delivering ACPI events.</li>
</ul>
<dl><dt>Pages specific to certain laptop types</dt></dl>
<ul>
<li>See <a href="../Category:Laptops.html" title="Category:Laptops">Category:Laptops</a> and its subcategories for pages dedicated to specific models/vendors.</li>
<li>Battery tweaks for ThinkPads can be found in <a href="../TLP.html" title="TLP">TLP</a> and the <a href="../Tp_smapi.html" title="Tp smapi">tp_smapi</a> article.</li>
<li>
<a href="../Acer_Aspire_One.html#acerhdf" title="Acer Aspire One">acerhdf</a> is a kernel module for controlling fan speed on Acer Aspire One and some Packard Bell Notebooks.</li>
</ul>
<dl><dt>External resources</dt></dl>
<ul>
<li><a rel="nofollow"  href="http://www.linux-on-laptops.com/">http://www.linux-on-laptops.com/</a></li>
<li><a rel="nofollow"  href="http://www.linlap.com/">http://www.linlap.com/</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category:Laptops.html" title="Category:Laptops">Laptops</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Laptop&amp;oldid=612579">https://wiki.archlinux.org/index.php?title=Laptop&amp;oldid=612579</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 12 May 2020, at 22:34.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



