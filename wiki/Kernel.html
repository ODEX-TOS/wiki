<!--
    title: Kernel
    description: Migration of Kernel from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:44:33.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Kernel</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../Kernel_module.html" class="mw-redirect" title="Kernel modules">Kernel modules</a></li>
<li><a href="../Compile_kernel_module.html" title="Compile kernel module">Compile kernel module</a></li>
<li><a href="../General_troubleshooting.html#Kernel_panics" class="mw-redirect" title="Kernel Panics">Kernel Panics</a></li>
<li><a href="../Sysctl.html" title="Sysctl">sysctl</a></li>
</ul>
</div>
<p>According to Wikipedia:
</p>
<dl><dd>The <a href="https://en.wikipedia.org/wiki/Linux_kernel"  title="wikipedia:Linux kernel">Linux kernel</a> is an open-source monolithic Unix-like computer <a href="https://en.wikipedia.org/wiki/Kernel_(operating_system)"  title="wikipedia:Kernel (operating system)">operating system kernel</a>.</dd></dl>
<p><a href="../TOS_Linux.html" title="TOS Linux">TOS Linux</a> is based on the Linux kernel. There are various alternative Linux kernels available for TOS Linux in addition to the latest stable kernel. This article lists some of the options available in the repositories with a brief description of each. There is also a description of patches that can be applied to the system's kernel. The article ends with an overview of custom kernel compilation with links to various methods.
</p>
<p>Kernel packages are <a href="../Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a> onto the file system under <code>/boot/</code>. To be able to boot into kernels, the <a href="../TOS_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> has to be configured appropriately.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Officially_supported_kernels"><span >1</span> <span >Officially supported kernels</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Compilation"><span >2</span> <span >Compilation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#kernel.org_kernels"><span >3</span> <span >kernel.org kernels</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Patches_and_patchsets"><span >4</span> <span >Patches and patchsets</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Major_patchsets"><span >4.1</span> <span >Major patchsets</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Other_patchsets"><span >4.2</span> <span >Other patchsets</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#See_also"><span >5</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Officially_supported_kernels">Officially supported kernels</span></h2>
<ul><li>
<b>Stable</b> — Vanilla Linux kernel and modules, with a few patches applied.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux">linux</a></span>
</dd></dl>
<ul><li>
<b>Hardened</b> — A security-focused Linux kernel applying a set of hardening patches to mitigate kernel and userspace exploits. It also enables more upstream kernel hardening features than <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux">linux</a></span>.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://github.com/anthraxx/linux-hardened">https://github.com/anthraxx/linux-hardened</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux-hardened">linux-hardened</a></span>
</dd></dl>
<ul><li>
<b>Longterm</b> — Long-term support (LTS) Linux kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux-lts">linux-lts</a></span>
</dd></dl>
<ul><li>
<b>Zen Kernel</b> — Result of a collaborative effort of kernel hackers to provide the best Linux kernel possible for everyday systems. Some more details can be found on <a rel="nofollow"  href="https://liquorix.net">https://liquorix.net</a> (which provides kernel binaries based on Zen for Debian).</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://github.com/zen-kernel/zen-kernel">https://github.com/zen-kernel/zen-kernel</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux-zen">linux-zen</a></span>
</dd></dl>
<h2><span class="mw-headline" id="Compilation">Compilation</span></h2>
<p>TOS Linux provides two methods to compile your own kernel.
</p>
<dl>
<dt><a href="../Kernel/TOS_Build_System.html" title="Kernel/TOS Build System">/TOS Build System</a></dt>
<dd>Takes advantage of the high quality of existing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux">linux</a></span> <a href="../PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> and the benefits of <a href="https://en.wikipedia.org/wiki/Package_management_system"  title="wikipedia:Package management system">package management</a>.</dd>
<dt><a href="../Kernel/Traditional_compilation.html" title="Kernel/Traditional compilation">/Traditional compilation</a></dt>
<dd>Involves manually downloading a source tarball, and compiling in your home directory as a normal user.</dd>
</dl>
<h2><span class="mw-headline" id="kernel.org_kernels">kernel.org kernels</span></h2>
<ul><li>
<b>Git</b> — Linux kernel and modules built using sources from Linus Torvalds' Git repository</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git">https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-git/">linux-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Mainline</b> — Kernels where all new features are introduced, released every 2-3 months.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-mainline/">linux-mainline</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Next</b> — Bleeding edge kernels with features pending to be merged into next mainline release.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/doc/man-pages/linux-next.html">https://www.kernel.org/doc/man-pages/linux-next.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-next-git/">linux-next-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Longterm 3.16</b> — Long-term support (LTS) Linux 3.16 kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lts316/">linux-lts316</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Longterm 4.4</b> — Long-term support (LTS) Linux 4.4 kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lts44/">linux-lts44</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Longterm 4.9</b> — Long-term support (LTS) Linux 4.9 kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lts49/">linux-lts49</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Longterm 4.14</b> — Long-term support (LTS) Linux 4.14 kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lts414/">linux-lts414</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Longterm 4.19</b> — Long-term support (LTS) Linux 4.19 kernel and modules.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.kernel.org/">https://www.kernel.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lts419/">linux-lts419</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Patches_and_patchsets">Patches and patchsets</span></h2>
<p>There are lots of reasons to patch your kernel, the major ones are for performance or support for non-mainline features. Other reasons might include fun and to see how it is done and what the improvements are.
</p>
<p>However, it is important to note that the best way to increase the speed of your system is to first tailor your kernel to your system, especially the architecture and processor type.  For this reason using pre-packaged versions of custom kernels with generic architecture settings is not recommended or really worth it.  A further benefit is that you can reduce the size of your kernel (and therefore build time) by not including support for things you do not have or use.  For example, you might start with the stock kernel config when a new kernel version is released and remove support for things like bluetooth, video4linux, 1000Mbit ethernet, etc.; functionality you know you will not require for your specific machine.  Although this page is not about customizing your kernel config, it is recommended as a first step--before moving on to using a patchset once you have grasped the fundamentals involved.
</p>
<p>The config files for the TOS kernel packages can be used as a starting point. They are in the TOS package source files, for example <a rel="nofollow"  href="https://projects.archlinux.org/svntogit/packages.git/tree/trunk?h=packages/linux">[1]</a> linked from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux">linux</a></span>. The config file of your currently running kernel may also be available in your file system at <code>/proc/config.gz</code> if the <code>CONFIG_IKCONFIG_PROC</code> kernel option is enabled.
</p>
<p>If you have not actually patched or customized a kernel before it is not that hard and there are many PKGBUILDs on the forum for individual patchsets.  However, you are advised to start from scratch with a bit of research on the benefits of each patchset, rather than just arbitrarily picking one. This way you will learn much more about what you are doing rather than just choosing a kernel at startup and then be left wondering what it actually does.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Patchsets are developed by a variety of people.  Some of these people are actually involved in the production of the linux-toskernel and others are hobbyists, which may reflect its level of reliability and stability.</div>
<h3><span class="mw-headline" id="Major_patchsets">Major patchsets</span></h3>
<ul><li>
<b><a href="../Linux-ck.html" title="Linux-ck">Linux-ck</a></b> — Contains patches by Con Kolivas designed to improve system responsiveness with specific emphasis on the desktop, but suitable to any workload.</li></ul>
<dl><dd>
<a rel="nofollow"  href="http://ck.kolivas.org/">http://ck.kolivas.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-ck/">linux-ck</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>pf-kernel</b> — Provides you with a handful of awesome features not merged into mainline. It is based on neither existing Linux fork nor patchset, although some unofficial ports may be used if required patches have not been released officially. The most prominent patches of linux-pf are PDS CPU scheduler and UKSM.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://gitlab.com/post-factum/pf-kernel/wikis/README">https://gitlab.com/post-factum/pf-kernel/wikis/README</a> || Packages:
<ul>
<li>
<a href="../Unofficial_user_repositories.html#post-factum_kernels" title="Unofficial user repositories">Repository</a> by pf-kernel developer, <a rel="nofollow"  href="https://aur.archlinux.org/account/post-factum">post-factum</a>
</li>
<li>
<a href="../Unofficial_user_repositories.html#home-thaodan" title="Unofficial user repositories">Repository</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-pf/">linux-pf</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-pf-preset-default/">linux-pf-preset-default</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-pf-lts/">linux-pf-lts</a></span><sup><small>AUR</small></sup> by pf-kernel fork developer, <a rel="nofollow"  href="https://aur.archlinux.org/account/Thaodan">Thaodan</a>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-pf-git/">linux-pf-git</a></span><sup><small>AUR</small></sup> by <a rel="nofollow"  href="https://aur.archlinux.org/account/yurikoles">yurikoles</a>
</li>
</ul>
</dd></dl>
<ul><li>
<b><a href="../Realtime_kernel_patchset.html" class="mw-redirect" title="Realtime kernel">Realtime kernel</a></b> — Maintained by a small group of core developers, led by Ingo Molnar. This patch allows nearly all of the kernel to be preempted, with the exception of a few very small regions of code ("raw_spinlock critical regions"). This is done by replacing most kernel spinlocks with mutexes that support priority inheritance, as well as moving all interrupt and software interrupts to kernel threads.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://wiki.linuxfoundation.org/realtime/start">https://wiki.linuxfoundation.org/realtime/start</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-rt/">linux-rt</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-rt-lts/">linux-rt-lts</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3><span class="mw-headline" id="Other_patchsets">Other patchsets</span></h3>
<p>Some of the listed packages may also be available as binary packages via <a href="../Unofficial_user_repositories.html" title="Unofficial user repositories">Unofficial user repositories</a>.
</p>
<ul><li>
<b>Aufs</b> — The aufs-compatible linux-toskernel and modules, useful when using <a href="../Docker.html" title="Docker">docker</a>.</li></ul>
<dl><dd>
<a rel="nofollow"  href="http://aufs.sourceforge.net/">http://aufs.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-aufs/">linux-aufs</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Clear</b> — Patches from Intel's Clear Linux project. Provides performance and security optimizations.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://github.com/clearlinux-pkgs/linux">https://github.com/clearlinux-pkgs/linux</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-clear/">linux-clear</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>GalliumOS</b> — The Linux kernel and modules with GalliumOS patches for Chromebooks.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://github.com/GalliumOS/linux">https://github.com/GalliumOS/linux</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-galliumos/">linux-galliumos</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Libre</b> — The Linux Kernels without "binary blobs".</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://www.fsfla.org/ikiwiki/selibre/linux-libre/">https://www.fsfla.org/ikiwiki/selibre/linux-libre/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-libre/">linux-libre</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Liquorix</b> — Kernel replacement built using Debian-targeted configuration and the Zen kernel sources. Designed for desktop, multimedia, and gaming workloads, it is often used as a Debian Linux performance replacement kernel. Damentz, the maintainer of the Liquorix patchset, is a developer for the Zen patchset as well.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://liquorix.net">https://liquorix.net</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-lqx/">linux-lqx</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>MultiPath TCP</b> — The Linux Kernel and modules with Multipath TCP support.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://multipath-tcp.org/">https://multipath-tcp.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-mptcp/">linux-mptcp</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>VFIO</b> — The Linux kernel and a few patches written by Alex Williamson (acs override and i915) to enable the ability to do PCI Passthrough with KVM on some machines.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://lwn.net/Articles/499240/">https://lwn.net/Articles/499240/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-vfio/">linux-vfio</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-vfio-lts/">linux-vfio-lts</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>XanMod</b> — Aiming to take full advantage in high-performance workstations, gaming desktops, media centers and others and built to provide a more rock-solid, responsive and smooth desktop experience. This kernel uses the MuQSS scheduler, BFQ I/O scheduler, UKSM realtime memory data deduplication, <a rel="nofollow"  href="https://github.com/google/bbr">TCP BRR</a> congestion control, x86_64 advanced instruction set support, and other default changes.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://xanmod.org/">https://xanmod.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/linux-xanmod/">linux-xanmod</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow"  href="http://www.kroah.com/lkn/">O'Reilly - Linux Kernel in a Nutshell</a> (free ebook)</li>
<li>
<a rel="nofollow"  href="http://kroah.com/log/blog/2018/08/24/what-stable-kernel-should-i-use/">What stable kernel should I use?</a> by Greg Kroah-Hartman</li>
<li><a rel="nofollow"  href="https://www.kernel.org/doc/html/latest/index.html">Linux kernel documentation</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../Category:Kernel.html" title="Category:Kernel">Kernel</a></li>
<li><a href="../Category:Lists_of_software.html" title="Category:Lists of software">Lists of software</a></li>
</ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Kernel&amp;oldid=615528">https://wiki.archlinux.org/index.php?title=Kernel&amp;oldid=615528</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 24 May 2020, at 15:15.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



