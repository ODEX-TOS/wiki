<!--
    title: Dell_XPS_15_7590
    description: Migration of Dell_XPS_15_7590 from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Dell XPS 15 7590</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This page refers to the 7590 revision of the XPS 15. Most of it also applies to the Precision 5540.</div>
<p><br>
</p>
<table  style="float: right;">
<tbody>
<tr>
<td><b>Device/Functionality</b></td>
<td>
<b>Status</b>
</td>
</tr>
<tr>
<td><a href="#Suspend">Suspend</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Hibernate">Hibernate</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Graphics">Integrated Graphics</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Graphics">Discrete Nvidia Graphics</a></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Modify
</td>
</tr>
<tr>
<td><a href="#Graphics">Backlight</a></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Modify
</td>
</tr>
<tr>
<td><a href="#Networking">WiFi</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Networking">Bluetooth</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Networking">rfkill</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>Audio</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>
<a href="#Touchpad_and_Touchscreen">Touchpad</a><sup>[<a href="../wiki/TOS Wiki:Requests.html#Broken_section_links" class="mw-redirect" title="TOS Wiki:Requests">broken link</a>: invalid section]</sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>
<a href="#Touchpad_and_Touchscreen">Touchscreen</a><sup>[<a href="../wiki/TOS Wiki:Requests.html#Broken_section_links" class="mw-redirect" title="TOS Wiki:Requests">broken link</a>: invalid section]</sup>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>Webcam</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>Card Reader</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td>Function/Multimedia Keys</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Power_Management">Power Management</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Firmware_Update">EFI firmware updates</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working
</td>
</tr>
<tr>
<td><a href="#Fingerprint_reader">Fingerprint reader</a></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Not working
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../wiki/Dell_XPS_15.html" title="Dell XPS 15">Dell XPS 15</a></li>
<li><a href="../wiki/Dell_XPS_15_2-in-1_(9575).html" title="Dell XPS 15 2-in-1 (9575)">Dell XPS 15 2-in-1 (9575)</a></li>
<li><a href="../wiki/Dell_XPS_15_9550.html" title="Dell XPS 15 9550">Dell XPS 15 9550</a></li>
<li><a href="../wiki/Dell_XPS_15_9560.html" title="Dell XPS 15 9560">Dell XPS 15 9560</a></li>
<li><a href="../wiki/Dell_XPS_15_9570.html" title="Dell XPS 15 9570">Dell XPS 15 9570</a></li>
</ul>
</div>
<p>This page contains recommendations for running TOS Linux on the Dell XPS 15 7590 (2019).
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Pre-Installation_UEFI_Settings"><span >1</span> <span >Pre-Installation UEFI Settings</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Power_Management"><span >2</span> <span >Power Management</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Suspend"><span >2.1</span> <span >Suspend</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Hibernate"><span >2.2</span> <span >Hibernate</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Powertop"><span >2.3</span> <span >Powertop</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Thermal_Management"><span >3</span> <span >Thermal Management</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#Graphics"><span >4</span> <span >Graphics</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#NVIDIA_Optimus"><span >4.1</span> <span >NVIDIA Optimus</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Backlight"><span >4.2</span> <span >Backlight</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Backlight_function_keys"><span >4.3</span> <span >Backlight function keys</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Backlight_in_Wayland"><span >4.4</span> <span >Backlight in Wayland</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Networking"><span >5</span> <span >Networking</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#WiFi"><span >5.1</span> <span >WiFi</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#Firmware_Update"><span >6</span> <span >Firmware Update</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#UEFI"><span >6.1</span> <span >UEFI</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Fingerprint_reader"><span >7</span> <span >Fingerprint reader</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Pre-Installation_UEFI_Settings">Pre-Installation UEFI Settings</span></h2>
<p>Before installing it is necessary to modify some UEFI Settings. They can be accessed by pressing the F2 key repeatedly when booting.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If you will be dual booting alongside an existing Windows installation, Windows will not boot if you just go ahead and make the switch to AHCI as described in the steps below. You must log into you Windows install both before and after that BIOS change <a rel="nofollow"  href="https://triplescomputers.com/blog/uncategorized/solution-switch-windows-10-from-raidide-to-ahci-operation/">to set and then remove a safeboot flag</a>, respectively.</div>
<ul>
<li>Under 'System Configuration', change the SATA Mode from the default "RAID" to "AHCI". This will allow Linux to detect the NVME SSD.</li>
<li>Under 'Secure Boot', disable secure boot to allow Linux to boot.</li>
<li>Under 'POST Behaviour', change "Fastboot" to "Thorough". This prevents intermittent boot failures.</li>
</ul>
<p>If you are using multiboot with an existing Windows installation, make sure that "fast startup" is disabled in Windows 8/10.
</p>
<h2><span class="mw-headline" id="Power_Management">Power Management</span></h2>
<h3><span class="mw-headline" id="Suspend">Suspend</span></h3>
<p>By default, the very inefficient s2idle suspend variant is incorrectly selected. This is probably due to the BIOS. The much more efficient deep variant should be selected instead:
</p>
<pre> $ cat /sys/power/mem_sleep 
 [s2idle] deep
 # echo deep | tee /sys/power/mem_sleep
 $ cat /sys/power/mem_sleep 
 s2idle [deep]
</pre>
<p>To make the change permanent add <code>mem_sleep_default=deep</code> to your <a href="../wiki/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<p>An easy way would be to add <code>mem_sleep_default=deep</code> to the <code>GRUB_CMDLINE_LINUX_DEFAULT</code> entry in /etc/default/grub:
</p>
<pre> GRUB_CMDLINE_LINUX_DEFAULT="mem_sleep_default=deep"
</pre>
<p>Read more regarding the sleep variants on the kernel documentation <a rel="nofollow"  href="https://www.kernel.org/doc/html/v4.18/admin-guide/pm/sleep-states.html">[1]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Some users have reported a problem where the CPUs get stuck in a high power state after resuming from S3 (deep) suspension <a rel="nofollow"  href="https://www.reddit.com/r/Dell/comments/91313h/xps_15_9570_c_state_bug_after_s3_sleep_and_modern/">[2]</a>.</div>
<h3><span class="mw-headline" id="Hibernate">Hibernate</span></h3>
<h3><span class="mw-headline" id="Powertop">Powertop</span></h3>
<h2><span class="mw-headline" id="Thermal_Management">Thermal Management</span></h2>
<p>Default thermal management is not very optimized (this is my experience with the i9 processor at least).
</p>
<p>The laptop gets hot quite often and the fans run at high speed most of the time.
</p>
<p>One solution I found is to use powertop to get a quieter system.
</p>
<p>See <a href="../wiki/Powertop.html" title="Powertop">Powertop</a> for details.
</p>
<p>You may activate manual fans control with <a rel="nofollow"  href="https://launchpad.net/i8kutils">i8kutils</a>. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/i8kutils/">i8kutils</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/dell-bios-fan-control-git/">dell-bios-fan-control-git</a></span><sup><small>AUR</small></sup>. Edit <code>/etc/i8kutils/i8kmon.conf</code> and enable services:
</p>
<pre># systemctl daemon-reload
# modprobe dell-smm-hwmon
# modprobe i8k
# systemctl enable --now i8kmon.service
# systemctl enable --now dell-bios-fan-control.service
</pre>
<p>You may have to modify the modprobe options for <code>dell-smm-hwmon</code> to have the above work. See more at this reddit <a rel="nofollow"  href="https://www.reddit.com/r/Dell/comments/9pdgid/configuring_the_xps_to_play_nice_with_linux/">thread</a>
</p>
<pre>options dell-smm-hwmon ignore_dmi=1</pre>
<p>Another solution to decrease CPU temperature by 8°C (as for i7) on average is to 
</p>
<pre># echo 1 | tee /sys/devices/system/cpu/intel_pstate/no_turbo
</pre>
<p>This is likely to be reset though during adapter plugging and uplugging.
</p>
<h2><span class="mw-headline" id="Graphics">Graphics</span></h2>
<h3><span class="mw-headline" id="NVIDIA_Optimus">NVIDIA Optimus</span></h3>
<p>See <a href="../wiki/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a>.
</p>
<h3><span class="mw-headline" id="Backlight">Backlight</span></h3>
<p>See <a href="../wiki/Backlight.html#Color_correction" title="Backlight">Backlight#Color correction</a>.
</p>
<h3><span class="mw-headline" id="Backlight_function_keys">Backlight function keys</span></h3>
<p>When using a LCD display device and in a desktop environment (KDE verified) the function key will be working out of the box for the DEs have their own key mapping. However, when in a window manager with modesetting driver (and also int the tty console), the backlight controlling function keys won't be working and will throw out errors like <code>ACPI BIOS Error, could not resolve symbol</code>.
</p>
<p>Usually <code>/sys/class/backlight/intel_backlight</code> is symlinked to <code>/sys/device/pci00/0000:00:02.0/drm/card0/card0-eDP-1/</code>, and by changing the value of <code>backlight</code> file inside the directory the backlight level can be controlled, but the operation needs root previliege. Establishing a udev rule and accordingly a backlight control group will help, but these steps can be done easily with the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=light">light</a></span>. 
</p>
<p>Then a mapping of function key to the command, say, <code>light -A 3</code> and <code>light -U 3</code> would be in need. <code>XF86BrightnessDown</code> and <code>XF86BrightnessUp</code> won't be working. The mapping of the keys can be done with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=acpid">acpid</a></span>. Install the package, then insert these lines to the <code>case "$1" in</code> block
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/acpi/handler.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">video/brightnessup) light -A 3 ;;
video/brightnessdown) light -U 3 ;;
</pre>
<p>start and enable the service:
</p>
<p><code>systemctl enable acpid.service</code>, <code>systemctl start acpid.service</code>.
</p>
<h3><span class="mw-headline" id="Backlight_in_Wayland">Backlight in Wayland</span></h3>
<p>See <a href="../wiki/Backlight.html#Color_correction" title="Backlight">Backlight#Color correction</a> and <a href="../wiki/Wayland.html#Gamma" title="Wayland">Wayland#Gamma</a>.
</p>
<h2><span class="mw-headline" id="Networking">Networking</span></h2>
<h3><span class="mw-headline" id="WiFi">WiFi</span></h3>
<p>With kernel version 5.2.2 and linux-firmware 20190717.bf13a71-1, WiFi would be working out of the box.
</p>
<h2><span class="mw-headline" id="Firmware_Update">Firmware Update</span></h2>
<h3><span class="mw-headline" id="UEFI">UEFI</span></h3>
<p>Firmware images can be found at <a rel="nofollow"  href="https://www.dell.com/support/home/us/wiki/04/product-support/product/xps-15-7590-laptop/drivers">Dell support page</a>. Keeping an existing Windows system will make updates of BIOS much simpler. If a clean TOS Linux install is the case in order to install:
</p>
<ul>
<li>Download the desired firmware from section "Dell XPS 15 7590 System BIOS"</li>
<li>Save it in <code>/efi/EFI/Dell/Bios/</code> or <code>/boot/EFI/Dell/Bios/</code> (this path may vary, depending on your installation)</li>
<li>Reboot the system, and enter the boot menu by pressing repeatedly <code>F12</code> on Dell logo</li>
<li>Choose "Bios Flash Update"</li>
<li>Select the file previously saved, and start the process</li>
</ul>
<p>The process will take about five minutes, during which the system will have some reboots and push fans at maximum speed. Finally the system will reboot normally.
</p>
<h2><span class="mw-headline" id="Fingerprint_reader">Fingerprint reader</span></h2>
<p>It is a Goodix fingerprint reader.
</p>
<p>The producer does not provide any Linux driver nor documentation to implement one.
</p>
<p>Some effort is in slow progress to reverse engineer the windows drivers (see <a rel="nofollow"  href="https://gitlab.freedesktop.org/libfprint/libfprint/issues/189">[3]</a>).
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../wiki/Category:Dell.html" title="Category:Dell">Dell</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../wiki/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dell_XPS_15_7590&amp;oldid=608452">https://wiki.archlinux.org/index.php?title=Dell_XPS_15_7590&amp;oldid=608452</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 27 April 2020, at 06:53.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



