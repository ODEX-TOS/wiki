<!--
    title: Electronic_identification
    description: Migration of Electronic_identification from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Electronic identification</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../wiki/Common_Access_Card.html" title="Common Access Card">Common Access Card</a></li>
<li><a href="../wiki/Smartcards.html" title="Smartcards">Smartcards</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../wiki/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Some duplication with <a href="../wiki/Smartcards.html" title="Smartcards">Smartcards</a> (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Electronic_identification">Talk:Electronic identification#</a>)</div>
</div>
<p>An <a href="https://en.wikipedia.org/wiki/Electronic_identification"  title="w:Electronic identification">electronic identification</a> ("eID") is an electronic identification solution of citizens or organizations, for example in view to access benefits or services provided by government authorities, banks or other companies. Apart from online authentication many eICs also give users the option to sign electronic documents with a digital signature.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Setup_per_country"><span >2</span> <span >Setup per country</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Belgium"><span >2.1</span> <span >Belgium</span></a></li>
<li class="toclevel-2 tocsection-4">
<a href="#Estonia"><span >2.2</span> <span >Estonia</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#DigiDoc"><span >2.2.1</span> <span >DigiDoc</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Chromium"><span >2.2.2</span> <span >Chromium</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Firefox"><span >2.2.3</span> <span >Firefox</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8">
<a href="#Germany"><span >2.3</span> <span >Germany</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#ReinerSCT_devices"><span >2.3.1</span> <span >ReinerSCT devices</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Sweden"><span >2.4</span> <span >Sweden</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Brazil_(ICP-Brasil)"><span >2.5</span> <span >Brazil (ICP-Brasil)</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#SSL"><span >2.5.1</span> <span >SSL</span></a></li>
<li class="toclevel-3 tocsection-13">
<a href="#Smart_Cards_(A3_certificates)"><span >2.5.2</span> <span >Smart Cards (A3 certificates)</span></a>
<ul>
<li class="toclevel-4 tocsection-14"><a href="#Firefox_2"><span >2.5.2.1</span> <span >Firefox</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#Chrome"><span >2.5.2.2</span> <span >Chrome</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>a
All types of electronic identification <b>require</b> installing the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ccid">ccid</a></span> package. After installation, <a href="../wiki/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a>, and <a href="../wiki/Systemd.html#Using_units" class="mw-redirect" title="Start">start</a> <code>pcscd.socket</code>.
In addition, <a rel="nofollow"  href="https://www.acs.com.hk/wiki/product-lines/2/pc-linked-smart-card-readers/">ACS</a> smart cards also require the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=acsccid">acsccid</a></span> package.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=pcsc-tools">pcsc-tools</a></span> contains <code>pcsc_scan</code> program that can be used to check smart card detection <a href="../wiki/Smartcards.html#Scan_for_card_reader" title="Smartcards">Smartcards#Scan for card reader</a>.
</p>
<h2><span class="mw-headline" id="Setup_per_country">Setup per country</span></h2>
<h3><span class="mw-headline" id="Belgium">Belgium</span></h3>
<p><a rel="nofollow"  href="https://eid.belgium.be/en">https://eid.belgium.be/en</a>
</p>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/eid-mw/">eid-mw</a></span><sup><small>AUR</small></sup> package. Before installation, import the (continuous build) keys from <a rel="nofollow"  href="https://files.eid.belgium.be/">[1]</a>. See <a href="../wiki/Makepkg.html#Signature_checking" title="Makepkg">makepkg#Signature checking</a>.
</p>
<p>There is no plugin for Chrome, but there is one for Firefox. Add the <a rel="nofollow"  href="https://addons.mozilla.org/nl/firefox/addon/belgium-eid">Firefox plugin</a> to your browser. In recent versions, you'll need to manually <a rel="nofollow"  href="https://eid.belgium.be/wiki/log-eid#7507">add the eID module</a> to the Firefox security devices configuration. Your module path might be different than the one in the guide.
List the different devices by doing:
</p>
<pre># p11tool --list-tokens
</pre>
<p>Here you'll see the module, which might be beidpkcs11.so. 
Now to find the full path you do:
</p>
<pre># find /usr/lib -name beidpkcs11.so
</pre>
<p>You should now be able to use your eID reader in Firefox. Try it out using the <a rel="nofollow"  href="https://iamapps.belgium.be/tma/?lang=en">test page</a>.
</p>
<p>You may find hints for troubleshooting in the <a rel="nofollow"  href="http://faq.eid.belgium.be/nl/index.html">official documentation</a> but keep in mind that TOS Linux is not officially supported.
</p>
<p>If you want to use Chromium you will need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=opensc">opensc</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=p11-kit">p11-kit</a></span> aswell.
</p>
<h3><span class="mw-headline" id="Estonia">Estonia</span></h3>
<p>See <a rel="nofollow"  href="https://www.id.ee/?lang=en">https://www.id.ee/?lang=en</a>
</p>
<h4><span class="mw-headline" id="DigiDoc">DigiDoc</span></h4>
<p>Once <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ccid">ccid</a></span> is installed and <code>pcscd.socket</code> is <a href="../wiki/Systemd.html#Using_units" class="mw-redirect" title="Start">started</a>, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/qdigidoc4/">qdigidoc4</a></span><sup><small>AUR</small></sup>. One of the dependency <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/xml-security-c/">xml-security-c</a></span><sup><small>AUR</small></sup> is <a href="../wiki/Makepkg.html#Signature_checking" title="Makepkg">verified with a signature</a> that you have to import to your GnuPG keyring.
If you have an ACS card reader, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=acsccid">acsccid</a></span> is required.
</p>
<p>DigiDoc4 has an optional <a href="../wiki/GNOME/Files.html" title="GNOME/Files">GNOME/Files</a> right click menu integration. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python2-nautilus/">python2-nautilus</a></span><sup><small>AUR</small></sup><sup>[<a href="../wiki/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> and restart Gnome Files using the command <code>pkill nautilus</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/chrome-token-signing/">chrome-token-signing</a></span><sup><small>AUR</small></sup> contains the "Token signing" extension that allows digital signatures on the web for both Google Chrome/Chromium and Firefox.</div>
<h4><span class="mw-headline" id="Chromium">Chromium</span></h4>
<p>After installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/chrome-token-signing/">chrome-token-signing</a></span><sup><small>AUR</small></sup>, enable the PIN 1 authentication in <a href="../wiki/Chromium.html" class="mw-redirect" title="Google Chrome">Google Chrome</a> and <a href="../wiki/Chromium.html" title="Chromium">Chromium</a> by running the following command (taken from the <a rel="nofollow"  href="https://github.com/open-eid/linux-installer/blob/master/esteid-update-nssdb">open-eid repo</a>).
</p>
<pre> modutil -dbdir sql:$HOME/.pki/nssdb -add opensc-pkcs11 -libfile onepin-opensc-pkcs11.so -mechanisms FRIENDLY
</pre>
<h4><span class="mw-headline" id="Firefox">Firefox</span></h4>
<p>To enable PIN 1 authentication in <a href="../wiki/Firefox.html" title="Firefox">Firefox</a> you should install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/esteidpkcs11loader/">esteidpkcs11loader</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/chrome-token-signing/">chrome-token-signing</a></span><sup><small>AUR</small></sup>. After restarting the browser make sure that "Firefox PKCS11 loader" extension is enabled. You can also follow manual instructions at <a href="../wiki/Smartcards.html#Mozilla_Firefox" title="Smartcards">Smartcards#Mozilla Firefox</a>.
</p>
<h3><span class="mw-headline" id="Germany">Germany</span></h3>
<h4><span class="mw-headline" id="ReinerSCT_devices">ReinerSCT devices</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/pcsc-cyberjack/">pcsc-cyberjack</a></span><sup><small>AUR</small></sup> and copy the default configuration file <code>/etc/pcsc-cyberjack/cyberjack.conf.default</code> to the same folder, without default. Restart <code>pcsc.service</code> and apps like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/ausweisapp2/">ausweisapp2</a></span><sup><small>AUR</small></sup> should recognize the scanner. The ReinerSCT RFID will blink its LED, which it does not when the driver is not installed correctly.
</p>
<h3><span class="mw-headline" id="Sweden">Sweden</span></h3>
<p><a rel="nofollow"  href="https://www.bankid.com/wiki/om-bankid/detta-ar-bankid">BankID</a> is the leading electronic identification in Sweden.
</p>
<h3>
<span id="Brazil_.28ICP-Brasil.29"></span><span class="mw-headline" id="Brazil_(ICP-Brasil)">Brazil (ICP-Brasil)</span>
</h3>
<h4><span class="mw-headline" id="SSL">SSL</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/ca-certificates-icp_br/">ca-certificates-icp_br</a></span><sup><small>AUR</small></sup> as the Brazilian root CAs are not part of Mozilla's NSS due to a <a rel="nofollow"  href="https://bugzilla.mozilla.org/show_bug.cgi?id=438825">long standing issue</a>.
</p>
<h4>
<span id="Smart_Cards_.28A3_certificates.29"></span><span class="mw-headline" id="Smart_Cards_(A3_certificates)">Smart Cards (A3 certificates)</span>
</h4>
<p>1. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/safesignidentityclient/">safesignidentityclient</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=opensc">opensc</a></span>.
</p>
<p>2. Start and enable <code>pcscd</code>.
</p>
<pre> systemctl enable pcscd.service
 systemctl start pcscd.service
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Having the <a href="../wiki/Common_Access_Card.html" title="Common Access Card">"CAC Module"</a> (<code>/usr/lib/opensc-pkcs11.so</code>) enabled can cause problems both in Firefox and Chrome</div>
<h5><span class="mw-headline" id="Firefox_2">Firefox</span></h5>
<p>Navigate to <i>Edit -&gt; Preference -&gt; Advanced -&gt; Certificates -&gt; Security Devices</i> and click "Load" to load a module using <code>/usr/lib/libaetpkss.so</code> and name it <code>ICP-Brasil A3 - Safe Sign Identity Client</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Firefox may report the module did not load correctly however you will have to check in the security devices to confirm whether the module properly loaded or not</div>
<p>Test it by going to <a rel="nofollow"  href="https://cav.receita.fazenda.gov.br/autenticacao/login">Receita Federal's e-CAC</a>.
</p>
<h5><span class="mw-headline" id="Chrome">Chrome</span></h5>
<p>Ensure Chrome is closed and run:
</p>
<pre> modutil -dbdir sql:$HOME/.pki/nssdb/ -add "ICP-Brasil A3 - Safe Sign Identity Client" -libfile /usr/lib/libaetpkss.so
</pre>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../wiki/Category:Other_hardware.html" title="Category:Other hardware">Other hardware</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../wiki/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../wiki/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Electronic_identification&amp;oldid=608180">https://wiki.archlinux.org/index.php?title=Electronic_identification&amp;oldid=608180</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 26 April 2020, at 00:54.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



