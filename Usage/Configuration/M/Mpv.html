<!--
    title: Mpv
    description: Migration of Mpv from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">mpv</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/M/MPlayer.html" title="MPlayer">MPlayer</a></li>
<li><a href="/Usage/Configuration/M/Youtube-dl.html" title="Youtube-dl">youtube-dl</a></li>
</ul>
</div>
<p><a rel="nofollow"  href="https://mpv.io/">mpv</a> is a media player based on <a href="/Usage/Configuration/M/MPlayer.html" title="MPlayer">MPlayer</a> and the now unmaintained <i>mplayer2</i>. It supports a wide variety of video file formats, audio and video codecs, and subtitle types. A comprehensive (although admittedly incomplete) list of differences between <i>mpv</i> and the aforementioned players can be found <a rel="nofollow"  href="https://github.com/mpv-player/mpv/blob/master/DOCS/mplayer-changes.rst">here</a>.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span >1</span> <span >Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Front_ends"><span >1.1</span> <span >Front ends</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span >2</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#General_settings"><span >2.1</span> <span >General settings</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#High_quality_configurations"><span >2.1.1</span> <span >High quality configurations</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Custom_profiles"><span >2.1.2</span> <span >Custom profiles</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Key_bindings"><span >2.2</span> <span >Key bindings</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Additional_configuration_files"><span >2.3</span> <span >Additional configuration files</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Scripts"><span >3</span> <span >Scripts</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#JavaScript"><span >3.1</span> <span >JavaScript</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Lua"><span >3.2</span> <span >Lua</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#mpv-stats"><span >3.2.1</span> <span >mpv-stats</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#mpv-webm"><span >3.2.2</span> <span >mpv-webm</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14">
<a href="#C"><span >3.3</span> <span >C</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#mpv-mpris"><span >3.3.1</span> <span >mpv-mpris</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#Vapoursynth"><span >4</span> <span >Vapoursynth</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#SVP_4_Linux_(SmoothVideoProject)"><span >4.1</span> <span >SVP 4 Linux (SmoothVideoProject)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Tips_and_Tricks"><span >5</span> <span >Tips and Tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Hardware_video_acceleration"><span >5.1</span> <span >Hardware video acceleration</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Save_position_on_quit"><span >5.2</span> <span >Save position on quit</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Volume_is_too_low"><span >5.3</span> <span >Volume is too low</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Play_a_DVD"><span >5.4</span> <span >Play a DVD</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Quickly_cycle_between_aspect_ratios"><span >5.5</span> <span >Quickly cycle between aspect ratios</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Ignoring_aspect_ratio"><span >5.6</span> <span >Ignoring aspect ratio</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Draw_to_the_root_window"><span >5.7</span> <span >Draw to the root window</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Always_show_application_window"><span >5.8</span> <span >Always show application window</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Disable_video_output"><span >5.9</span> <span >Disable video output</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Restoring_old_OSC"><span >5.10</span> <span >Restoring old OSC</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Use_as_a_browser_plugin"><span >5.11</span> <span >Use as a browser plugin</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Improving_mpv_as_a_music_player_with_Lua_scripts"><span >5.12</span> <span >Improving mpv as a music player with Lua scripts</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Twitch.tv_streaming_over_mpv"><span >5.13</span> <span >Twitch.tv streaming over mpv</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#youtube-dl_and_choosing_formats"><span >5.14</span> <span >youtube-dl and choosing formats</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#youtube-dl_audio_with_search"><span >5.15</span> <span >youtube-dl audio with search</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Creating_a_single_screenshot"><span >5.16</span> <span >Creating a single screenshot</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-35">
<a href="#Troubleshooting"><span >6</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="#General_debugging"><span >6.1</span> <span >General debugging</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Fix_jerky_playback_and_tearing"><span >6.2</span> <span >Fix jerky playback and tearing</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Problems_with_window_compositors"><span >6.3</span> <span >Problems with window compositors</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#No_volume_bar,_cannot_change_volume"><span >6.4</span> <span >No volume bar, cannot change volume</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#GNOME_Blank_screen_(Wayland)"><span >6.5</span> <span >GNOME Blank screen (Wayland)</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Use_mpv_with_a_compositor"><span >6.6</span> <span >Use mpv with a compositor</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Cursor_theme_not_respected_under_GNOME_Wayland"><span >6.7</span> <span >Cursor theme not respected under GNOME Wayland</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/Usage/Configuration/M/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=mpv">mpv</a></span> package or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup> for the development version.
</p>
<h3><span class="mw-headline" id="Front_ends">Front ends</span></h3>
<p>See <a href="/Usage/Configuration/M/List_of_applications/Multimedia.html#mpv-based" title="List of applications/Multimedia">List of applications/Multimedia#mpv-based</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p><i>mpv</i> comes with good all-around defaults that should work well on computers with weaker/older video cards. However, if you have a computer with a more modern video card then <i>mpv</i> allows you to do a great deal of configuration to achieve better video quality (limited only by the power of your video card). To do this one only needs to create a few configuration files (they do not exist by default).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Configuration files are read system-wide from <code>/etc/mpv</code> and per-user from <code>~/.config/mpv</code> (unless the <a href="/Usage/Configuration/M/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>XDG_CONFIG_HOME</code> is set), where per-user settings override system-wide settings, all of which are overridden by the command line. User specific configuration is suggested since it may require some trial and error.</div>
<p>To help you get started <i>mpv</i> provides sample configuration files with default settings. Copy them to use as a starting point:
</p>
<pre>$ cp -r /usr/share/doc/mpv/ ~/.config/
</pre>
<p><code>mpv.conf</code> contains the majority of <i>mpv'</i>s settings, <code>input.conf</code> contains key bindings. Read through both of them to get an idea of how they work and what options are available.
</p>
<h3><span class="mw-headline" id="General_settings">General settings</span></h3>
<p>Add the following settings to <code>~/.config/mpv/mpv.conf</code>.
</p>
<h4><span class="mw-headline" id="High_quality_configurations">High quality configurations</span></h4>
<p>This loads high quality OpenGL options when using <code>vo=gpu</code> as video output (default). Most users can run these without any problems, but they are not enabled by default to avoid causing problems for the few users who cannot run them:
</p>
<pre>profile=gpu-hq
</pre>
<p>The <code>gpu-hq</code> profile defaults to the <code>spline36</code> scaling filter for mid quality and speed. For the best quality video output, the manual states that if your hardware can run it, <code>ewa_lanczossharp</code> is probably what you should use.
</p>
<pre>profile=gpu-hq
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
</pre>
<p>These last three options are a little more complicated. The first option makes it so that if audio and video go out of sync then instead of dropping video frames it will resample the audio (a slight change in audio pitch is often less noticeable than dropped frames). The mpv wiki has an in depth article on it titled <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/Display-synchronization">Display Synchronization</a>. The remaining two essentially make motion appear smoother on your display by changing the way that frames are shown so that the source framerate jives better with your display's refresh rate (not to be confused with SVP's technique which actually converts video to 60fps). The mpv wiki has an in depth article on it titled <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/Interpolation">Interpolation</a> though it is also commonly known as <i>smoothmotion</i>.
</p>
<pre>profile=gpu-hq
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
video-sync=display-resample
interpolation
tscale=oversample
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  If <a href="/Usage/Configuration/M/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a> is being used, the line <code>video-sync=display-resample</code> may cause video to be sped up.</div>
<p>Beyond this there is still a lot you can do but things become more complicated, require more powerful video cards, and are in constant development. As a brief overview, it is possible to load special shaders that perform exotic scaling and sharpening techniques including some that actually use deep neural networks trained on images (for both real world and animated content). To learn more about this take a look around the <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki">mpv wiki</a>, particularly the <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/User-Scripts#user-shaders">user shader's section</a>.
</p>
<p>There are also plenty of other options you may find desirable as well. It is worthwhile taking a look at <span class="plainlinks archwiki-template-man" title="$ man 1 mpv"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/mpv.1">mpv(1)</a></span>. It is also helpful to run <i>mpv</i> from the command line to check for error messages about the config.
</p>
<h4><span class="mw-headline" id="Custom_profiles">Custom profiles</span></h4>
<p>In <code>mpv.conf</code> it is possible to create <i>profiles</i> which are essentially just "groups of options" with which you can:
</p>
<ul>
<li>Quickly switch between different configurations without having to rewrite the file.</li>
<li>Create special profiles for special content.</li>
<li>
<i>nest</i> profiles so that you can make more complicated <i>profiles</i> out of simpler ones.</li>
</ul>
<p>Creating a profile is easy. The area at the top of <code>mpv.conf</code> is called the top level, any options you write there will kick into effect once <i>mpv</i> is started. However, once you define a profile by writing its name in brackets then every option you write below it (until you define a new profile) is considered part of that profile. Here is an example <code>mpv.conf</code>:
</p>
<pre>profile=myprofile2        #Top level area, load myprofile2
ontop=yes                 #Always on top

[myprofile1]              #A simple profile, top level area ends here
profile-desc="a profile"  #Optional description for profile
fs=yes                    #Start in full screen

[myprofile2]              #Another simple profile
profile=gpu-hq            #A built in profile that comes with mpv
log-file=~~/log           #Sets a location for writing a log file, ~~/ translates to ~/.config/mpv
</pre>
<p>There are only two lines within the top level area and there are two separate profiles defined below it. When <i>mpv</i> starts it sees the first line, loads the options in <code>myprofile2</code> (which means it loads the options in <code>gpu-hq</code> and <code>log-file=~~/log</code>) finally it loads <code>ontop=yes</code> and finishes starting up. Note, <code>myprofile1</code> is never loaded because it is never called in the top level area.
</p>
<p>Alternatively one could call <i>mpv</i> from the command line with:
</p>
<pre>$ mpv --profile=myprofile1 video.mkv
</pre>
<p>and it would ignore all options except the ones for <code>myprofile1</code>.
</p>
<h3><span class="mw-headline" id="Key_bindings">Key bindings</span></h3>
<p>Key bindings are fairly straightforward given the examples in <code>/usr/share/doc/mpv/input.conf</code> and the relevant section in the <a rel="nofollow"  href="https://mpv.io/manual/master/#command-interface">manual</a>.
</p>
<p>Add the following examples to <code>~/.config/mpv/input.conf</code>:
</p>
<pre>shift+s         screenshot each-frame
Shift+UP        seek  600
Shift+DOWN      seek -600
=               cycle video-unscaled
-               cycle-values window-scale 2 3 1 .5
WHEEL_UP        add volume 5
WHEEL_DOWN      add volume -5
WHEEL_LEFT      ignore
WHEEL_RIGHT     ignore
Alt+RIGHT       add video-rotate 90
Alt+LEFT        add video-rotate -90
Alt+-           add video-zoom -0.25
Alt+=           add video-zoom 0.25
Alt+j           add video-pan-x -0.05
Alt+l           add video-pan-x 0.05
Alt+i           add video-pan-y 0.05
Alt+k           add video-pan-y -0.05
Alt+BS          set video-zoom 0; set video-pan-x 0; set video-pan-y 0
</pre>
<p>For an attempt to reproduce MPC-HC key bindings in mpv, see <a rel="nofollow"  href="https://github.com/dragons4life/MPC-HC-config-for-MPV/blob/master/input.conf">[1]</a>.
</p>
<h3><span class="mw-headline" id="Additional_configuration_files">Additional configuration files</span></h3>
<p>In addition there are a few more configuration files and directories that can be created, among which:
</p>
<ul>
<li>
<code>~/.config/mpv/script-opts/osc.conf</code> manages the <a rel="nofollow"  href="https://mpv.io/manual/master/#on-screen-controller">On Screen Controller</a>.</li>
<li>
<code>~/.config/mpv/scripts/<i>script-name</i>.lua</code> for Lua scripts. See <a rel="nofollow"  href="https://github.com/mpv-player/mpv/issues/3500#issuecomment-305646994">[2]</a> for an example.</li>
</ul>
<p>See <a rel="nofollow"  href="https://mpv.io/manual/master/#files">https://mpv.io/manual/master/#files</a> for more.
</p>
<h2><span class="mw-headline" id="Scripts">Scripts</span></h2>
<p><i>mpv</i> has a <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/User-Scripts">large variety of scripts</a> that extend the functionality of the player. To this end, it has internal bindings for both Lua and JavaScript (added recently).
</p>
<p>Scripts are typically installed by putting them in the <code>~/.config/mpv/scripts/</code> directory (you may have to create it first). After that they will be automatically loaded when mpv starts (this behavior can be altered with other <i>mpv</i> options). Some scripts come with their own installation and configuration instructions, so make sure to have a look. In addition some scripts are old, broken, and unmaintained.
</p>
<h3><span class="mw-headline" id="JavaScript">JavaScript</span></h3>
<p>JavaScript (ES5 via <a rel="nofollow"  href="https://mujs.com/">MuJS</a>) has been supported as an mpv scripting language since 2014. Currently only <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/User-Scripts#javascript">a few scripts</a> are available, but <a rel="nofollow"  href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/javascript.rst">documentation exists</a> for anyone interested in making their own.
</p>
<p>To get started, drop a script with a <code>.js</code> extension in the mpv <code>scripts</code> directory, e.g.:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/scripts/fullscreen-off-on-pause.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

function onPauseChange (prop, enabled) {
    if (enabled) {
        mp.set_property('fullscreen', 'no')
    }
}

mp.observe_property('pause', 'bool', onPauseChange)

</pre>
<p>For more details, e.g. on using <code>require</code> to load CommonJS modules, see the <a rel="nofollow"  href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/javascript.rst#commonjs-modules-and-requireid">documentation</a>.
</p>
<p>JavaScript support is available in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=mpv">mpv</a></span> package, as well as some AUR packages, e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-full/">mpv-full</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-full-git/">mpv-full-git</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Lua">Lua</span></h3>
<p>There are a lot of interesting Lua scripts for mpv. If you would like to make your own, the relevant documentation may be found <a rel="nofollow"  href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/lua.rst">here</a>.
</p>
<h4><span class="mw-headline" id="mpv-stats">mpv-stats</span></h4>
<p><a rel="nofollow"  href="https://github.com/Argon-/mpv-stats/">mpv-stats</a> (or simply <i>stats</i>) is a Lua script that outputs a lot of live statistics showing how well <i>mpv</i> is currently doing. It is very useful for making sure that your hardware can keep up with your configuration and for comparing different configurations. Since version <a rel="nofollow"  href="https://github.com/mpv-player/mpv/releases/tag/v0.28.0">v0.28.0</a>, the script is built into <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=mpv">mpv</a></span> and can be toggled on or off with the <code>i</code> or <code>I</code> keys (by default).
</p>
<h4><span class="mw-headline" id="mpv-webm">mpv-webm</span></h4>
<p><a rel="nofollow"  href="https://github.com/ElegantMonkey/mpv-webm">mpv-webm</a> (or simply <i>webm</i>) is a very easy to use Lua script that allows one to create WebM files while watching videos. It includes several features and does not have any extra dependencies (relies entirely on mpv).
</p>
<h3><span class="mw-headline" id="C">C</span></h3>
<h4><span class="mw-headline" id="mpv-mpris">mpv-mpris</span></h4>
<p>The C plugin <a rel="nofollow"  href="https://github.com/hoyon/mpv-mpris">mpv-mpris</a> allows other applications to integrate with <i>mpv</i> via the MPRIS protocol. For example, with mpv-mpris installed, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=kdeconnect">kdeconnect</a></span> can automatically pause video playback in <i>mpv</i> when a phone call arrives. Another example is buttons (play\pause etc) on bluetooth audio-devices.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-mpris/">mpv-mpris</a></span><sup><small>AUR</small></sup> and follow the post-installation instructions displayed by Pacman.
</p>
<h2><span class="mw-headline" id="Vapoursynth">Vapoursynth</span></h2>
<p>Vapoursynth is an alternative to AviSynth that can be used on Linux and allows for Video manipulation via python scripts. Vapoursynths python scripts can be used as video filters for <i>mpv</i>.
</p>
<p>To use vapoursynth filters you have to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=vapoursynth">vapoursynth</a></span> package (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/vapoursynth-git/">vapoursynth-git</a></span><sup><small>AUR</small></sup>) and compile <i>mpv</i> with the <code>--enable-vapoursynth</code> build flag.
</p>
<p>This is easier to do by first installing Vapoursynth and then installing (or re-installing if it is already installed) <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup>. The configure script for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup> will auto-detect Vapoursynth (as long as it has already been installed) and it will automatically compile <i>mpv</i> with support for Vapoursynth without having to manually change any configure options or anything (this makes it very easy to update <i>mpv</i> as well).
</p>
<h3>
<span id="SVP_4_Linux_.28SmoothVideoProject.29"></span><span class="mw-headline" id="SVP_4_Linux_(SmoothVideoProject)">SVP 4 Linux (SmoothVideoProject)</span>
</h3>
<p><a rel="nofollow"  href="https://www.svp-team.com/wiki/Main_Page">SmoothVideoProject SVP</a> is a program that is primarily known for converting video to 60fps. It is free [as in beer] and full featured for 64bit Linux (costs money for Windows and OS X and is incompatible with 32bit Linux).
</p>
<p>It has three main features and each one can be disabled/enabled as one chooses (you are not forced to use motion interpolation).
</p>
<ol>
<li>
<a rel="nofollow"  href="https://www.svp-team.com/wiki/Manual:FRC">Motion interpolation</a> (<a rel="nofollow"  href="https://www.youtube.com/watch?v=Wjb6CSe4708">youtube video</a>) - An algorithm that converts video to 60fps. This creates the somewhat controversial "soap opera effect" that some people love and others hate. Unfortunately the algorithm is not perfect and it also introduces more than its share of weird artifacts. The algorithm can be tuned (via a slider) for either performance or quality. It also has some artifact reduction settings that interpolate actual frames with the generated frames reducing the noticeability of the artifacts. The framerate detection can be set to automatic or manual (manual seems to resolve performance issues for some users).</li>
<li>
<a rel="nofollow"  href="https://www.svp-team.com/wiki/Manual:Outer_lighting">Black bar lighting</a> (<a rel="nofollow"  href="https://www.youtube.com/watch?v=yTzTpW3kTBE">youtube video</a>) - If the image has an aspect ratio that produces black bars on your display then SVP will illuminate the black bars with "lights" generated by the content on the screen. It has some amount of customization but the defaults are pretty close to optimal.</li>
<li>
<a rel="nofollow"  href="https://www.svp-team.com/wiki/Manual:SVPlight">LED ambient lighting control</a> (<a rel="nofollow"  href="https://www.youtube.com/watch?v=UUM2n-8kIJ8">youtube video</a>) - Has the ability to control LED ambient lighting attached to your television.</li>
</ol>
<p>Once you have <i>mpv</i> compiled with Vapoursynth support it is fairly easy to get SVP working with <i>mpv</i>. Simply install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/svp/">svp</a></span><sup><small>AUR</small></sup>, open the SVP program to let it assess your system performance (you may want to close other programs first so that it gets an accurate reading), and finally add the following <i>mpv</i> profile to your mpv.conf<a rel="nofollow"  href="https://www.svp-team.com/wiki/SVP:mpv">[3]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[svp]
input-ipc-server=/tmp/mpvsocket     # Receives input from SVP
hr-seek-framedrop=no                # Fixes audio desync
resume-playback=no                  # Not compatible with SVP

# Can fix stuttering in some cases, in other cases probably causes it. Try it if you experience stuttering.
#opengl-early-flush=yes</pre>
<p>Then, in order to use SVP you must have the SVP program running in the background before opening the file using <i>mpv</i> with that profile. Either do:
</p>
<pre>$ mpv --profile=svp video.mkv
</pre>
<p>or set <code>profile=svp</code> in the top-level portion of the <i>mpv</i> <a href="#Custom_profiles">configuration</a>.
</p>
<p>If you want to use hardware decoding then you must use a copy-back decoder since normal decoders are not compatible with Vapoursynth (choose a <code>hwdec</code> option that ends in <code>-copy</code>). For instance:
</p>
<pre>hwdec=auto-copy
hwdec-codecs=all
</pre>
<p>Either way, hardware decoding is discouraged by <i>mpv</i> developers and is not likely to make a significant difference in performance.
</p>
<h2><span class="mw-headline" id="Tips_and_Tricks">Tips and Tricks</span></h2>
<h3><span class="mw-headline" id="Hardware_video_acceleration">Hardware video acceleration</span></h3>
<p>See <a href="/Usage/Configuration/M/Hardware_video_acceleration.html" title="Hardware video acceleration">Hardware video acceleration</a>.
</p>
<p>Hardware accelerated video decoding is available via <code>--hwdec=<i>API</i></code> option. For list of all supported APIs and other required options see <a rel="nofollow"  href="https://mpv.io/manual/stable/#options-hwdec">relevant manual section</a>.
</p>
<p>For <a href="/Usage/Configuration/M/Wayland.html" title="Wayland">Wayland</a> use <code>--gpu-context=wayland</code> option. For list of other available GPU APIs see <a rel="nofollow"  href="https://mpv.io/manual/stable/#options-gpu-context">manual</a>.
</p>
<h3><span class="mw-headline" id="Save_position_on_quit">Save position on quit</span></h3>
<p>By default you can save the position and quit by pressing <code>Shift+q</code>. The shortcut can be changed by setting <code>quit_watch_later</code> in the key bindings configuration file.
</p>
<p>To automatically save the current playback position on quit, start <i>mpv</i> with <code>--save-position-on-quit</code>, or add <code>save-position-on-quit</code> to the configuration file.
</p>
<h3><span class="mw-headline" id="Volume_is_too_low">Volume is too low</span></h3>
<p>Set <code>volume-max=<i>value</i></code> in your configuration file to a reasonable amount, such as <code>volume-max=150</code>, which then allows you to increase your volume up to 150%, which is more than twice as loud. Increasing your volume too high will result in clipping artefacts. Additionally (or alternatively), you can utilize <a href="https://en.wikipedia.org/wiki/Dynamic_range_compression"  title="wikipedia:Dynamic range compression">dynamic range compression</a> with <code>af=acompressor</code>.
</p>
<h3><span class="mw-headline" id="Play_a_DVD">Play a DVD</span></h3>
<p>mpv does not support DVD menus. To start the main stream with the longest title of a video DVD, use the command:
</p>
<pre>$ mpv dvd://
</pre>
<p>An optional title specifier is a number (starting at 0) which selects between separate video streams on the DVD:
</p>
<pre>$ mpv dvd://[title] 
</pre>
<p>DVDs which have been copied on to a local file system (by e.g. the <a href="/Usage/Configuration/M/Dvdbackup.html" title="Dvdbackup">dvdbackup</a> tool) are accommodated by specifying the path to the local copy: <code>--dvd-device=<i>PATH</i></code>.
</p>
<p>See the following <a href="/Usage/Configuration/M/Desktop_entries.html" class="mw-redirect" title="Desktop file">desktop file</a> example for playing DVDs from a local file system:
</p>
<pre>[Desktop Entry]
Type=Application
Name=mpv Media Player DVD 
GenericName=Multimedia player
Comment=Play movies and songs
Icon=mpv
Exec=mpv dvd:// --player-operation-mode=pseudo-gui --force-window --idle --dvd-device=%f
Terminal=false
Categories=AudioVideo;Audio;Video;Player;TV;
# (MimeType and X-KDE-Protocols omitted, see orginianl mpv.desktop file)
</pre>
<p>By replacing the Exec line with
</p>
<pre>Exec=mpv dvd://0 dvd://1 dvd://2 dvd://3 dvd://4 dvd://5 dvd://6 dvd://7 dvd://8 dvd://9  --player-operation-mode=pseudo-gui --force-window --idle --dvd-device=%f
</pre>
<p>the mpv player will queue DVD title 0 to 9 in the playlist, which allows the user to play the titles consecutively or jump forward and backward in the DVD titles with the mpv GUI.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=libdvdcss">libdvdcss</a></span>, to fix the error:
</p>
<pre>[dvdnav] Error getting next block from DVD 1 (Error reading from DVD.)
</pre>
<h3><span class="mw-headline" id="Quickly_cycle_between_aspect_ratios">Quickly cycle between aspect ratios</span></h3>
<p>You can cycle between aspect ratios using <code>Shift+a</code>.
</p>
<h3><span class="mw-headline" id="Ignoring_aspect_ratio">Ignoring aspect ratio</span></h3>
<p>You can ignore aspect ratio using <code>--keepaspect=<i>no</i></code>. To make option permanent, add line <code>keepaspect=<i>no</i></code> to configuration file.
</p>
<h3><span class="mw-headline" id="Draw_to_the_root_window">Draw to the root window</span></h3>
<p>Run <i>mpv</i> with <code>--wid=0</code>. <i>mpv</i> will draw to the window with a window ID of 0.
</p>
<h3><span class="mw-headline" id="Always_show_application_window">Always show application window</span></h3>
<p>To show application window even for audio files when launching mpv from command line use <code>--force-window</code> option. To make option permament, add line <code>force-window=yes</code> to the configuration file.
</p>
<h3><span class="mw-headline" id="Disable_video_output">Disable video output</span></h3>
<p>To disable video output when launching from command line use <code>--vid=no</code> option, or its alias, <code>--no-video</code>.
</p>
<h3><span class="mw-headline" id="Restoring_old_OSC">Restoring old OSC</span></h3>
<p>Since version 0.21.0, <i>mpv</i> has replaced the on-screen controls by a bottombar. In case you want on-screen controls back, you can edit the <i>mpv</i> configuration <a rel="nofollow"  href="https://github.com/mpv-player/mpv/wiki/FAQ#i-want-the-old-osc-back">as described here</a>.
</p>
<h3><span class="mw-headline" id="Use_as_a_browser_plugin">Use as a browser plugin</span></h3>
<p>With the help of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/mozplugger/">mozplugger</a></span><sup><small>AUR</small></sup>, <i>mpv</i> can be used in a supported browser to play video. See <a href="/Usage/Configuration/M/Browser_plugins.html#MozPlugger" title="Browser plugins">Browser plugins#MozPlugger</a> for configuration details. This coupled with a user script such as <a rel="nofollow"  href="http://isebaro.com/viewtube/?ln=en">ViewTube</a>, allows you to use <i>mpv</i> in place of a site's integrated video player.
</p>
<p>It may be needed to specify a valid user agent for HTTP streaming, e.g. <code>user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0"</code>.
</p>
<p><a href="/Usage/Configuration/M/Browser_plugins.html#Multimedia_playback" title="Browser plugins">Browser plugins#Multimedia playback</a> page shows other easy ways to watch videos.
</p>
<h3><span class="mw-headline" id="Improving_mpv_as_a_music_player_with_Lua_scripts">Improving mpv as a music player with Lua scripts</span></h3>
<p>The development of <i>mpv'</i>s Lua scripts are documented in <a rel="nofollow"  href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/lua.rst">DOCS/man/lua.rst</a>
and examples are shown in <a rel="nofollow"  href="https://github.com/mpv-player/mpv/tree/master/TOOLS/lua">TOOLS/lua</a>
of the <a rel="nofollow"  href="https://github.com/mpv-player/mpv">mpv repository</a>.
<a rel="nofollow"  href="https://web.archive.org/web/20160320001546/http://bamos.github.io/2014/07/05/mpv-lua-scripting/">This blog post</a> introduces the
<a rel="nofollow"  href="https://github.com/bamos/dotfiles/blob/master/.mpv/scripts.old/music.lua">music.lua</a> script,
which shows how Lua scripts can be used to improve <i>mpv</i> as a music player.
</p>
<h3><span class="mw-headline" id="Twitch.tv_streaming_over_mpv">Twitch.tv streaming over mpv</span></h3>
<p>If <a href="/Usage/Configuration/M/Youtube-dl.html" title="Youtube-dl">youtube-dl</a> is installed, <i>mpv</i> can directly open a Twitch livestream.
</p>
<p>Alternatively, see <a href="/Usage/Configuration/M/Streamlink.html#Twitch" title="Streamlink">Streamlink#Twitch</a>.
</p>
<p>Another alternative based on Livestreamer is this Lua script: <a rel="nofollow"  href="https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc">https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc</a>
</p>
<h3><span class="mw-headline" id="youtube-dl_and_choosing_formats">youtube-dl and choosing formats</span></h3>
<p>The default <code>--ytdl-format</code> is <code>bestvideo+bestaudio/best</code>. For youtube videos that have 4K resolutions available, this may mean that your device will struggle to decode 4K VP9 encoded video in software even if the attached monitor is much lower resolution.
</p>
<p>Setting the right youtube-dl format selectors can fix this easily though. In the following configuration example, only videos with a vertical resolution of 1080 pixels or less will be considered.
</p>
<pre>ytdl-format="bestvideo[height&lt;=?1080]+bestaudio/best"
</pre>
<p>If you wish to avoid a certain codec altogether because you cannot hardware-decode it, you can add this to the format selector. For example, we can additionally choose to ignore VP9 as follows:
</p>
<pre>ytdl-format="bestvideo[height&lt;=?1080][vcodec!=vp9]+bestaudio/best"
</pre>
<p>If you prefer best quality open codecs (VP9 and Opus), use:
</p>
<pre>ytdl-format="((bestvideo[vcodec^=vp9]/bestvideo)+(bestaudio[acodec=opus]/bestaudio[acodec=vorbis]/bestaudio[acodec=aac]/bestaudio))/best"
</pre>
<h3><span class="mw-headline" id="youtube-dl_audio_with_search">youtube-dl audio with search</span></h3>
<p>To find and stream audio from your terminal emulator with <code>yta <i>search terms</i></code> put the following function in your <code>.bashrc</code>:
</p>
<pre>function yta() {
    mpv --ytdl-format=bestaudio ytdl://ytsearch:"$*"
}
</pre>
<h3><span class="mw-headline" id="Creating_a_single_screenshot">Creating a single screenshot</span></h3>
<p>An example of creating a single screenshot, by using a start time (<code>HH:MM:SS</code>):
</p>
<pre>$ mpv --no-audio --start=00:01:30 --frames=1 /path/to/video/file --o=/path/to/screenshot.png
</pre>
<p>Screenshots will be saved in /path/to/screenshot.png.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="General_debugging">General debugging</span></h3>
<p>If you are having trouble with <i>mpv'</i>s playback (or if it is flat out failing to run) then the first three things you should do are:
</p>
<ol>
<li>Run <i>mpv</i> from the command line (the -v flag increases verbosity). If you are lucky there will be an error message there telling you what is wrong.<br><code>$ mpv -v video.mkv</code>
</li>
<li>Have <i>mpv</i> output a log file. The log file might be difficult to sift through but if something is broken you might see it there.<br><code>$ mpv -v --log-file=./log video.mkv</code>
</li>
<li>Run <i>mpv</i> without a configuration. If this runs well then the problem is somewhere in your configuration (perhaps your hardware cannot keep up with your settings).<br><code>$ mpv --no-config video.mkv</code>
</li>
</ol>
<p>If <i>mpv</i> runs but it just does not run well then a fourth thing that might be worth taking a look at is installing the <a href="#mpv-stats">mpv-stats</a> script and using it to see exactly how it is performing.
</p>
<h3><span class="mw-headline" id="Fix_jerky_playback_and_tearing">Fix jerky playback and tearing</span></h3>
<p><i>mpv</i> defaults to using the OpenGL video output device setting on hardware that supports it. In cases such as trying to play video back on a 4K display using a Intel HD4XXX series card or similar, you will find video playback unreliable, jerky to the point of stopping entirely at times and with major tearing when using any OpenGL output setting. If you experience any of these issues, using the XV (<a href="/Usage/Configuration/M/Xorg.html" title="Xorg">Xorg</a> only) video output device may help:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vo=xv</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is the most compatible VO on X, but may be low-quality, and has issues with OSD and subtitle display.</div>
<p>It is possible to increase playback performance even more (especially on lower hardware), but this decreases the video quality dramatically in most cases.
</p>
<p>The following <a href="#Configuration">options</a> may be considered to increase the video playback performance:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vd-lavc-fast
vd-lavc-skiploopfilter=&lt;skipvalue&gt;
vd-lavc-skipframe=&lt;skipvalue&gt;
vd-lavc-framedrop=&lt;skipvalue&gt;
vd-lavc-threads=&lt;threads&gt;</pre>
<h3><span class="mw-headline" id="Problems_with_window_compositors">Problems with window compositors</span></h3>
<p>Window compositors such as KWin or Mutter can cause trouble for playback smoothness. In such cases, it may help to set <code>x11-bypass-compositor=yes</code> to make <i>mpv</i> also disable window compositing when playing in windowed mode (if supported by the compositor).
</p>
<p>With KWin compositing and hardware decoding, you may also want to set <code>x11-bypass-compositor=no</code> to keep compositing enabled in fullscreen, since reanabling compositing after leaving fullscreen may introduce stutter for a period of time.
</p>
<h3>
<span id="No_volume_bar.2C_cannot_change_volume"></span><span class="mw-headline" id="No_volume_bar,_cannot_change_volume">No volume bar, cannot change volume</span>
</h3>
<p>Spin the mouse wheel over the volume icon.
</p>
<h3>
<span id="GNOME_Blank_screen_.28Wayland.29"></span><span class="mw-headline" id="GNOME_Blank_screen_(Wayland)">GNOME Blank screen (Wayland)</span>
</h3>
<p><i>mpv</i> may not suspend GNOME's Power Saving Settings if using Wayland resulting in screen saver turning off the monitor during video playback. A workaround is to add <code>gnome-session-inhibit</code> to the beginning of the <code>Exec=</code> line in <code>mpv.desktop</code>.
</p>
<h3><span class="mw-headline" id="Use_mpv_with_a_compositor">Use mpv with a compositor</span></h3>
<p>If you are using a compositor (e.g. in KDE Plasma 5) and find that composition is disabled (e.g. in Plasma this would make you unable to present windows or see window thumbnails in the default app switcher) when <i>mpv</i> is playing a video, try <code>x11-bypass-compositor=no</code>
</p>
<h3><span class="mw-headline" id="Cursor_theme_not_respected_under_GNOME_Wayland">Cursor theme not respected under GNOME Wayland</span></h3>
<p>On Wayland, clients can display different cursor themes because there is not a unique configuration file for it. For the cursor theme, Qt apps usually accept the value that is set for the <a href="/Usage/Configuration/M/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>XCURSOR_THEME</code>. However, in the specific case of mpv, the cursor theme that is displayed needs to be the one set in <code>~/.icons/default/index.theme</code>. Since GNOME does not update this file when changing the cursor theme with GNOME Tweaks, you will have to do it manually. See <a href="/Usage/Configuration/M/Cursor_themes.html#XDG_specification" title="Cursor themes">Cursor themes#XDG specification</a> for more information.
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="/Usage/Configuration/M/Category:Video.html" title="Category:Video">Video</a></li>
<li><a href="/Usage/Configuration/M/Category:Audio.html" title="Category:Audio">Audio</a></li>
<li><a href="/Usage/Configuration/M/Category:Streaming.html" title="Category:Streaming">Streaming</a></li>
</ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mpv&amp;oldid=610350">https://wiki.archlinux.org/index.php?title=Mpv&amp;oldid=610350</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 3 May 2020, at 15:24.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/M/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/M/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/M/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



