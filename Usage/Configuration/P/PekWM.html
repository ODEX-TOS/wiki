<!--
    title: PekWM
    description: Migration of PekWM from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">PekWM</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/P/Window_manager.html" title="Window manager">Window manager</a></li>
</ul>
</div>
<p><a rel="nofollow"  href="http://pekwm.org">The Pek Window Manager</a> is written by Claes Nästen. The code is based on the aewm++ window manager, but it has evolved enough that it no longer resembles aewm++ at all. It also has an expanded feature-set, including window grouping (not unlike to <a href="/Usage/Configuration/P/Ion3.html" title="Ion3">ion3</a>, pwm, or even <a href="/Usage/Configuration/P/Fluxbox.html" title="Fluxbox">fluxbox</a>), auto properties, xinerama and keygrabber that supports keychains, and much more.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Starting"><span >2</span> <span >Starting</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuring_PekWM"><span >3</span> <span >Configuring PekWM</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#Menus"><span >3.1</span> <span >Menus</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#MenuMaker"><span >3.1.1</span> <span >MenuMaker</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Using_pekwm-menu"><span >3.1.2</span> <span >Using pekwm-menu</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Manually"><span >3.1.3</span> <span >Manually</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Hotkeys"><span >3.2</span> <span >Hotkeys</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Mouse"><span >3.3</span> <span >Mouse</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Startup_Programs"><span >3.4</span> <span >Startup Programs</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Variables"><span >3.5</span> <span >Variables</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Autoproperties"><span >3.6</span> <span >Autoproperties</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Themes"><span >4</span> <span >Themes</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Setting_a_Wallpaper"><span >5</span> <span >Setting a Wallpaper</span></a></li>
<li class="toclevel-1 tocsection-15">
<a href="#Troubleshooting"><span >6</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#When_using_Nvidia_TwinView,_windows_maximize_across_both_screens"><span >6.1</span> <span >When using Nvidia TwinView, windows maximize across both screens</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Compositing/transparency_does_not_work_properly"><span >6.2</span> <span >Compositing/transparency does not work properly</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Scrolling_doesn't_work_in_GTK_3_applications"><span >6.3</span> <span >Scrolling doesn't work in GTK 3 applications</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#See_also"><span >7</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/Usage/Configuration/P/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=pekwm">pekwm</a></span> package.
</p>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<p>Run <code>pekwm</code> with <a href="/Usage/Configuration/P/Xinit.html" title="Xinit">xinit</a>.
</p>
<h2><span class="mw-headline" id="Configuring_PekWM">Configuring PekWM</span></h2>
<p>The main configuration file is stored in the file <code>~/.pekwm/config</code>. It controls the workspace and viewports settings, the menu and harbour behaviour, window edge resistance, and more. There is an example file with complete documentation in the <a rel="nofollow"  href="http://www.pekwm.org/files/pekwm/doc/git/html/config/configfile.html">PekWM documentation</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>.
</p>
<h3><span class="mw-headline" id="Menus">Menus</span></h3>
<p>PekWM comes with pre-created menus by default stored in <code>~/.pekwm/menu</code>. These do not reflect an existing system and as such are likely to be inaccurate. These should be seen as an example only. 
</p>
<h4><span class="mw-headline" id="MenuMaker">MenuMaker</span></h4>
<p>One way to automatically set up menus for your installed applications is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=menumaker">menumaker</a></span>. To set up menus of all your installed applications run it with the following command:
</p>
<pre>mmaker --no-desktop pekwm
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This will not overwrite an existing menu file. If you want it to overwrite, add the -f flag to the above command.</div>
<p>To see a full list of options, run <code>mmaker --help</code>
</p>
<p>Now you can modify the menu file by hand, or simply regenerate the list whenever you install new software.
</p>
<h4><span class="mw-headline" id="Using_pekwm-menu">Using pekwm-menu</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/pekwm-menu/">pekwm-menu</a></span><sup><small>AUR</small></sup> from the <a href="/Usage/Configuration/P/TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> can create a dynamically updated applications menu based on the freedesktop.org xdg menu specification. Usage is fairly straightforward. Add a section similar to the following to your <code>~/.pekwm/menu</code> file:
</p>
<pre> Submenu = "Applications" { Icon = "ICON"
   Entry { Actions = "Dynamic pekwm-menu MENUFILE" }
 }
</pre>
<p>Change "ICON" and "MENUFILE" to your preferred icon and menu file. The menu file can be supplied via gnome, xfce, lxde or a custom creation. Xdg menu files are normally stored in <code>/etc/xdg/menus</code>.
</p>
<p>To see a full list of options, run <code>pekwm-menu --help</code>.
</p>
<h4><span class="mw-headline" id="Manually">Manually</span></h4>
<p>The menu file is <code>~/.pekwm/menu</code>. The syntax is fairly straightforward; a simple entry has the following structure:
</p>
<pre>Entry = "NAME" { Actions = "Exec COMMAND &amp;" }
</pre>
<p>A submenu has the following syntax:
</p>
<pre>Submenu = "NAME" {
     Entry = "NAME" { Actions = "Exec COMMAND &amp;" }
     Entry = "NAME" { Actions = "Exec COMMAND &amp;" }
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Make sure these brackets are always closed, or you will have errors and your menu will not display.</div>
<p>To add a separator line to the menu, use the following:
</p>
<pre>Separator {}
</pre>
<p>PekWM also supports dynamic menus. These are menu entries or submenus that display the output of a run script every time the entry or submenu is accessed. Check the exact syntax each menu requires, as they may vary. 
</p>
<p>You can find dynamic menus for <a rel="nofollow"  href="http://www.hewphoria.com/?p=submission&amp;type=config">Gmail and network connections</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>, and one to display the <a rel="nofollow"  href="http://urukrama.wordpress.com/2008/01/02/show-the-date-and-time-in-pekwms-menu/">time and date</a>. There is also a project called <a rel="nofollow"  href="http://www.pekwm.org/projects/11">pekwm_menu_tools</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup> which aim to be a set of useful applications for generating dynamic menus for PekWM.
</p>
<h3><span class="mw-headline" id="Hotkeys">Hotkeys</span></h3>
<p>The hotkey settings are stored in <code>~/.pekwm/keys</code>. This file controls all the keyboard bindings and keychains used in PekWM. You can add keyboard bindings to launch programs or to perform actions in PekWM, such as show a menu, move a window, switch desktops, etc. For a full list of PekWM's actions, see <a rel="nofollow"  href="http://www.pekwm.org/files/pekwm/doc/git/html/config/keys_mouse.html#config-keys_mouse-actions">the documentation</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>.
</p>
<p>You can have more than one action assigned to one key combination. To do so, just separate the actions by a semicolon. Here is an example:
</p>
<pre>KeyPress = "Ctrl Mod1 R" { Actions = "Exec osdctl -s 'Reconfiguring'; Reload" }
</pre>
<p>When you press Ctrl+Alt+R Pekwm will display on the screen the text 'Reconfiguring' (osdctl -s 'Reconfiguring') and reconfigure (Reload). (Note that this requires osdsh to be installed)
</p>
<p>The next example will bind a media key to lower the volume:
</p>
<pre>KeyPress = "XF86AudioLowerVolume" { Actions = "exec amixer set Master 5%- unmute &amp;" }
</pre>
<p>You can also do "chains" of keys, so for example the code
</p>
<pre>Chain = "Ctrl Mod1 C" {
     KeyPress = "Q" { Actions = "MoveToEdge TopLeft" }
     KeyPress = "W" { Actions = "MoveToEdge TopCenterEdge" }
}
</pre>
<p>Would make it so that if you first press <code>Ctrl+Alt+c</code> and then <code>q</code> you move the active window to the top left corner of the screen, and if you press <code>Ctrl+Alt+c</code> and then <code>w</code> you move the window to the top center edge.
</p>
<h3><span class="mw-headline" id="Mouse">Mouse</span></h3>
<p>The Mouse settings are stored in <code>~/.pekwm/mouse</code>. This file is also rather self-explanatory in it's layout. For example:
</p>
<pre>FrameTitle {
     ButtonRelease = "1" { Actions = "Raise; Focus" }
}
</pre>
<p>means that if you release button 1 (usually left mouse button) over the frame title of a window the window will be "Raised" above the other windows and it will become the focused window.
</p>
<p>One of the things PekWM is set up to do by default is to focus windows when the mouse moves over them (as opposed to the "click to focus" style). This is one thing that quite a few users would like to change to the more "traditional" way. To change this, look for the following lines in the file and do what they say (there are quite a few of the first, but only one occurrence of the second):
</p>
<pre># Remove the following line if you want to use click to focus.
# Uncomment the following line if windows should raise when clicked.
</pre>
<h3><span class="mw-headline" id="Startup_Programs">Startup Programs</span></h3>
<p>The startup programs file is <code>~/.pekwm/start</code>. If you'd like to display a wallpaper or launch a panel whenever Pekwm is started, you can add entries for these things in that file. Note, though, that these applications are run every time Pekwm is started -- including when you run 'Restart' in the root menu. The commands are executed only after Pekwm is started.
</p>
<p>To add an application, use the following structure:
</p>
<pre><i>nameofapplication</i> &amp;
</pre>
<p>The &amp; at the end is crucial, or anything after it won't be run. To give you an example of what this file could look like, here is mine:
</p>
<pre>xfce4-panel &amp;
conky &amp;
hsetroot -fill ~/images/darkwood.jpg &amp;
</pre>
<p>Before you can use this file, you will have to make it executable with the following command:
</p>
<pre>$ chmod +x ~/.pekwm/start
</pre>
<h3><span class="mw-headline" id="Variables">Variables</span></h3>
<p>The Variables file contains the general variables used in PekWM, the default entry should explain it quite clearly:
</p>
<pre>$TERM="xterm -fn fixed +sb -bg white -fg black"
</pre>
<p>Whenever the variable $TERM is used in any of PekWM's configuration files, the command xterm -fn fixed +sb -bg white -fg black will be run. For example changing it to: 
</p>
<pre>$TERM="urxvt"
</pre>
<p>would mean that <i>urxvt</i> would be loaded for terminal commands.
</p>
<h3><span class="mw-headline" id="Autoproperties">Autoproperties</span></h3>
<p>If you'd like certain applications to open on certain workspaces, have a certain title, skip the (window) menus, or be automatically tabbed together, you can specify all that here. It is probably the most confusing configuration file in PekWM, but it is also the most powerful file. The amount of things that can be set in this file are far too great to fit here, but it is explained in detail in the <a rel="nofollow"  href="http://www.pekwm.org/files/pekwm/doc/git/html/config/autoprops.html">autoproperties page of the documentation</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>. The default <code>~/.pekwm/autoproperties</code> file also contains a crash course to autopropping.
</p>
<h2><span class="mw-headline" id="Themes">Themes</span></h2>
<p>A collection of themes for PekWM can be found at <a rel="nofollow"  href="https://www.box-look.org/browse/cat/141/ord/latest/">Box-Look.org</a>.
</p>
<p>To install a theme, extract the theme archive to one of the theme paths:
</p>
<ul>
<li>global: <code>/usr/share/pekwm/themes</code>
</li>
<li>user only: <code>~/.pekwm/themes</code>
</li>
</ul>
<h2><span class="mw-headline" id="Setting_a_Wallpaper">Setting a Wallpaper</span></h2>
<p>Since PekWM is just a window manager and requires you to use a separate program to set a desktop wallpaper. See <a href="/Usage/Configuration/P/List_of_applications.html#Wallpaper_setters" title="List of applications">List of applications#Wallpaper setters</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="When_using_Nvidia_TwinView.2C_windows_maximize_across_both_screens"></span><span class="mw-headline" id="When_using_Nvidia_TwinView,_windows_maximize_across_both_screens">When using Nvidia TwinView, windows maximize across both screens</span>
</h3>
<p>Edit <code>~/.pekwm/config</code> and look for the line:
</p>
<pre>HonourRandr = "True"
</pre>
<p>and change it to
</p>
<pre>HonourRandr = "False"
</pre>
<p><a rel="nofollow"  href="https://projects.pekdon.net/projects/pekwm/tasks/124">Source</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>
</p>
<h3>
<span id="Compositing.2Ftransparency_does_not_work_properly"></span><span class="mw-headline" id="Compositing/transparency_does_not_work_properly">Compositing/transparency does not work properly</span>
</h3>
<p>As of v0.1.11, PekWM does not appear to correctly support compositing. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xcompmgr">xcompmgr</a></span> works, but transparent docks and panels do not, and shading windows creates graphical glitches. To fix that you can set the transparency of every window to <code>.999</code> (or any other value) with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=devilspie">devilspie</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/transset-df/">transset-df</a></span><sup><small>AUR</small></sup>, then shading windows works normally.
</p>
<p>An example of a devilspie script setting the transparency of every window to .999 with transset-df:
</p>
<pre>(spawn_async (str "transset-df -i " (window_xid) " .999" ))
</pre>
<h3>
<span id="Scrolling_doesn.27t_work_in_GTK_3_applications"></span><span class="mw-headline" id="Scrolling_doesn't_work_in_GTK_3_applications">Scrolling doesn't work in GTK 3 applications</span>
</h3>
<p>Try setting the <a href="/Usage/Configuration/P/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>GDK_CORE_DEVICE_EVENTS</code>. See <a rel="nofollow"  href="https://www.pekwm.org/project/pekwm/tasks/350">PekWM bug #350</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="http://pekwm.org/">Pekwm Homepage</a></li>
<li><a rel="nofollow"  href="http://ubuntuforums.org/showthread.php?t=662204">Howto: Install and configure Pekwm</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/P/Category:Stacking_WMs.html" title="Category:Stacking WMs">Stacking WMs</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/Usage/Configuration/P/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PekWM&amp;oldid=609758">https://wiki.archlinux.org/index.php?title=PekWM&amp;oldid=609758</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 2 May 2020, at 10:57.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/P/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/P/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/P/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



