<!--
    title: Python
    description: Migration of Python from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Python</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/P/Python_package_guidelines.html" title="Python package guidelines">Python package guidelines</a></li>
<li><a href="/Usage/Configuration/P/Python/Virtual_environment.html" title="Python/Virtual environment">Python/Virtual environment</a></li>
<li><a href="/Usage/Configuration/P/Apache_HTTP_Server/mod_wsgi.html" class="mw-redirect" title="Mod wsgi">mod_wsgi</a></li>
<li><a href="/Usage/Configuration/P/Django.html" title="Django">Django</a></li>
</ul>
</div>
<p>From <a href="https://en.wikipedia.org/wiki/Python_(programming_language)"  title="wikipedia:Python (programming language)">Wikipedia</a>:
</p>
<dl>
<dd>Python is a widely used high-level, general-purpose, interpreted, dynamic programming language. Its design philosophy emphasizes code readability, and its syntax allows programmers to express concepts in fewer lines of code than possible in languages such as C++ or Java. The language provides constructs intended to enable writing clear programs on both a small and large scale.</dd>
<dd>Python supports multiple programming paradigms, including object-oriented, imperative and functional programming or procedural styles. It features a dynamic type system and automatic memory management and has a large and comprehensive standard library.</dd>
</dl>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span >1</span> <span >Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Python_3"><span >1.1</span> <span >Python 3</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Python_2"><span >1.2</span> <span >Python 2</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Alternative_implementations"><span >1.3</span> <span >Alternative implementations</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Old_versions"><span >1.4</span> <span >Old versions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Package_management"><span >2</span> <span >Package management</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Widget_bindings"><span >3</span> <span >Widget bindings</span></a></li>
<li class="toclevel-1 tocsection-8">
<a href="#Tips_and_tricks"><span >4</span> <span >Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Alternative_shells"><span >4.1</span> <span >Alternative shells</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Virtual_environment"><span >4.2</span> <span >Virtual environment</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Tab_completion_in_Python_shell"><span >4.3</span> <span >Tab completion in Python shell</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Troubleshooting"><span >5</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Dealing_with_version_problem_in_build_scripts"><span >5.1</span> <span >Dealing with version problem in build scripts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span >6</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Python_3">Python 3</span></h3>
<p>Python 3 is the latest version of the language, and is incompatible with Python 2. The language is mostly the same, but many details, especially how built-in objects like dictionaries and strings work, have changed considerably, and a lot of deprecated features have finally been removed. Also, the standard library has been reorganized in a few prominent places. For an overview of the differences, visit <a rel="nofollow"  href="https://wiki.python.org/moin/Python2orPython3">Python2orPython3</a> and the relevant <a rel="nofollow"  href="http://getpython3.com/diveintopython3/porting-code-to-python-3-with-2to3.html">chapter</a> in Dive into Python 3.
</p>
<p>To install the latest version of Python 3, <a href="/Usage/Configuration/P/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python">python</a></span> package.
</p>
<p>If you would like to build the latest RC/betas from source, visit <a rel="nofollow"  href="https://www.python.org/downloads/">Python Downloads</a>. The <a href="/Usage/Configuration/P/TOS_User_Repository.html" title="TOS User Repository">TOS User Repository</a> also contains good <a href="/Usage/Configuration/P/PKGBUILD.html" title="PKGBUILD">PKGBUILDs</a>. If you do decide to build the RC, note that the binary (by default) installs to <code>/usr/local/bin/python3.x</code>. As an alternative which does not require superuser capabilities and installs to the home directory, consider using <a rel="nofollow"  href="https://github.com/pyenv/pyenv">pyenv</a>.
</p>
<h3><span class="mw-headline" id="Python_2">Python 2</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Python 2 reached its end of life on January 1st of 2020. Many packages still depend on Python 2 but that version of Python will not be maintained further. See: <a rel="nofollow"  href="https://www.python.org/doc/sunset-python-2/">Sunsetting Python 2</a> </div>
<p>To get the latest version of Python 2, <a href="/Usage/Configuration/P/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2">python2</a></span> package.
</p>
<p>Python 2 will happily run alongside Python 3. You need to specify <code>python2</code> in order to run this version.
</p>
<p>Any program requiring Python 2 needs to point to <code>/usr/bin/python2</code>, instead of <code>/usr/bin/python</code>, which points to Python 3. To do so, open the program or script in a <a href="/Usage/Configuration/P/List_of_applications/Documents.html#Text_editors" title="List of applications/Documents">text editor</a> and change the first line. The line will show one of the following:
</p>
<pre>#!/usr/bin/env python
</pre>
<p>or
</p>
<pre>#!/usr/bin/python
</pre>
<p>In both cases, just change <code>python</code> to <code>python2</code> and the program will then use Python 2 instead of Python 3.
</p>
<p>Another way to force the use of python2 without altering the scripts is to call it explicitly with <code>python2</code>:
</p>
<pre>$ python2 <i>myScript.py</i>
</pre>
<p>Finally, you may not be able to control the script calls, but there is a way to trick the environment. It only works if the scripts use <code>#!/usr/bin/env python</code>. It will not work with  <code>#!/usr/bin/python</code>. This trick relies on <code>env</code> searching for the first corresponding entry in the <code>PATH</code> variable.
</p>
<p>First create a dummy folder:
</p>
<pre>$ mkdir ~/bin
</pre>
<p>Then add a symlink <code>python</code> to <i>python2</i> and the config scripts in it:
</p>
<pre>$ ln -s /usr/bin/python2 ~/bin/python
$ ln -s /usr/bin/python2-config ~/bin/python-config
</pre>
<p>Finally put the new folder <i>at the beginning</i> of your <code>PATH</code> variable:
</p>
<pre>$ export PATH=~/bin:$PATH
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This method of changing <a href="/Usage/Configuration/P/Environment_variables.html" title="Environment variables">environment variables</a> is not permanent and is only active in the current terminal session.</div>
<p>To check which python interpreter is being used by <code>env</code>, use the following command:
</p>
<pre>$ which python
</pre>
<p>A similar approach in tricking the environment, which also relies on <code>#!/usr/bin/env python</code> to be called by the script in question, is to use a <a href="#Virtual_environment">virtual environment</a>.
</p>
<h3><span class="mw-headline" id="Alternative_implementations">Alternative implementations</span></h3>
<p>Sections above refer to the reference implementation of Python, called CPython. However, there are also other implementations available - the most popular ones:
</p>
<ul>
<li>
<a href="/Usage/Configuration/P/PyPy.html" title="PyPy">PyPy</a> is a Python 2.7/3.6 implementation utilizing a JIT compiler. It is generally faster and uses less memory, but is not fully compatible with CPython (although the majority of packages and code will work without any changes).</li>
<li>
<a rel="nofollow"  href="http://www.jython.org/">Jython</a> is a Python 2.7 implementation built in Java. It allows easy integration of Python and Java code, but is not fully compatible with CPython libraries. It is often used to provide Python as a scripting language in a bigger Java application.</li>
<li>
<a rel="nofollow"  href="http://ironpython.net/">IronPython</a> is a Python 2.7 implementation built in .NET - it achieves the same goals as Jython, but for .NET languages (like C#/VB).</li>
<li>
<a rel="nofollow"  href="https://micropython.org/">MicroPython</a> is a limited Python 3.4 implementation targeting microcontrollers and other embedded environments (like UEFI), but is incompatible with most standard packages due to <a rel="nofollow"  href="http://docs.micropython.org/wiki/latest/pyboard/genrst/index.html">minor syntax changes and severely limited standard library</a>. It is often used for prototyping in with embedded environments (as it provides a Python REPL).</li>
<li>
<a href="https://en.wikipedia.org/wiki/Python_(programming_language)#Implementations"  title="wikipedia:Python (programming language)">More implementations are available</a>, although most are no longer maintained due to improvements in the most popular ones.</li>
</ul>
<h3><span class="mw-headline" id="Old_versions">Old versions</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Python versions before 2.7 and 3.4 have not received any updates—including security patches—since at least 2014. Using older versions for Internet-facing applications or untrusted code may be dangerous and is not recommended.</div>
<p>Old versions of Python are available via the <a href="/Usage/Configuration/P/TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> and may be useful for historical curiosity, old applications that do not run on current versions, or for testing Python programs intended to run on a distribution that comes with an older version:
</p>
<ul>
<li>Python 3.7: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python37/">python37</a></span><sup><small>AUR</small></sup>
</li>
<li>Python 3.6: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python36/">python36</a></span><sup><small>AUR</small></sup>
</li>
<li>Python 3.5: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python35/">python35</a></span><sup><small>AUR</small></sup>
</li>
<li>Python 3.4: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python34/">python34</a></span><sup><small>AUR</small></sup>
</li>
<li>Python 2.6: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python26/">python26</a></span><sup><small>AUR</small></sup>
</li>
<li>Python 2.5: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python25/">python25</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>Extra modules/libraries for old versions of Python may be found on the AUR by searching for <code>python&lt;<i>version without period</i>&gt;</code>, e.g. searching for "python26" for 2.6 modules.
</p>
<h2><span class="mw-headline" id="Package_management">Package management</span></h2>
<p>Although a great number of Python packages are readily available in the <a href="/Usage/Configuration/P/Official_repositories.html" title="Official repositories">official repositories</a> and the <a href="/Usage/Configuration/P/TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>, the Python ecosystem provides its own package managers for use with <a rel="nofollow"  href="https://pypi.org/">PyPI</a>, the Python Package Index:
</p>
<ul><li>
<b>pip</b> — The PyPA tool for installing Python packages.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://pip.pypa.io/">https://pip.pypa.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-pip">python-pip</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-pip">python2-pip</a></span>
</dd></dl>
<ul><li>
<b>setuptools</b> — Easily download, build, install, upgrade, and uninstall Python packages.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://setuptools.readthedocs.io/">https://setuptools.readthedocs.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-setuptools">python-setuptools</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-setuptools">python2-setuptools</a></span>
</dd></dl>
<p>For a brief history and feature comparison between the two, see <a rel="nofollow"  href="https://packaging.python.org/pip_easy_install/#pip-vs-easy-install">pip vs easy_install</a>. Authoritative best practices in Python package management are detailed <a rel="nofollow"  href="https://packaging.python.org/">here</a>.
</p>
<p>If you must use <i>pip</i>, use a <a href="#Virtual_environment">virtual environment</a>, or <code>pip install --user</code> to avoid conflicts with packages in <code>/usr</code>. It is always preferred to <a href="/Usage/Configuration/P/System_maintenance.html#Use_the_package_manager_to_install_software" title="System maintenance">use pacman to install software</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There are also tools integrating <i>pip</i> with <i>pacman</i> by automatically generating PKGBUILDs for specified pip-packages: see <a href="/Usage/Configuration/P/Creating_packages.html#PKGBUILD_generators" title="Creating packages">Creating packages#PKGBUILD generators</a>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a rel="nofollow"  href="https://docs.pipenv.org/">pipenv</a> provides a single CLI for <a rel="nofollow"  href="https://github.com/pypa/pipfile">Pipfile</a>, <i>pip</i> and <a href="/Usage/Configuration/P/Python/Virtual_environment.html" class="mw-redirect" title="Virtualenv">virtualenv</a>. It is available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-pipenv">python-pipenv</a></span>.</div>
<h2><span class="mw-headline" id="Widget_bindings">Widget bindings</span></h2>
<p>The following <a href="https://en.wikipedia.org/wiki/Widget_toolkit"  title="wikipedia:Widget toolkit">widget toolkit</a> bindings are available:
</p>
<ul><li>
<b>TkInter</b> — Tk bindings</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://wiki.python.org/moin/TkInter">https://wiki.python.org/moin/TkInter</a> || standard module</dd></dl>
<ul><li>
<b>pyQt</b> — <a href="/Usage/Configuration/P/Qt.html" title="Qt">Qt</a> bindings</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://riverbankcomputing.com/software/pyqt/intro">https://riverbankcomputing.com/software/pyqt/intro</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python2-pyqt4/">python2-pyqt4</a></span><sup><small>AUR</small></sup> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-pyqt5">python2-pyqt5</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/python-pyqt4/">python-pyqt4</a></span><sup><small>AUR</small></sup> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-pyqt5">python-pyqt5</a></span>
</dd></dl>
<ul><li>
<b>pySide2</b> — <a href="/Usage/Configuration/P/Qt.html" title="Qt">Qt</a> bindings</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://wiki.qt.io/PySide2">https://wiki.qt.io/PySide2</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=pyside2">pyside2</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=pyside2-tools">pyside2-tools</a></span>
</dd></dl>
<ul><li>
<b>pyGTK</b> — <a href="/Usage/Configuration/P/GTK.html" title="GTK">GTK 2</a> bindings</li></ul>
<dl><dd>
<a rel="nofollow"  href="http://www.pygtk.org/">http://www.pygtk.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/pygtk/">pygtk</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>PyGObject</b> — <a href="/Usage/Configuration/P/GTK.html" title="GTK">GTK 2/3</a> bindings via GObject Introspection</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://wiki.gnome.org/PyGObject/">https://wiki.gnome.org/PyGObject/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-gobject2">python2-gobject2</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-gobject">python2-gobject</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-gobject">python-gobject</a></span>
</dd></dl>
<ul><li>
<b>wxPython</b> — wxWidgets bindings</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://wxpython.org/">https://wxpython.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python2-wxpython3">python2-wxpython3</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-wxpython">python-wxpython</a></span>
</dd></dl>
<p>To use these with Python, you may need to install the associated widget kits.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Alternative_shells">Alternative shells</span></h3>
<ul><li>
<b>bpython</b> — Fancy interface for the Python interpreter.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://bpython-interpreter.org/">https://bpython-interpreter.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=bpython">bpython</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/bpython2/">bpython2</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/IPython"  title="wikipedia:IPython">IPython</a></b> — Enhanced interactive Python shell.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://ipython.org/">https://ipython.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ipython">ipython</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ipython2">ipython2</a></span>
</dd></dl>
<ul><li>
<b><a href="/Usage/Configuration/P/Jupyter.html" title="Jupyter">Jupyter</a> Notebook</b> — Web interface to IPython.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://jupyter.org/">https://jupyter.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=jupyter-notebook">jupyter-notebook</a></span>
</dd></dl>
<ul><li>
<b>ptpython</b> — Fancy interface for the Python interpreter based on <a rel="nofollow"  href="https://github.com/jonathanslenders/python-prompt-toolkit">prompt-toolkit</a> input interface.</li></ul>
<dl><dd>
<a rel="nofollow"  href="https://github.com/jonathanslenders/ptpython">https://github.com/jonathanslenders/ptpython</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/ptpython/">ptpython</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3><span class="mw-headline" id="Virtual_environment">Virtual environment</span></h3>
<p>Python provides tools to create isolated environments in which you can install packages without interfering with the other virtual environments nor with the system Python's packages. It could change the <i>python</i> interpreter used for a specific application. 
</p>
<p>See <a href="/Usage/Configuration/P/Python/Virtual_environment.html" title="Python/Virtual environment">Python/Virtual environment</a> for details.
</p>
<h3><span class="mw-headline" id="Tab_completion_in_Python_shell">Tab completion in Python shell</span></h3>
<p>Since Python 3.4 <a rel="nofollow"  href="https://docs.python.org/3/tutorial/interactive.html">tab completion</a> is enabled by default, for Python 2 you can manually enable it by adding the following lines to a file referenced by the <code>PYTHONSTARTUP</code> environment variable: <a rel="nofollow"  href="https://docs.python.org/2/library/rlcompleter.html">[1]</a>
</p>
<pre>import rlcompleter
import readline
readline.parse_and_bind("tab: complete")
</pre>
<p>Note that readline completer will only complete names in the global namespace. You can rely on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=python-jedi">python-jedi</a></span> for a richer tab completion experience <a rel="nofollow"  href="https://jedi.readthedocs.io/wiki/latest/docs/usage.html#tab-completion-in-the-python-shell">[2]</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Dealing_with_version_problem_in_build_scripts">Dealing with version problem in build scripts</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="/Usage/Configuration/P/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This is an ugly hack, instead explain how to recursively fix shebangs with <code>find</code> and <code>sed</code>. (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Python">Talk:Python#</a>)</div>
</div>
<p>Many projects' build scripts assume <code>python</code> to be Python 2, and that would eventually result in an error — typically complaining that <code>print 'foo'</code> is invalid syntax. Luckily, many of them call <i>python</i> from the <code>PATH</code> environment variable instead of hardcoding <code>#!/usr/bin/python</code> in the shebang line, and the Python scripts are all contained within the project tree. So, instead of modifying the build scripts manually, there is a workaround. Create <code>/usr/local/bin/python</code> with content like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/python</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
script=$(readlink -f -- "$1")
case "$script" in (/path/to/project1/*|/path/to/project2/*|/path/to/project3*)
    exec python2 "$@"
    ;;
esac

exec python3 "$@"
</pre>
<p>Where <code>/path/to/project1/*|/path/to/project2/*|/path/to/project3*</code> is a list of patterns separated by <code>|</code> matching all project trees. For some scripts, the path may not be the first parameter, for example Google SDK it sends <code>-S</code> as the first parameter. The readlink command should change to <code>script=$(readlink -f -- "$1")</code>.
</p>
<p>Do not forget to make it <a href="/Usage/Configuration/P/Help:Reading.html#Make_executable" class="mw-redirect" title="Executable">executable</a>. Afterwards scripts within the specified project trees will be run with Python 2.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="https://docs.python.org/">Official Python documentation</a></li>
<li>
<a rel="nofollow"  href="http://shop.oreilly.com/product/0636920028154.do">O'Reilly's Learning Python, 5th edition</a> commercial</li>
<li>
<a rel="nofollow"  href="http://www.diveintopython.net/">Dive Into Python</a>, <a rel="nofollow"  href="http://getpython3.com/diveintopython3/">Dive Into Python3</a>
</li>
<li><a rel="nofollow"  href="https://python.swaroopch.com/">A Byte of Python</a></li>
<li><a rel="nofollow"  href="https://learnpythonthehardway.org/">Learn Python the Hard Way</a></li>
<li><a rel="nofollow"  href="https://learnpython.org/">Learn Python</a></li>
<li>
<a rel="nofollow"  href="https://stephensugden.com/crash_into_python/">Crash into Python</a> (assumes familiarity with other programming languages)</li>
<li>
<a rel="nofollow"  href="https://www.apress.com/book/9781590598726">Beginning Game Development with Python and Pygame</a> commercial</li>
<li><a rel="nofollow"  href="http://www.greenteapress.com/thinkpython/">Think Python</a></li>
<li><a rel="nofollow"  href="https://pythonspot.com">Pythonspot</a></li>
<li><a rel="nofollow"  href="https://overiq.com/python/3.4/intro-to-python/">OverIQ Python Tutorial</a></li>
<li><a rel="nofollow"  href="https://www.techbeamers.com/python-tutorial-step-by-step/">Python Tutorial to Learn Step by Step</a></li>
<li>
<a rel="nofollow"  href="https://github.com/vinta/awesome-python">awesome-python</a> - A curated list of Python frameworks, libraries, software and resources.</li>
<li>
<a rel="nofollow"  href="https://github.com/mahmoud/boltons">boltons</a> - Constructs/recipes/snippets that would be handy in the standard library.</li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/P/Category:Programming_languages.html" title="Category:Programming languages">Programming languages</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/Usage/Configuration/P/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Python&amp;oldid=613918">https://wiki.archlinux.org/index.php?title=Python&amp;oldid=613918</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 17 May 2020, at 13:11.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/P/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/P/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/P/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



