<!--
    title: Sway
    description: Migration of Sway from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Sway</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/S/Window_manager.html" title="Window manager">Window manager</a></li>
</ul>
</div>
<p><i>sway</i> is a compositor for <a href="/Usage/Configuration/S/Wayland.html" title="Wayland">Wayland</a> designed to be fully compatible with <a href="/Usage/Configuration/S/I3.html" title="I3">i3</a>. According to <a rel="nofollow"  href="https://swaywm.org">the official website</a>:
</p>
<dl><dd>Sway is a tiling Wayland compositor and a drop-in replacement for the i3 window manager for X11. It works with your existing i3 configuration and supports most of i3's features, plus a few extras.</dd></dl>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Starting"><span >2</span> <span >Starting</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Manually"><span >2.1</span> <span >Manually</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#From_a_display_manager"><span >2.2</span> <span >From a display manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Configuration"><span >3</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Keymap"><span >3.1</span> <span >Keymap</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Typematic_delay_and_rate"><span >3.2</span> <span >Typematic delay and rate</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Statusbar"><span >3.3</span> <span >Statusbar</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Wallpaper"><span >3.4</span> <span >Wallpaper</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Input_devices"><span >3.5</span> <span >Input devices</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#HiDPI"><span >3.6</span> <span >HiDPI</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Custom_keybindings"><span >3.7</span> <span >Custom keybindings</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Floating_windows"><span >3.8</span> <span >Floating windows</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Xresources"><span >3.9</span> <span >Xresources</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Xwayland"><span >3.10</span> <span >Xwayland</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#Tips_and_tricks"><span >4</span> <span >Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Autostart_on_login"><span >4.1</span> <span >Autostart on login</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Enable_CapsLock/NumLock"><span >4.2</span> <span >Enable CapsLock/NumLock</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Current_keyboard_layout"><span >4.3</span> <span >Current keyboard layout</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Backlight_toggle"><span >4.4</span> <span >Backlight toggle</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Screen_capture_and_screen_sharing"><span >4.5</span> <span >Screen capture and screen sharing</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Control_swaynag_with_the_keyboard"><span >4.6</span> <span >Control swaynag with the keyboard</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Change_cursor_theme_and_size"><span >4.7</span> <span >Change cursor theme and size</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Troubleshooting"><span >5</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Application_launchers"><span >5.1</span> <span >Application launchers</span></a></li>
<li class="toclevel-2 tocsection-26">
<a href="#Virtualization"><span >5.2</span> <span >Virtualization</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="#Unable_to_start_Sway_from_tty"><span >5.2.1</span> <span >Unable to start Sway from tty</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#No_visible_cursor"><span >5.2.2</span> <span >No visible cursor</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-29"><a href="#Sway_socket_not_detected"><span >5.3</span> <span >Sway socket not detected</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Unable_to_retrieve_socket_path"><span >5.4</span> <span >Unable to retrieve socket path</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Keybindings_and_keyboard_layouts"><span >5.5</span> <span >Keybindings and keyboard layouts</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Java_applications"><span >5.6</span> <span >Java applications</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Scroll_on_border"><span >5.7</span> <span >Scroll on border</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34"><a href="#See_also"><span >6</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><i>sway</i> can be <a href="/Usage/Configuration/S/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a> with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=sway">sway</a></span> package. The development version can be installed using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/wlroots-git/">wlroots-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/sway-git/">sway-git</a></span><sup><small>AUR</small></sup>. It's advisable to always update <i>wlroots</i> when you update <i>sway</i>, due to tight dependencies.
</p>
<p>You may also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=swaylock">swaylock</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=swayidle">swayidle</a></span> to lock your screen and set up an idle manager.
</p>
<p>The default application launcher is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=dmenu">dmenu</a></span> and the default terminal emulator is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=alacritty">alacritty</a></span>. Before starting <i>sway</i> it is advisable to either install them or set a new launcher and terminal in the configuration.
</p>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<h3><span class="mw-headline" id="Manually">Manually</span></h3>
<p>To start Sway, simply type <code>sway</code> in the Linux console.
</p>
<h3><span class="mw-headline" id="From_a_display_manager">From a display manager</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Sway does not support display managers officially.<a rel="nofollow"  href="https://github.com/swaywm/sway/pull/3634#issuecomment-462779163">[1]</a>
</div>
<p>The sway session is located at <code>/usr/share/wayland-sessions/sway.desktop</code>. It is automatically recognized by modern display managers like <a href="/Usage/Configuration/S/GDM.html" title="GDM">GDM</a> and <a href="/Usage/Configuration/S/SDDM.html" title="SDDM">SDDM</a>.
</p>
<p>It is also possible to start sway as a <a rel="nofollow"  href="https://github.com/swaywm/sway/wiki/Systemd-integration#running-sway-itself-as-a---user-service">systemd user service</a> through the display manager.
</p>
<p>Also you can use text-based session manager, see <a href="/Usage/Configuration/S/Display_manager.html#Console" title="Display manager">Display manager#Console</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>If you already use i3, then copy your i3 configuration to <code>~/.config/sway/config</code> and it should work out of the box. Otherwise, copy the sample configuration file to <code>~/.config/sway/config</code>. It is located at <code>/etc/sway/config</code>, unless the <code>DFALLBACK_CONFIG_DIR</code> flag has been set. See <span class="plainlinks archwiki-template-man" title="$ man 5 sway"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/sway.5">sway(5)</a></span> for information on the configuration.
</p>
<h3><span class="mw-headline" id="Keymap">Keymap</span></h3>
<p>By default, sway starts with the US QWERTY keymap. To configure per-input:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input * {
    xkb_layout "us,de,ru"
    xkb_variant "colemak,,typewriter"
    xkb_options "grp:win_space_toggle"
}

input &lt;identifier&gt; xkb_model "pc101"
</pre>
<p>More details are available in <span class="plainlinks archwiki-template-man" title="$ man 7 xkeyboard-config"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/xkeyboard-config.7">xkeyboard-config(7)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 sway-input"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/sway-input.5">sway-input(5)</a></span>.
</p>
<p>The keymap can also be configured using environment variables (<code>XKB_DEFAULT_LAYOUT</code>, <code>XKB_DEFAULT_VARIANT</code>, etc.) when starting <code>sway</code> with config options taking precedence over environment variables.
</p>
<h3><span class="mw-headline" id="Typematic_delay_and_rate">Typematic delay and rate</span></h3>
<p>For change typematic delay and rate you can add following lines to your <code>input</code> section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input &lt;identifier&gt; repeat_delay 300
input &lt;identifier&gt; repeat_rate 30
</pre>
<h3><span class="mw-headline" id="Statusbar">Statusbar</span></h3>
<p><code>sway</code> ships with a default status bar in the form of <code>swaybar</code> which runs in a pure <a href="/Usage/Configuration/S/Wayland.html" title="Wayland">Wayland</a> environment. Installing the program <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=i3status">i3status</a></span> is an option to obtain a practical, default status bar under XWayland. All one has to do is add following snippet at the end of your sway config:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bar {
    status_command i3status
}
</pre>
<p>If you want to achieve colored output of i3status, you can adjust following part in the i3status configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/i3status/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">general {
    colors = true
    interval = 5
}</pre>
<p>In both examples, the system-wide installed configuration files has been copied over to the user directory and then modified. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=waybar">waybar</a></span> is an alternative to the bar included with sway (swaybar).</div>
<h3><span class="mw-headline" id="Wallpaper">Wallpaper</span></h3>
<p>Since  release 1.1.1 the wallpaper part of the SwayWM project was moved to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=swaybg">swaybg</a></span>, which is needed in order to run the output command.
</p>
<p>This line, which can be appended at the end of your sway configuration, sets a background image on all displays (output matches all with name <code>"*"</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">output "*" bg /home/onny/pictures/fredwang_norway.jpg fill
</pre>
<p>Of course you have to replace the file name and path according to your wallpaper.
</p>
<p>You may use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/azote/">azote</a></span><sup><small>AUR</small></sup> as the GTK3 frontend to swaybg.
</p>
<p>Solid colors may be set as follows:
</p>
<pre>output * bg #000000 solid_color
</pre>
<h3><span class="mw-headline" id="Input_devices">Input devices</span></h3>
<p>Its possible to tweak specific input device configurations. For example to enable tap-to-click and natural scolling for a touchpad, add an input block:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input "2:14:ETPS/2_Elantech_Touchpad" {
    tap enabled
    natural_scroll enabled
}
</pre>
<p>Where as the device identifier can be queried with:
</p>
<pre>$ swaymsg -t get_inputs
</pre>
<p>The output from the command, sometimes has a "\" to escape symbols like "/" (ie  <code>"2:14:ETPS\/2_Elantech_Touchpad"</code>) and it needs to be removed.
</p>
<p>More documentation and options like acceleration profiles can be found in <span class="plainlinks archwiki-template-man" title="$ man 5 sway-input"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/sway-input.5">sway-input(5)</a></span>.
</p>
<h3><span class="mw-headline" id="HiDPI">HiDPI</span></h3>
<p>Set your displays scale factor with the <code>output</code> command in your config file. The scale factor can be fractional, but it is usually 2 for HiDPI screens.
</p>
<pre>output &lt;name&gt; scale &lt;factor&gt;
</pre>
<p>You can find your display name with the following command:
</p>
<pre>$ swaymsg -t get_outputs
</pre>
<h3><span class="mw-headline" id="Custom_keybindings">Custom keybindings</span></h3>
<p><a href="/Usage/Configuration/S/Extra_keyboard_keys.html" title="Extra keyboard keys">Special keys</a> on your keyboard can be used to execute commands, for example to control your volume, your monitor brightness or your media player:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
</pre>
<p>To allow a keybinding to be executed while the lockscreen is active add the <code>--locked</code> parameter to bindsym.
</p>
<pre>bindsym --locked XF86AudioPlay exec playerctl play-pause
</pre>
<p>To control brightness you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=brightnessctl">brightnessctl</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=light">light</a></span>. For a list of utilities to control brightness and color correction see <a href="/Usage/Configuration/S/Backlight.html" title="Backlight">Backlight</a>.
</p>
<h3><span class="mw-headline" id="Floating_windows">Floating windows</span></h3>
<p>To enable floating windows or window assignments, open the application and then use the <code>app_id</code>, the <code>class</code>, the <code>instance</code> and the <code>title</code> attributes to enable floating windows/window assignments. The following command will list the properties of all the open windows.
</p>
<pre>$ swaymsg -t get_tree
</pre>
<p>To get only the <code>app_id</code>'s of all open windows use:
</p>
<pre>$ swaymsg -t get_tree | grep "app_id"
</pre>
<p>To get the <code>app_id</code> of the focused window use:
</p>
<pre>$ swaymsg -t get_tree | jq -r '..|try select(.focused == true)'
</pre>
<p>If the <code>app_id</code> happens to be null for some windows, you might have to use the <code>class</code> and/or the <code>instance</code> attributes to enable floating mode/window assignments. You can search the output and create fine grained rules for your windows.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">for_window [app_id="galculator"] floating enable
assign [] -&gt; 3
assign [class="^Urxvt$" instance="^htop$"] -&gt; 9</pre>
<p>This is similar to using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xorg-xprop">xorg-xprop</a></span> to find the <code>class</code> or <code>wm_name</code> attributes in <a href="/Usage/Configuration/S/Xorg.html" class="mw-redirect" title="X11">X11</a>.
</p>
<h3><span class="mw-headline" id="Xresources">Xresources</span></h3>
<p>Copy <code>~/.Xresources</code> to <code>~/.Xdefaults</code> to use them in Sway.
</p>
<h3><span class="mw-headline" id="Xwayland">Xwayland</span></h3>
<p>If a program crashes on start with the error message "cannot open display," it is likely that the program you are using is an X11 program. In order to use the Xwayland compatibility layer to run X11 programs under Wayland, it is necessary to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xorg-server-xwayland">xorg-server-xwayland</a></span> package.
</p>
<p>If you would like to disable Xwayland entirely and run a "pure" Wayland session, uninstall the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xorg-server-xwayland">xorg-server-xwayland</a></span> package and set the following configuration option:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xwayland disable
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Some programs need <a href="/Usage/Configuration/S/Wayland.html#GUI_libraries" title="Wayland">special environment variables or configuration options</a> to run natively under Wayland, and other programs (including most proprietary applications) do not support Wayland at all. Currently it is recommended to keep Xwayland on so that legacy applications can be used. </div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Autostart_on_login">Autostart on login</span></h3>
<p>To start sway from tty1 on login with default US keyboard, edit:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bash_profile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">if [[ -z $DISPLAY ]] &amp;&amp; [[ $(tty) = /dev/tty1 ]]; then
  XKB_DEFAULT_LAYOUT=us exec sway
fi
</pre>
<h3>
<span id="Enable_CapsLock.2FNumLock"></span><span class="mw-headline" id="Enable_CapsLock/NumLock">Enable CapsLock/NumLock</span>
</h3>
<p>Enable the capslock and/or numlock by adding the following lines to your sway config
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input * xkb_capslock enable
input * xkb_numlock enable
</pre>
<h3><span class="mw-headline" id="Current_keyboard_layout">Current keyboard layout</span></h3>
<p>The current keyboard layout can be retrieved as follows, where <code><i>kbd_identifier</i></code> needs to be replaced with your keyboard's identifier:
</p>
<pre>$ swaymsg -t get_inputs | jq '.[] | select(.identifier == "<i>kbd_identifier</i>") | .xkb_active_layout_name' | tr -d '"'
</pre>
<h3><span class="mw-headline" id="Backlight_toggle">Backlight toggle</span></h3>
<p>To turn off (and on) your displays with a key (e.g. <code>Pause</code>) bind the following script in your Sway <code>config</code>:
</p>
<pre>#!/bin/sh
read lcd &lt; /tmp/lcd
    if [ "$lcd" -eq "0" ]; then
        swaymsg "output * dpms on"
        echo 1 &gt; /tmp/lcd
    else
        swaymsg "output * dpms off"
        echo 0 &gt; /tmp/lcd
    fi
</pre>
<h3><span class="mw-headline" id="Screen_capture_and_screen_sharing">Screen capture and screen sharing</span></h3>
<p>See <a href="/Usage/Configuration/S/Screen_capture.html#Wayland" title="Screen capture">Screen capture#Wayland</a>.
</p>
<h3><span class="mw-headline" id="Control_swaynag_with_the_keyboard">Control swaynag with the keyboard</span></h3>
<p>Swaynag, the default warning/prompt program shipped with sway, only supports user interaction with the mouse. A helper program such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/swaynagmode/">swaynagmode</a></span><sup><small>AUR</small></sup> may be used to enable interaction via keyboard shortcuts.
</p>
<p>Swaynagmode works by first launching swaynag, then listening for signals which trigger actions such as selecting the next button, dismissing the prompt, or accepting the selected button. These signals are sent by launching another instance of the swaynagmode script itself with a control argument, such as <code>swaynagmode --select right</code> or <code>swaynagmode --confirm</code>. 
</p>
<p>Swaynagmode by default triggers the sway mode <code>nag</code> upon initialization, followed by <code>default</code> on exit. This makes it easy to define keybindings in your sway configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set $nag exec swaynagmode
mode "nag" {
  bindsym {
    Ctrl+d    mode "default"

    Ctrl+c    $nag --exit
    q         $nag --exit
    Escape    $nag --exit

    Return    $nag --confirm

    Tab       $nag --select prev
    Shift+Tab $nag --select next

    Left      $nag --select next
    Right     $nag --select prev

    Up        $nag --select next
    Down      $nag --select prev
  }
}
</pre>
<p>Note that, beginning in sway version 1.2, mode names are case-sensitive.
</p>
<p>You can configure sway to use swaynagmode with the configuration command <code>swaynag_command swaynagmode</code>.
</p>
<h3><span class="mw-headline" id="Change_cursor_theme_and_size">Change cursor theme and size</span></h3>
<p>To set the <a href="/Usage/Configuration/S/Cursor_themes.html" class="mw-redirect" title="Cursor theme">cursor theme</a> and size:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">seat seat0 xcursor_theme <i>my_cursor_theme</i> <i>my_cursor_size</i>
</pre>
<p>Where <code><i>my_cursor_theme</i></code> can be set to or replaced by a specific value like <code>default</code>, <code>Adwaita</code> or <code>Simple-and-Soft</code>, and <code><i>my_cursor_size</i></code> a value like <code>48</code>.
</p>
<p>You can inspect their values with <code>echo $XCURSOR_SIZE</code> and <code>echo $XCURSOR_THEME</code>.
</p>
<p>Note that you need to restart the application to see the changes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Wayland uses client-side cursors. It's possible that applications do not evaluate the values of <code>$XCURSOR_SIZE</code> and <code>$XCURSOR_THEME</code>.</div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Application_launchers">Application launchers</span></h3>
<p>i3-dmenu-desktop, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=dmenu">dmenu</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=rofi">rofi</a></span> all function relatively well in Sway, but all run under XWayland and suffer from the same issue where they can become unresponsive if the cursor is moved to a native Wayland window. The reason for this issue is that Wayland clients/windows do not have access to input devices unless they have focus of the screen. The XWayland server is itself a client to the Wayland compositor, so one of its XWayland clients must have focus for it to access user input. However, once one of its clients has focus, it can gather input and make it available to all XWayland clients through the X11 protocol. Hence, moving the cursor to an XWayland window and pressing Escape should fix the issue, and sometimes running <code>pkill</code> does too.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=bemenu">bemenu</a></span> is a native Wayland dmenu replacement which can optionally be combined with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/j4-dmenu-desktop/">j4-dmenu-desktop</a></span><sup><small>AUR</small></sup> to provide a Wayland-native combination for launching desktop files (as i3-dmenu-desktop does):
</p>
<pre>j4-dmenu-desktop --dmenu='bemenu -i --nb "#3f3f3f" --nf "#dcdccc" --fn "pango:DejaVu Sans Mono 12"' --term='termite'
</pre>
<p>You may need to set <code>BEMENU_BACKEND</code> environment variable to "wayland" if you choose not to disable XWayland.
</p>
<p>You can also build your own with a floating terminal and fzf  as discussed in a <a rel="nofollow"  href="https://github.com/swaywm/sway/issues/1367">GitHub issue</a>.
</p>
<p>Also <code>krunner</code> binary provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=plasma-workspace">plasma-workspace</a></span> package can serve as launcher, offering both XWayland and native Wayland support.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/wofi-hg/">wofi-hg</a></span><sup><small>AUR</small></sup> is a command launcher, that provides the same features as rofi but running under wayland. It is based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=wlroots">wlroots</a></span> library and use GTK3 for rendering. It works pretty well with sway.
</p>
<h3><span class="mw-headline" id="Virtualization">Virtualization</span></h3>
<p>Sway works with both <a href="/Usage/Configuration/S/VirtualBox.html" title="VirtualBox">VirtualBox</a> and <a href="/Usage/Configuration/S/VMware.html" title="VMware">VMware</a> ESXi.
</p>
<h4><span class="mw-headline" id="Unable_to_start_Sway_from_tty">Unable to start Sway from tty</span></h4>
<p>For ESXi, you need to enable 3D support under the <i>Hardware Configuration &gt; Video card settings</i>. See also <a href="/Usage/Configuration/S/VMware.html#Enable_3D_graphics_on_Intel_and_Optimus" title="VMware">VMware#Enable 3D graphics on Intel and Optimus</a>.
</p>
<h4><span class="mw-headline" id="No_visible_cursor">No visible cursor</span></h4>
<p>When using the VMSVGA graphics controller, the cursor is invisible. This can be fixed by using software cursors as discussed in <a rel="nofollow"  href="https://github.com/swaywm/sway/issues/3814">[2]</a>:
</p>
<pre>$ export WLR_NO_HARDWARE_CURSORS=1
</pre>
<h3><span class="mw-headline" id="Sway_socket_not_detected">Sway socket not detected</span></h3>
<p>Using a <code>swaymsg</code> argument, such as <code>swaymsg -t get_outputs</code>, will sometimes return the message:
</p>
<pre>sway socket not detected.
ERROR: Unable to connect to
</pre>
<p>when run inside a terminal multiplexer (such as gnu screen or tmux). This means <code>swaymsg</code> could not connect to the socket provided in your <code>SWAYSOCK</code>.
</p>
<p>To view what the current value of <code>SWAYSOCK</code> is, type:
</p>
<pre>$ env | fgrep SWAYSOCK
SWAYSOCK=/run/user/1000/sway-ipc.1000.4981.sock
</pre>
<p>To work around this problem, you may try attaching to a socket based on the running sway process:
</p>
<pre>$ export SWAYSOCK=/run/user/$(id -u)/sway-ipc.$(id -u).$(pgrep -x sway).sock
</pre>
<p>To avoid this error, run the command outside of a multiplexer.
</p>
<h3><span class="mw-headline" id="Unable_to_retrieve_socket_path">Unable to retrieve socket path</span></h3>
<p>Requesting messages from <code>swaymsg -t</code> on a tty may return the following message:
</p>
<pre>Unable to retrieve socket path
</pre>
<p><code>SWAYSOCK</code> environment variable is set after launching Sway, therefore a workaround to this error is to request <code>swaymsg -t [message]</code> in a terminal inside Sway.
</p>
<h3><span class="mw-headline" id="Keybindings_and_keyboard_layouts">Keybindings and keyboard layouts</span></h3>
<p>By default, if you are using more than one keyboard layout, e.g. <code>input * xkb_layout "us,ru"</code>, bindings may become broken when you switch on some secondary layout.
</p>
<p>Thanks to <a rel="nofollow"  href="https://github.com/swaywm/sway/pull/3058">https://github.com/swaywm/sway/pull/3058</a>, all you need is to add <code>--to-code</code> key to sensitive <code>bindsym</code> lines like this:
</p>
<pre>bindsym --to-code {
  $mod+$left focus left
  $mod+$down focus down
  $mod+$up focus up
  $mod+$right focus right
}
</pre>
<h3><span class="mw-headline" id="Java_applications">Java applications</span></h3>
<p>Some Java-based applications will display blank screen when opened, for example any Intellij editor. To mitigate this, the application can be started with the <code>_JAVA_AWT_WM_NONREPARENTING</code> environment variable set to 1.
</p>
<p>If you start the application from a launcher like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=rofi">rofi</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=dmenu">dmenu</a></span>, you might want to modify the application desktop entry as shown in <a href="/Usage/Configuration/S/Desktop_entries.html#Modify_environment_variables" title="Desktop entries">Desktop entries#Modify environment variables</a>.
</p>
<h3><span class="mw-headline" id="Scroll_on_border">Scroll on border</span></h3>
<p>If using the mouse scroll wheel on an application's border crashes sway, you could use <code>border none</code> for the <code>app_id</code> (e.g. Firefox).
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="https://github.com/swaywm/sway">GitHub project</a></li>
<li><a rel="nofollow"  href="https://github.com/swaywm/sway/wiki">Sway official wiki</a></li>
<li><a rel="nofollow"  href="https://git.sr.ht/~sircmpwn/sway">sr.ht git page</a></li>
<li><a rel="nofollow"  href="https://swaywm.org">Website</a></li>
<li><a rel="nofollow"  href="https://drewdevault.com/2019/03/11/Sway-1.0-released.html">Announcing the release of sway 1.0</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="/Usage/Configuration/S/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li>
<li><a href="/Usage/Configuration/S/Category:Dynamic_WMs.html" title="Category:Dynamic WMs">Dynamic WMs</a></li>
</ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sway&amp;oldid=614441">https://wiki.archlinux.org/index.php?title=Sway&amp;oldid=614441</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 19 May 2020, at 19:14.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/S/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/S/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/S/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



