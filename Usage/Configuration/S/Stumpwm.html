<!--
    title: Stumpwm
    description: Migration of Stumpwm from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Stumpwm</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/S/Window_manager.html" title="Window manager">Window manager</a></li>
</ul>
</div>
<p>StumpWM is a tiling, keyboard driven X11 window manager written entirely in
Common Lisp.
</p>
<p>The successor to the cult classic <a href="/Usage/Configuration/S/Ratpoison.html" title="Ratpoison">Ratpoison</a>, StumpWM adds all the
flexibility and hackability of Common Lisp, allowing the user to make
modifications to the source of the window manager even while it is
running. It is also known as "the emacs of WMs."
</p>
<p>From <a rel="nofollow"  href="https://stumpwm.github.io/">StumpWM's homepage</a>:
</p>
<dl><dd>"StumpWM attempts to be customizable yet visually minimal. There are no window decorations, no icons, and no buttons. It does have various hooks to attach your personal customizations, and variables to tweak.</dd></dl>
<dl>
<dd><ul>
<li>Hack the good hack</li>
<li>Debug your good hack</li>
<li>Customize your window manager</li>
</ul></dd>
<dd>While it's running That's right. With a 100% Common Lisp window manager there's no stopping the hacks. Just re-eval and GO!"</dd>
</dl>
<p>Want to see it in action? A StumpWM user created
a <a rel="nofollow"  href="http://www.archive.org/details/TheStumpWMExperience">video</a>.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Documentation_and_Support"><span >2</span> <span >Documentation and Support</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span >3</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Change_cursor_from_default_X_shape"><span >3.1</span> <span >Change cursor from default X shape</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Change_window_focus_on_mouse_click"><span >3.2</span> <span >Change window focus on mouse click</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Enable_modeline"><span >3.3</span> <span >Enable modeline</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Set_font_for_messages_and_modeline"><span >3.4</span> <span >Set font for messages and modeline</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Tweaking"><span >4</span> <span >Tweaking</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Troubleshooting"><span >5</span> <span >Troubleshooting</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/Usage/Configuration/S/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/stumpwm/">stumpwm</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/stumpwm-git/">stumpwm-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>If you are installing without an AUR helper, you should install these packages in the following order:
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=sbcl">sbcl</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/cl-alexandria-git/">cl-alexandria-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/clx-git/">clx-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/cl-ppcre/">cl-ppcre</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/stumpwm/">stumpwm</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/stumpwm-git/">stumpwm-git</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>After installing put <code>exec stumpwm</code> in your <code>~/.xinitrc</code> and run <code>startx</code>.
To quit, with the default configuration press <code>C-t ;</code> then type quit and press enter.
</p>
<p>Both packages will install an xsession entry in <code>/usr/share/xsessions</code> so if you use a display manager that checks that directory, you should be good to go.
</p>
<p>For a list of commonly used key-bindings, press <code>C-t ?</code>.
</p>
<h2><span class="mw-headline" id="Documentation_and_Support">Documentation and Support</span></h2>
<p>There is a TeXInfo manual included in the AUR packages, the source, and <a rel="nofollow"  href="https://stumpwm.github.io/git/stumpwm-git.html">online</a>.
</p>
<p>There is also a <a rel="nofollow"  href="http://github.com/sabetts/stumpwm/wiki">wiki</a>, an IRC channel
(#stumpwm) on Freenode, and a <a rel="nofollow"  href="https://lists.nongnu.org/mailman/listinfo/stumpwm-devel">mailing list</a>. For more information, see <a rel="nofollow"  href="https://stumpwm.github.io/">the project's website</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>StumpWM stores its configuration in <code>~/.stumpwmrc</code> or you can use <code>~/.config/stumpwm/config</code>
</p>
<h3><span class="mw-headline" id="Change_cursor_from_default_X_shape">Change cursor from default X shape</span></h3>
<p>By default StumpWM leaves the cursor as XOrg's standard X shape with the hotspot in the centre. You can have the more usual left-facing pointer by running
</p>
<pre>xsetroot -cursor_name left_ptr
</pre>
<p>You can also put this in your config file
</p>
<pre>(run-shell-command "xsetroot -cursor_name left_ptr")
</pre>
<h3><span class="mw-headline" id="Change_window_focus_on_mouse_click">Change window focus on mouse click</span></h3>
<p>Clicking on another window will send the click event to that window, but it will not get focus meaning any keyboard input will go to whichever window has focus. The following line makes focus change to any window that is clicked on.
</p>
<pre>(setf *mouse-focus-policy* :click) 
</pre>
<h3><span class="mw-headline" id="Enable_modeline">Enable modeline</span></h3>
<p>This sets up a basic modeline with the group name followed by window names on the left and the date and time on the right.
</p>
<p>First set the window name format and overall modeline format
</p>
<pre>(setf *window-format* "%m%n%s%c")
(setf *screen-mode-line-format* (list "[^B%n^b] %W^&gt;%d"))
</pre>
<p>The date format is constructed using the same format specifiers as <span class="plainlinks archwiki-template-man" title="$ man 3 strftime"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/strftime.3">strftime(3)</a></span> e.g.
</p>
<pre>(setf *time-modeline-string* "%a %b %e %k:%M")
</pre>
<p>Optionally change how often the modeline updates on its own, in seconds (it also updates whenever you do something with StumpWM like switch window).
</p>
<pre>(setf *mode-line-timeout* 2)
</pre>
<p>Finally enable the modeline (this must come <i>after</i> you have set the options you wanted)
</p>
<pre>(enable-mode-line (current-screen) (current-head) t)
</pre>
<h3><span class="mw-headline" id="Set_font_for_messages_and_modeline">Set font for messages and modeline</span></h3>
<p>StumpWM uses the default XOrg font which is probably small and pixellated. You can use the ttf-fonts module to set a custom font.
</p>
<pre>(ql:quickload "clx-truetype")
(load-module "ttf-fonts")
(set-font (make-instance 'xft:font :family "DejaVu Sans Mono" :subfamily "Book" :size 11))
</pre>
<h2><span class="mw-headline" id="Tweaking">Tweaking</span></h2>
<p>See the wiki for a variety of useful tweaks for your .stumpwmrc.
</p>
<p>If you are an emacs user, you will find an emacs minor mode for editing
StumpWM files (and interfacing with the program <code>stumpish</code>, but
more on that below) in the contrib/ directory of the StumpWM source.
</p>
<p><code>stumpish</code> is the STUMP window manager Interactive SHell. It is
a program that allows the user to interact with StumpWM while it is
running, from the comfort of a terminal (or using the emacs mode). It
is installed with StumpWM in <code>/usr/bin/</code>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<ul><li>If you have problems configuring multiple monitors, maybe you need to install 'xorg-xdpyinfo' package.</li></ul>
<ul><li>If you cannot start stumpwm and get</li></ul>
<pre>           debugger invoked on a SB-INT:SIMPLE-PARSE-ERROR in thread
       #:
       no non-whitespace characters in string "".
       Type HELP for debugger help, or (SB-EXT:QUIT) to exit from SBCL.
       (no restarts: If you did not do this on purpose, please report it as a bug.)
       (PARSE-INTEGER "" :START 0 :END NIL :RADIX 10 :JUNK-ALLOWED NIL)
</pre>
<p>in the REPL, it can be solved by deleting <code>~/.Xauthority</code>. See <a rel="nofollow"  href="https://github.com/sabetts/stumpwm/issues/1">this issue on github</a>
</p>
<ul><li>If you have an issue with the SBCL_HOME being set to NIL, you may need to set it manually</li></ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can find the path using
<p><code>find / | grep sbcl.core</code>
</p>
</div>
<pre>export SBCL_HOME=/usr/lib/sbcl/</pre>
<p>Then you may reinstall stumpwm
</p>
<ul><li>If you can't use the mousewheel to scroll in some programs, try adding</li></ul>
<pre>(setf (getenv "GDK_CORE_DEVICE_EVENTS") "1")
</pre>
<p>to your <code>.stumpwmrc</code> (source: <a rel="nofollow"  href="https://mmk2410.org/2018/02/15/scrolling-doesnt-work-in-gtk-3-apps-in-stumpwm/">[1]</a>)
</p>
<ul><li>Quicklisp won't work in StumpWM if you installed it after installing StumpWM - in that case uninstall and reinstall StumpWM</li></ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/S/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Stumpwm&amp;oldid=604500">https://wiki.archlinux.org/index.php?title=Stumpwm&amp;oldid=604500</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 7 April 2020, at 10:16.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/S/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/S/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/S/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



