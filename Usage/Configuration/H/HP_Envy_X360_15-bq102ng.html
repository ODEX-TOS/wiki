<!--
    title: HP_Envy_X360_15-bq102ng
    description: Migration of HP_Envy_X360_15-bq102ng from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">HP Envy X360 15-bq102ng</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p><br>
The HP Envy X360 15-bq102ng was released in 2017. It has a Ryzen Mobile 5 2500u with an integrated Vega 8 GPU and 8GB of DDR4 RAM.
</p>
<table  style="float: right;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Model</b></td>
<td><b>Status</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td>GPU</td>
<td>AMD Vega 8 IGPU</td>
<td style="color:green"><b>Working</b></td>
<td>xf86-video-amdgpu;  Backlight works
</td>
</tr>
<tr>
<td>Wifi</td>
<td>Realtek RTL8822BE</td>
<td style="color:green"><b>Working</b></td>
<td>r8822be
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td>Realtek RTL8822BE</td>
<td style="color:green"><b>Working</b></td>
<td>btusb
</td>
</tr>
<tr>
<td>Audio</td>
<td></td>
<td style="color:green"><b>Working</b></td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Touchpad</td>
<td>Synaptics</td>
<td style="color:green"><b>Working</b></td>
<td>synaptics
</td>
</tr>
<tr>
<td>Camera</td>
<td>Normal 1080p + IR 336x340</td>
<td style="color:green"><b>Working</b></td>
<td>uvcvideo
</td>
</tr>
<tr>
<td>Card Reader</td>
<td>RTS522A</td>
<td style="color:green"><b>Working</b></td>
<td>rtsx_pci
</td>
</tr>
<tr>
<td>Sensors</td>
<td>STM Sensor hub</td>
<td style="color:green"><b>Working</b></td>
<td>Use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> to use autorotate
</td>
</tr>
<tr>
<td>USB C</td>
<td>AMD xHCI Host Controller</td>
<td style="color:green"><b>Working</b></td>
<td>Data and DP working
</td>
</tr>
</tbody>
</table>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installing_TOS"><span >1</span> <span >Installing TOS</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Battery_and_Power_Management"><span >2</span> <span >Battery and Power Management</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Display,_Video_Card"><span >3</span> <span >Display, Video Card</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Touchscreen_and_Stylus"><span >4</span> <span >Touchscreen and Stylus</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Orientation_Sensor"><span >5</span> <span >Orientation Sensor</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Wireless_Networking"><span >6</span> <span >Wireless Networking</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Bluetooth"><span >7</span> <span >Bluetooth</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Hard_Drive"><span >8</span> <span >Hard Drive</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Dual_Boot"><span >9</span> <span >Dual Boot</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Freezes"><span >10</span> <span >Freezes</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Unable_to_boot_on_linux_&gt;=_4.20"><span >11</span> <span >Unable to boot on linux-tos&gt;= 4.20</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installing_TOS">Installing TOS</span></h2>
<p>This laptop has secure boot enabled by default. To start the installer you need to disable it in the UEFI. Then you can just boot the installer in UEFI mode and just install like a normal UEFI system.
</p>
<h2><span class="mw-headline" id="Battery_and_Power_Management">Battery and Power Management</span></h2>
<p>On Linux 4.17 I get about 5 hours on light load, like watching youtube. Installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=tlp">tlp</a></span> is a good idea. Suspend and Hibernate works.
</p>
<h2>
<span id="Display.2C_Video_Card"></span><span class="mw-headline" id="Display,_Video_Card">Display, Video Card</span>
</h2>
<p>The integrated Vega GPU works with the AMDGPU drivers. Apparently the display panel is freesync capable.
</p>
<h2><span class="mw-headline" id="Touchscreen_and_Stylus">Touchscreen and Stylus</span></h2>
<p>As of 4.19.8 the touchscreen works out of the box.
</p>
<h2><span class="mw-headline" id="Orientation_Sensor">Orientation Sensor</span></h2>
<p>You currently need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> and reboot to make the orientation sensor work. 
This will disable the keyboard and touchpad, and invert the side volume buttons when the screen is held at the right orientation or is folded. The Gnome desktop environment does support the rotation natively. Other desktop enviroments may need extra software. You could compile and use this daemon <a rel="nofollow"  href="https://github.com/mrquincle/yoga-900-auto-rotate">[1]</a> written in C.
</p>
<h2><span class="mw-headline" id="Wireless_Networking">Wireless Networking</span></h2>
<p>Works out of the box.
</p>
<h2><span class="mw-headline" id="Bluetooth">Bluetooth</span></h2>
<p>Works, but to use an BT audio device with GNOME you have to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/pulseaudio-bluetooth-a2dp-gdm-fix/">pulseaudio-bluetooth-a2dp-gdm-fix</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Hard_Drive">Hard Drive</span></h2>
<p>Built-in NVME drive works with advertised speed. Blockdevices are loacated at /dev/nvme0n1p*. There is an empty bay for an additional SATA 2.5 inch drive, but you have to buy a proprietary cable.
</p>
<h2><span class="mw-headline" id="Dual_Boot">Dual Boot</span></h2>
<p>Not tested, but there shouldn't any difficulties.
</p>
<h2><span class="mw-headline" id="Freezes">Freezes</span></h2>
<p>On some devices the Laptop freezes randomly (e.g. when surfing on Youtube).
A workaround is to set these kernel-options: idle=nomwait rcu_nocbs=0-7
</p>
<h2>
<span id="Unable_to_boot_on_linux_.3E.3D_4.20"></span><span class="mw-headline" id="Unable_to_boot_on_linux_&gt;=_4.20">Unable to boot on linux-tos&gt;= 4.20</span>
</h2>
<p>This is caused by a firmware bug that is yet to be fixed. The only solution is to delete /usr/lib/firmware/amdgpu/raven_dmcu.bin and rebuilding the linux-tosboot image (sudo mkinitcpio -p linux)
</p>
<p>(thanks to Jay Fitzpatrick for discovering this)
</p>
<p>OpenCL will not work with this solution and any OpenCL application will crash the system. Otherwise works perfectly fine.
<a rel="nofollow"  href="https://bugs.freedesktop.org/show_bug.cgi?id=109206">https://bugs.freedesktop.org/show_bug.cgi?id=109206</a>
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../wiki/Category:HP.html" title="Category:HP">HP</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=HP_Envy_X360_15-bq102ng&amp;oldid=572711">https://wiki.archlinux.org/index.php?title=HP_Envy_X360_15-bq102ng&amp;oldid=572711</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 6 May 2019, at 23:33.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



