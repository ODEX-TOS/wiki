<!--
    title: Lenovo_ThinkPad_Yoga_260
    description: Migration of Lenovo_ThinkPad_Yoga_260 from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Lenovo ThinkPad Yoga 260</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span >1</span> <span >Overview</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Installation"><span >2</span> <span >Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Booting_the_install_USB"><span >2.1</span> <span >Booting the install USB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Configuration"><span >3</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#TrackPad"><span >3.1</span> <span >TrackPad</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#TrackPoint"><span >3.2</span> <span >TrackPoint</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#TouchScreen_and_Stylus"><span >3.3</span> <span >TouchScreen and Stylus</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Video"><span >3.4</span> <span >Video</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Card_reader"><span >3.5</span> <span >Card reader</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Bluetooth"><span >3.6</span> <span >Bluetooth</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Hardware_information"><span >4</span> <span >Hardware information</span></a></li>
<li class="toclevel-1 tocsection-12">
<a href="#Troubleshooting"><span >5</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#High_CPU_usage_in_idle"><span >5.1</span> <span >High CPU usage in idle</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Blank_screen_after_loading_kernel"><span >5.2</span> <span >Blank screen after loading kernel</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Screen_rotation_not_working"><span >5.3</span> <span >Screen rotation not working</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>Most functionality works out of the box, although a kernel of version 4.3 or higher is necessary for the video card and the wifi adapter and a kernel of version 4.9 or higher for the accelerometer to be recognized. Suspending the machine also works.
</p>
<table >
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Status</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td>Graphics</td>
<td style="color:green"><b>Working</b></td>
<td>i915
</td>
</tr>
<tr>
<td>Wireless</td>
<td style="color:green"><b>Working</b></td>
<td>iwlwifi
</td>
</tr>
<tr>
<td>Audio</td>
<td style="color:green"><b>Working</b></td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Touchscreen</td>
<td style="color:green"><b>Working</b></td>
<td>wacom
</td>
</tr>
<tr>
<td>Stylus</td>
<td style="color:green">
<b>Working</b> ¹</td>
<td>wacom,usbhid
</td>
</tr>
<tr>
<td>Accelerometer</td>
<td style="color:green"><b>Working</b></td>
<td>hid_sensor_accel_3d
</td>
</tr>
<tr>
<td>Touchpad</td>
<td style="color:green"><b>Working</b></td>
<td>psmouse
</td>
</tr>
<tr>
<td>Trackpoint</td>
<td style="color:green"><b>Working</b></td>
<td>psmouse
</td>
</tr>
<tr>
<td>Camera</td>
<td style="color:green"><b>Working</b></td>
<td>uvcvideo
</td>
</tr>
<tr>
<td>Card Reader</td>
<td style="color:green"><b>Working</b></td>
<td>mmc_core
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td style="color:green"><b>Working</b></td>
<td>btintel
</td>
</tr>
<tr>
<td>Fingerprint Reader</td>
<td style="color:green">
<b>Working</b> ²</td>
<td>
</td>
</tr>
<tr>
<td>Smartcard reader</td>
<td style="color:green"><b>Working</b></td>
<td>
</td>
</tr>
</tbody>
</table>
<p>¹Pen-buttons can be assigned with xsetwacom, see <a href="/Usage/Configuration/L/Wacom_tablet.html#Remapping_buttons" title="Wacom tablet">Wacom tablet#Remapping buttons</a>. Device name is "Wacom Co.,Ltd. Pen and multitouch sensor Pen stylus".
</p>
<p>²Using <a rel="nofollow"  href="https://github.com/3v1n0/libfprint">https://github.com/3v1n0/libfprint</a>. Bug tracker for fingerprint sensor: <a rel="nofollow"  href="https://gitlab.freedesktop.org/libfprint/libfprint/issues/54">https://gitlab.freedesktop.org/libfprint/libfprint/issues/54</a>
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Newer kernels boot without problems and the wifi should be available. If you get a blank screen after booting, the power modes are not supported by your kernel; refer to Troubleshooting.
</p>
<h3><span class="mw-headline" id="Booting_the_install_USB">Booting the install USB</span></h3>
<p>To access the boot menu and BIOS, use "F1". Disable secure boot from the BIOS.  UEFI boot mode works fine.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="TrackPad">TrackPad</span></h3>
<p>TrackPad works fine with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span>.
</p>
<h3><span class="mw-headline" id="TrackPoint">TrackPoint</span></h3>
<p>See <a href="/Usage/Configuration/L/TrackPoint.html" title="TrackPoint">TrackPoint</a>. Sometimes the TrackPoint stops working and dmesg reports a stream of garbage when it is touched. Removing and probing the kernel module solves the problem:
</p>
<pre># rmmod psmouse
# modprobe psmouse
</pre>
<h3><span class="mw-headline" id="TouchScreen_and_Stylus">TouchScreen and Stylus</span></h3>
<p>Touchscreen works with the Wacom driver (package: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span>).
Also using the Stylus, the bottom button of the pen is defined as the eraser and the top button works as a middle mouse button
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> See <a href="/Usage/Configuration/L/Tablet_PC.html" title="Tablet PC">Tablet PC</a> for more info on optimizing the touchscreen experience.</div>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<p>The kernel supports HD Graphics 520 from version 4.3. With default configuration, tearing is apparent when playing videos. DRI3 and glamor are supported. To solve tearing and use DRI3 and glamor, create the file <code>/etc/X11/xorg.conf.d/20-intel.conf</code> with the following content:
</p>
<pre>Section "Device"
   Identifier  "Intel Graphics"
   Driver      "intel"
   Option      "AccelMethod"  "glamor"
   Option      "DRI"    "3"
   Option      "TearFree"    "true"
EndSection
</pre>
<p>The miniDP port works, at least when used with a VGA adapter. The connected display shows up in <i>xrandr</i> correctly. The HDMI output works with Xorg and xf86-video-intel 1:2.99.917+730.
</p>
<h3><span class="mw-headline" id="Card_reader">Card reader</span></h3>
<p>The microSD-card reader works out of the box.
</p>
<h3><span class="mw-headline" id="Bluetooth">Bluetooth</span></h3>
<p>The Bluetooth adapter works out of the box. It was tested with Android tethering and file transfer.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Hardware_information">Hardware information</span></h2>
<p>The output of <i>lspci</i> is
</p>
<pre>00:00.0 Host bridge: Intel Corporation Sky Lake Host Bridge/DRAM Registers (rev 08)
00:02.0 VGA compatible controller: Intel Corporation Sky Lake Integrated Graphics (rev 07)
00:08.0 System peripheral: Intel Corporation Sky Lake Gaussian Mixture Model
00:13.0 Non-VGA unclassified device: Intel Corporation Device 9d35 (rev 21)
00:14.0 USB controller: Intel Corporation Device 9d2f (rev 21)
00:14.2 Signal processing controller: Intel Corporation Device 9d31 (rev 21)
00:16.0 Communication controller: Intel Corporation Device 9d3a (rev 21)
00:17.0 SATA controller: Intel Corporation Device 9d03 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Device 9d10 (rev f1)
00:1c.2 PCI bridge: Intel Corporation Device 9d12 (rev f1)
00:1f.0 ISA bridge: Intel Corporation Device 9d48 (rev 21)
00:1f.2 Memory controller: Intel Corporation Device 9d21 (rev 21)
00:1f.3 Audio device: Intel Corporation Device 9d70 (rev 21)
00:1f.4 SMBus: Intel Corporation Device 9d23 (rev 21)
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection I219-V (rev 21)
02:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. Device 522a (rev 01)
04:00.0 Network controller: Intel Corporation Wireless 8260 (rev 3a)
</pre>
<p>The output of <i>lsusb</i> is
</p>
<pre>Bus 001 Device 004: ID 138a:0090 Validity Sensors, Inc. 
Bus 001 Device 003: ID 13d3:5248 IMC Networks 
Bus 001 Device 002: ID 8087:0a2b Intel Corp. 
Bus 001 Device 005: ID 056a:5048 Wacom Co., Ltd 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<p><br>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="High_CPU_usage_in_idle">High CPU usage in idle</span></h3>
<p>If the Thinkpad has unusually high CPU usage in idle then it might be an acpi firmware issue. On Windows this behaviour stops after a regular update. On Linux you can workaround by disabling whatever device is interrupting excessively.
</p>
<p>Find the interrupting source:
</p>
<pre>grep . -r /sys/firmware/acpi/interrupts
</pre>
<p>This might output something like this:
</p>
<pre>...
/sys/firmware/acpi/interrupts/gpe34:   30289   enabled  &lt;-- this causes many interrupts
/sys/firmware/acpi/interrupts/gpe35:       3   enabled
...
</pre>
<p>Disable it (as root, not just sudo):
</p>
<pre>echo "disable" &gt; /sys/firmware/acpi/interrupts/gpe34
</pre>
<p>Now the CPU should idle at 0-2% usage.
</p>
<p><br>
Unfortunately you have to do that on every startup. A systemd service can do that automatically for you.
</p>
<p>Create <code>/etc/systemd/system/disable-interrupts.service</code>:
</p>
<pre>[Unit]
Description=Disable acpi interrupts
[Service]
ExecStart=/usr/bin/bash -c 'echo "disable" &gt; /sys/firmware/acpi/interrupts/gpe34'
[Install]
WantedBy=multi-user.target
</pre>
<p>Then <a href="/Usage/Configuration/L/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a> the <code>disable-interrupts.service</code> systemd unit.
</p>
<h3><span class="mw-headline" id="Blank_screen_after_loading_kernel">Blank screen after loading kernel</span></h3>
<p>This happens with older kernels because the Intel P-State driver had problems. The workaround is to disable the buggy part of the driver. To achieve this, add <code>intel_pstate=no_hwp</code> as a kernel parameter. If you use GRUB, edit your <code>/etc/default/grub</code> file and add the following:
</p>
<pre>GRUB_CMDLINE_LINUX="intel_pstate=no_hwp"
</pre>
<p>Don't forget to generate the config files with <code>grub-mkconfig</code>.
</p>
<p>With a standard TOS-USB-ISO this can be done by pressing the Tabulator-Key on selecting the boot-menu-entry.
</p>
<h3><span class="mw-headline" id="Screen_rotation_not_working">Screen rotation not working</span></h3>
<p>Enabling the option <code>"TearFree"</code> might break screen rotation: <i>xrandr -o left</i> will either result in a blank screen or in an error message (<code>xrandr: Configure crtc 0 failed</code>). The X.org Intel driver above version 1:2.99.917+641+ge4ef6e9 no longer has this bug. Either upgrade the driver or disable the tear-free playback.
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/L/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_Yoga_260&amp;oldid=562419">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_Yoga_260&amp;oldid=562419</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 8 January 2019, at 20:05.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/L/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/L/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/L/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



