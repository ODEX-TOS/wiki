<!--
    title: Lenovo_ThinkPad_T450s
    description: Migration of Lenovo_ThinkPad_T450s from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:40:39.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Lenovo ThinkPad T450s</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Model_description"><span >1</span> <span >Model description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Components"><span >1.1</span> <span >Components</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Support"><span >1.2</span> <span >Support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Configuration"><span >2</span> <span >Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Kernel_version"><span >2.1</span> <span >Kernel version</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Intel_ucode"><span >2.2</span> <span >Intel ucode</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Display"><span >2.3</span> <span >Display</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Wireless"><span >2.4</span> <span >Wireless</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Touchpad"><span >2.5</span> <span >Touchpad</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Sound"><span >2.6</span> <span >Sound</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Fingerprint_Reader"><span >2.7</span> <span >Fingerprint Reader</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#SD_Card_Reader"><span >2.8</span> <span >SD Card Reader</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Function_Keys"><span >2.9</span> <span >Function Keys</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Power_Management"><span >2.10</span> <span >Power Management</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#SSD"><span >2.11</span> <span >SSD</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#LEDs"><span >2.12</span> <span >LEDs</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Intel_Rapid_Start_Technology_(IRST)"><span >2.13</span> <span >Intel Rapid Start Technology (IRST)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#See_also"><span >3</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Model_description">Model description</span></h2>
<p>Lenovo ThinkPad T450s 
</p>
<h3><span class="mw-headline" id="Components">Components</span></h3>
<table >
<tbody>
<tr>
<td><b>PCI (lspci)</b></td>
<td>
<b>Driver</b>
</td>
</tr>
<tr>
<td>Intel Corporation Broadwell-U Host Bridge -OPI (rev 09)</td>
<td>bdw_uncore
</td>
</tr>
<tr>
<td>Intel Corporation Broadwell-U Integrated Graphics (rev 09)</td>
<td>i915
</td>
</tr>
<tr>
<td>Intel Corporation Broadwell-U Audio Controller (rev 09)</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP USB xHCI Controller (rev 03)</td>
<td>xhci_hcd; xhci_pci
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP MEI Controller #1 (rev 03)</td>
<td>mei_me
</td>
</tr>
<tr>
<td>Intel Corporation Ethernet Connection (3) I218-LM (rev 03)</td>
<td>e1000e
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP High Definition Audio Controller (rev 03)</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP PCI Express Root Port (rev e3)</td>
<td>pcieport; shpchp
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP USB EHCI Controller (rev 03)</td>
<td>ehci-pci; ehci_pci
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP LPC Controller (rev 03)</td>
<td>lpc-ich; lpc_ich
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP SATA Controller [AHCI Mode] (rev 03)</td>
<td>ahci
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP SMBus Controller (rev 03)</td>
<td>i801_smbus; i2c_i801
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP Thermal Management Controller (rev 03)</td>
<td>
</td>
</tr>
<tr>
<td>Realtek Semiconductor Co., Ltd. RTS5227 PCI Express Card Reader (rev 01)</td>
<td>rtsx_pci
</td>
</tr>
<tr>
<td>Intel Corporation Wireless 7265 (rev 59)</td>
<td>iwlwifi
</td>
</tr>
</tbody>
</table>
<table >
<tbody>
<tr>
<td><b>USB (usb-devices/lsusb)</b></td>
<td>
<b>Driver</b>
</td>
</tr>
<tr>
<td>Intel Corporation USB root hub</td>
<td>hub
</td>
</tr>
<tr>
<td>Validity Sensors Fingerprint Reader</td>
<td>
</td>
</tr>
<tr>
<td>Intel Corporation Bluetooth</td>
<td>btusb
</td>
</tr>
<tr>
<td>Chicony Electronics Integrated Camera</td>
<td>uvcvideo
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Support">Support</span></h3>
<table >
<tbody>
<tr>
<td><b>Device</b></td>
<td>
<b>Working</b>
</td>
</tr>
<tr>
<td><a href="/Usage/Configuration/I/Intel_graphics.html" title="Intel graphics">Intel graphics</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="/Usage/Configuration/N/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless network configuration">Wireless network configuration</a></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Manual
</td>
</tr>
<tr>
<td><a href="/Usage/Configuration/A/Advanced_Linux_Sound_TOSitecture.html" class="mw-redirect" title="ALSA">ALSA</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="/Usage/Configuration/L/Laptop.html#Touchpad" class="mw-redirect" title="Touchpad">Touchpad</a></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Manual
</td>
</tr>
<tr>
<td>Trackpad</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="/Usage/Configuration/W/Webcam_setup.html" class="mw-redirect" title="Webcam">Webcam</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Kernel_version">Kernel version</span></h3>
<p>The followin errors are encountred on boot since the version 4.10 of the kernel
</p>
<p><tt>Error parsing PCC subspaces from PCCT</tt> (<a rel="nofollow"  href="https://bugzilla.redhat.com/show_bug.cgi?id=1435837">bug report</a>)
</p>
<p><tt>ACPI Error: Needed type [Reference], found [Integer]</tt> 
</p>
<p>Add loglevel=0 to your kernel parameter to hide these errors.
</p>
<h3><span class="mw-headline" id="Intel_ucode">Intel ucode</span></h3>
<p>Be sure to install intel ucode for ucode update on intel CPUs and regenerate your boot loader. See <a href="/Usage/Configuration/M/Microcode.html" title="Microcode">Microcode</a> for details.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>.
</p>
<h3><span class="mw-headline" id="Display">Display</span></h3>
<p>See <a href="/Usage/Configuration/I/Intel_graphics.html" title="Intel graphics">Intel graphics</a> for details.
</p>
<h3><span class="mw-headline" id="Wireless">Wireless</span></h3>
<p>The T450s comes with two wireless card configurations: a Realtek chip which uses <tt>rtl8192ee</tt> driver and the Intel Dual-Band Wireless AC-7265 which uses the <tt>iwlwifi</tt> driver.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>You can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> and see <a href="/Usage/Configuration/L/Libinput.html" title="Libinput">Libinput</a> for configuration.
</p>
<h3><span class="mw-headline" id="Sound">Sound</span></h3>
<p>Make sure to install alsa-utils/ or that it is installed.
</p>
<p>See <a href="/Usage/Configuration/A/Advanced_Linux_Sound_TOSitecture.html#Set_the_default_sound_card" class="mw-redirect" title="ALSA">ALSA#Set the default sound card</a> to set the default sound card to Intel PCH (speakers and headphones).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/thinkpad-t450s.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd_hda_intel index=1,0</pre>
<p>make sure to reboot after these changes.
</p>
<h3><span class="mw-headline" id="Fingerprint_Reader">Fingerprint Reader</span></h3>
<p>See <a href="/Usage/Configuration/F/Fprint.html" title="Fprint">Fprint</a> or <a href="/Usage/Configuration/F/Fingerprint_GUI.html" class="mw-redirect" title="Fingerprint-gui">Fingerprint-gui</a>.
</p>
<p>Make sure you apply enough pressure when registering your fingerprints, this will improve the success rate.
</p>
<h3><span class="mw-headline" id="SD_Card_Reader">SD Card Reader</span></h3>
<p>The <code>rtsx_pci</code> driver does not appear to work for all SD cards, in particular microSDXC cards may be problematic. Installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/rts5227-dkms/">rts5227-dkms</a></span><sup><small>AUR</small></sup> instead fixed the issue. Note that a reboot is required after installing this package.
</p>
<h3><span class="mw-headline" id="Function_Keys">Function Keys</span></h3>
<p>All "special" keys either function or map to Xorg special key classes out of the box. Mappings are below:
</p>
<table >
<tbody>
<tr>
<td><b>Key</b></td>
<td><b>Console Keycode</b></td>
<td><b>XF86 Keysym</b></td>
<td><b>Windows 7 Function</b></td>
<td>Needs script
</td>
</tr>
<tr>
<td>F1</td>
<td>113</td>
<td>XF86AudioMute</td>
<td>Mute speakers</td>
<td>No
</td>
</tr>
<tr>
<td>F2</td>
<td>114</td>
<td>XF86AudioLowerVolume</td>
<td>Decreases the speaker volume</td>
<td>No
</td>
</tr>
<tr>
<td>F3</td>
<td>115</td>
<td>XF86AudioRaiseVolume</td>
<td>Increases the speaker volume</td>
<td>No
</td>
</tr>
<tr>
<td>F4</td>
<td>190</td>
<td>XF86AudioMicMute</td>
<td>Mutes/unmutes microphone</td>
<td>No
</td>
</tr>
<tr>
<td>F5</td>
<td>224</td>
<td>XF86MonBrightnessDown</td>
<td>Darkens display</td>
<td>No
</td>
</tr>
<tr>
<td>F6</td>
<td>225</td>
<td>XF86MonBrightnessUp</td>
<td>Brightens display</td>
<td>No
</td>
</tr>
<tr>
<td>F7</td>
<td>227</td>
<td>XF86Display</td>
<td>Switch between internal and external display</td>
<td>No
</td>
</tr>
<tr>
<td>F8</td>
<td>238</td>
<td>XF86WLAN</td>
<td>Enable/disable wireless</td>
<td>Yes
</td>
</tr>
<tr>
<td>F9</td>
<td>171</td>
<td>XF86Tools</td>
<td>Open "Control Panel"</td>
<td>No
</td>
</tr>
<tr>
<td>F10</td>
<td>217</td>
<td>XF86Search</td>
<td>Open "Windows Search"</td>
<td>No
</td>
</tr>
<tr>
<td>F11</td>
<td>120</td>
<td>XF86LaunchA</td>
<td>View open programs</td>
<td>No
</td>
</tr>
<tr>
<td>F12</td>
<td>144</td>
<td>XF86Explorer</td>
<td>Open "Computer"</td>
<td>No
</td>
</tr>
<tr>
<td>Fn+4</td>
<td>142</td>
<td>XF86Sleep</td>
<td>Enters sleep mode</td>
<td>NO
</td>
</tr>
<tr>
<td>Fn+p</td>
<td>119</td>
<td>Pause</td>
<td>Pause</td>
<td>Yes
</td>
</tr>
<tr>
<td>Fn+s</td>
<td>56+99</td>
<td>Sys_Req</td>
<td>SysReq</td>
<td>Yes
</td>
</tr>
<tr>
<td>Fn+K</td>
<td>70</td>
<td>Scroll_Lock</td>
<td>Scroll Lock</td>
<td>Yes
</td>
</tr>
<tr>
<td>Fn+B</td>
<td>29+119</td>
<td>Break</td>
<td>Break</td>
<td>Yes
</td>
</tr>
<tr>
<td>Fn+Spacebar</td>
<td>NONE</td>
<td>XF86Wakeup</td>
<td>Adjusts keyboard backlight</td>
<td>No
</td>
</tr>
</tbody>
</table>
<p>Note that there is a BIOS option to change the function keys so that F1 - F12 are the primary and the listed functions are only triggered by the "Fn" key.
</p>
<h3><span class="mw-headline" id="Power_Management">Power Management</span></h3>
<p>Be sure to install <a href="/Usage/Configuration/T/TLP.html" title="TLP">TLP</a> or <a href="/Usage/Configuration/P/Powertop.html" title="Powertop">powertop</a>. You can use tlp and powertop together (launch powertop as a service), but delete all the options on tlp and leave only the battery parameters.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/tlp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set to 0 to disable, 1 to enable TLP.
TLP_ENABLE=1

# Dirty page values (timeouts in secs).
MAX_LOST_WORK_SECS_ON_BAT=15

# Battery charge thresholds (ThinkPad only, tp-smapi or acpi-call kernel module
# required). Charging starts when the remaining capacity falls below the
# START_CHARGE_TRESH value and stops when exceeding the STOP_CHARGE_TRESH value.
# Main / Internal battery (values in %)
START_CHARGE_THRESH_BAT0=50
STOP_CHARGE_THRESH_BAT0=60
# Ultrabay / Slice / Replaceable battery (values in %)
START_CHARGE_THRESH_BAT1=60
STOP_CHARGE_THRESH_BAT1=70</pre>
<p>NB: with the version 4.17 of the kernel tlp should not be necessary anymore to set up the thresholds: 
</p>
<pre>/sys/class/power_supply/BAT{0-1}/charge_start_threshold
/sys/class/power_supply/BAT{0-1}/charge_stop_threshold
</pre>
<p>To enable power save mode on the audio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/audio_powersave.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd_hda_intel power_save=1</pre>
<p>To decrease the consumption of the intel chipset add <code>i915.enable_psr=1</code> to your kernel parameters (<a rel="nofollow"  href="https://hansdegoede.livejournal.com/18653.html">details here</a>).
</p>
<p>You can try to undervolt your system (look for <a rel="nofollow"  href="https://github.com/mihic/linux-intel-undervolt">intel undervolt</a>).
</p>
<h3><span class="mw-headline" id="SSD">SSD</span></h3>
<p>If you have an SSD installed, see <a href="/Usage/Configuration/S/Solid_state_drive.html" class="mw-redirect" title="SSD">SSD</a>.
</p>
<h3><span class="mw-headline" id="LEDs">LEDs</span></h3>
<p>There are six LEDs. All work out of the box. See the Lenovo manual for location and functionality of LEDs.
</p>
<h3>
<span id="Intel_Rapid_Start_Technology_.28IRST.29"></span><span class="mw-headline" id="Intel_Rapid_Start_Technology_(IRST)">Intel Rapid Start Technology (IRST)</span>
</h3>
<p>The T450s has firmware support for IRST. This will only be available if the T450s has an SSD rather than a traditional spinning-disc drive. The 16GB M.2 cache SSD can also be used for the IRST partition.
</p>
<p><a rel="nofollow"  href="https://mjg59.dreamwidth.org/26022.html">Per Matthew Garrett</a>,
</p>
<dl><dd>"[t]he concept of IRST is pretty simple. There's a firmware mechanism for setting a sleep timeout. If you suspend your computer and this timeout expires, it'll resume. However, instead of handing control back to the OS, the firmware just copies the entire contents of RAM to a special partition and turns the computer off. Next time you hit the power button, the firmware dumps the partition contents back into RAM and resumes as if nothing had changed. This takes a few seconds longer than resume from S3 but is far faster than resume from hibernation since it starts the moment the system gets power."</dd></dl>
<p>More specifically:
</p>
<dl><dd>"[t]he first thing to know about this feature is that it's entirely invisible unless your hard drive is set up correctly. There needs to be a partition that's at least the size of your system's physical RAM. For GPT systems, this needs to have a type GUID of D3BFE2DE-3DAF-11DF-BA-40-E3A556D89593. For MBR systems, you need a partition type of 0x84. If the firmware doesn't find an appropriate partition then the OS will get no indication that the firmware supports it."</dd></dl>
<p>If you are not wiping and repartitioning your disk entirely as you prepare your drive for TOS installation, merely retain the existing IRST partition. It should show up as an unformatted partition whose size is equal to that of the T450s's RAM.
</p>
<p>If you are wiping and repartitioning your disk, then create an empty partition with a size equal to your T450s's RAM. Then set the flag for the partition to "irst" using <a href="/Usage/Configuration/P/Parted.html" title="Parted">parted</a> or <a href="/Usage/Configuration/P/Parted.html" class="mw-redirect" title="GParted">GParted</a>.
</p>
<p>Now if you leave your T450s suspended to RAM for a certain period of time (3 hours is the default in BIOS) it will automatically wake back up after the configured period, copy the contents of RAM to the IRST partition, and turn itself off. When you power the laptop back up, instead of the regular boot process, it will copy the contents of the partition to RAM and resume from where you left off.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Depending on the size of your RAM and the speed of your SSD, the IRST hibernation process can take 20-60 seconds. The process is completed when the power LED stops blinking.</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow"  href="http://support.lenovo.com/us/wiki/products/laptops%20and%20netbooks/thinkpad%20t%20series%20laptops/thinkpad%20t450s">Lenovo T450s support page</a> (including downloadable technical manual)</li>
<li><a rel="nofollow"  href="https://wiki.debian.org/InstallingDebianOn/Thinkpad/T450s/jessie">Installing Debian Jessie on Thinkpad 450s</a></li>
<li><a rel="nofollow"  href="http://www.phoronix.com/scan.php?page=article&amp;item=lenovo-t450s-linux&amp;num=1">Phoronix article Fedora on Thinkpad 450s</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/C/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T450s&amp;oldid=608532">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T450s&amp;oldid=608532</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 27 April 2020, at 12:36.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/T/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/T/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/T/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



