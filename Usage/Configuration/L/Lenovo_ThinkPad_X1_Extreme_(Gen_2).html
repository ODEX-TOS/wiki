<!--
    title: Lenovo_ThinkPad_X1_Extreme_(Gen_2)
    description: Migration of Lenovo_ThinkPad_X1_Extreme_(Gen_2) from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:40:39.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Lenovo ThinkPad X1 Extreme (Gen 2)</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/L/Laptop/Lenovo.html" title="Laptop/Lenovo">Laptop/Lenovo</a></li>
<li><a href="/Usage/Configuration/L/Lenovo_ThinkPad_X1_Extreme.html" title="Lenovo ThinkPad X1 Extreme">Lenovo ThinkPad X1 Extreme</a></li>
</ul>
</div>
<table  style="float: right; clear: right;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Status</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td>Intel UHD 630 Graphics</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>i915
</td>
</tr>
<tr>
<td>NVIDIA GeForce GTX 1650</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>nvidia
</td>
</tr>
<tr>
<td>Intel AX200 Wifi</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>iwlwifi
</td>
</tr>
<tr>
<td>Intel HDA</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Synaptics touchpad</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>libinput
</td>
</tr>
<tr>
<td>Chicony Electronics</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>uvcvideo
</td>
</tr>
<tr>
<td>Card reader</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>xhci_hcd
</td>
</tr>
<tr>
<td>Intel AX200 Bluetooth</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>btusb
</td>
</tr>
<tr>
<td>Intel Thunderbolt</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>thunderbolt
</td>
</tr>
<tr>
<td>Synaptics fingerprint reader</td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Initial Support Complete</td>
<td>
</td>
</tr>
</tbody>
</table>
<p>The <a rel="nofollow"  href="https://www.lenovo.com/us/wiki/laptops/thinkpad/thinkpad-x/X1-Extreme-Gen-2/p/22TP2TXX1E2">Thinkpad X1E Gen 2</a>  is a thin-and-light 15.6" workstation/multimedia laptop from Lenovo's 2019 ThinkPad X lineup.
</p>
<p>This page specifically concerns the specifics of running TOS Linux on this laptop. See <a href="/Usage/Configuration/L/Laptop.html" title="Laptop">Laptop</a> for generic laptop-related information, or <a href="/Usage/Configuration/L/Laptop/Lenovo.html" class="mw-redirect" title="ThinkPad">ThinkPad</a> for other ThinkPad laptops.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Hardware"><span >1</span> <span >Hardware</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Thunderbolt_3"><span >1.1</span> <span >Thunderbolt 3</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Battery"><span >1.2</span> <span >Battery</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Invalid_stats_workaround"><span >1.2.1</span> <span >Invalid stats workaround</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Battery_life_and_graphics"><span >1.2.2</span> <span >Battery life and graphics</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6">
<a href="#Graphics"><span >1.3</span> <span >Graphics</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Nouveau"><span >1.3.1</span> <span >Nouveau</span></a></li>
<li class="toclevel-3 tocsection-8">
<a href="#NVIDIA"><span >1.3.2</span> <span >NVIDIA</span></a>
<ul>
<li class="toclevel-4 tocsection-9"><a href="#Prime_features"><span >1.3.2.1</span> <span >Prime features</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#Power_Management"><span >1.3.2.2</span> <span >Power Management</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="#Optimus_manager"><span >1.3.2.3</span> <span >Optimus manager</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-12">
<a href="#OLED_Display"><span >1.4</span> <span >OLED Display</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Brightness_control"><span >1.4.1</span> <span >Brightness control</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14">
<a href="#Audio"><span >1.5</span> <span >Audio</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Audio_pop_on_shutdown_and_startup"><span >1.5.1</span> <span >Audio pop on shutdown and startup</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Fingerprint"><span >1.6</span> <span >Fingerprint</span></a></li>
<li class="toclevel-2 tocsection-17">
<a href="#Card_reader"><span >1.7</span> <span >Card reader</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#Installation"><span >1.7.1</span> <span >Installation</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Testing"><span >1.7.2</span> <span >Testing</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#Webcam"><span >1.8</span> <span >Webcam</span></a></li>
<li class="toclevel-2 tocsection-21">
<a href="#Keyboard"><span >1.9</span> <span >Keyboard</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Backlight"><span >1.9.1</span> <span >Backlight</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Skipping_keystrokes"><span >1.9.2</span> <span >Skipping keystrokes</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24">
<a href="#Touchpad"><span >1.10</span> <span >Touchpad</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Acceleration"><span >1.10.1</span> <span >Acceleration</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Two-Finger_Right_Click"><span >1.10.2</span> <span >Two-Finger Right Click</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Tap_Clicking"><span >1.10.3</span> <span >Tap Clicking</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#WiFi"><span >1.11</span> <span >WiFi</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29">
<a href="#Firmware"><span >2</span> <span >Firmware</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Check_BIOS_version"><span >2.1</span> <span >Check BIOS version</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Upgrading_BIOS"><span >2.2</span> <span >Upgrading BIOS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32">
<a href="#Software"><span >3</span> <span >Software</span></a>
<ul>
<li class="toclevel-2 tocsection-33">
<a href="#Throttling_fix"><span >3.1</span> <span >Throttling fix</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#Throttled"><span >3.1.1</span> <span >Throttled</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#CPU_undervolting"><span >3.1.2</span> <span >CPU undervolting</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<h3><span class="mw-headline" id="Thunderbolt_3">Thunderbolt 3</span></h3>
<p>To use Thunderbolt 3, ensure you are on the latest BIOS firmware (doing the following steps on older BIOSes may brick your device):
</p>
<p>1. Go into BIOS
</p>
<p>2. Enable BIOS Assist mode: (Thunderbolt 3 -&gt; Enable BIOS assist mode) *Ensure you're on the latest BIOS!*
</p>
<h3><span class="mw-headline" id="Battery">Battery</span></h3>
<h4><span class="mw-headline" id="Invalid_stats_workaround">Invalid stats workaround</span></h4>
<p>As of writing, <a rel="nofollow"  href="https://bbs.archlinux.org/viewtopic.php?pid=1859876">a bug exists</a> where the battery data can appear corrupt, wildly incorrect, or seem to change drastically from boot to boot. To workaround this bug you should add battery to the  <code>/etc/mkinitcpio.conf</code>.
</p>
<pre>MODULES=(<b>battery</b>)
</pre>
<p>Remember to <a href="/Usage/Configuration/M/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a> for these changes to take effect.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can also build the battery module into your kernel.</div>
<h4><span class="mw-headline" id="Battery_life_and_graphics">Battery life and graphics</span></h4>
<p><a rel="nofollow"  href="https://bbs.archlinux.org/viewtopic.php?id=238389">bbswitch does not work</a> on this laptop to disable the NVIDIA card when not in use. To disable the NVIDIA card you can run:
</p>
<pre># tee /sys/bus/pci/devices/0000\:01\:00.1/remove &lt;&lt;&lt;1
# tee /sys/bus/pci/devices/0000\:01\:00.0/remove &lt;&lt;&lt;1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It may be much easier to just use optimus manager with the necessary power options described in <a href="#Graphics">#Graphics</a>
</div>
<h3><span class="mw-headline" id="Graphics">Graphics</span></h3>
<h4><span class="mw-headline" id="Nouveau">Nouveau</span></h4>
<p>Currently (5.2.9-arch1), the Nouveau driver can cause quite a lot of kernel panics when using the webcamera. You should blacklist this driver to prevent it from being loaded. 
</p>
<h4><span class="mw-headline" id="NVIDIA">NVIDIA</span></h4>
<h5><span class="mw-headline" id="Prime_features">Prime features</span></h5>
<p>The NVIDIA driver now supports PRIME Offloading. <a rel="nofollow"  href="http://download.nvidia.com/XFree86/Linux-x86_64/435.17/README/primerenderoffload.html">Following this guide</a> you can try out this new mode.
</p>
<h5><span class="mw-headline" id="Power_Management">Power Management</span></h5>
<p>To get the best power options the graphics card may be configured to use low power mode by <a rel="nofollow"  href="http://download.nvidia.com/XFree86/Linux-x86_64/435.17/README/dynamicpowermanagement.html">following the guide here</a>
</p>
<h5><span class="mw-headline" id="Optimus_manager">Optimus manager</span></h5>
<p>Currently, one of the easiest solutions for this laptop is to use <a rel="nofollow"  href="https://github.com/Askannz/optimus-manager">optimus-manager</a> with the hybrid backend. This requires the most up to date nvidia and xorg-server packages.
</p>
<p>This allows easy switching between the PRIME offloading feature above, and a mode where external display ports (HDMI and USB-C) work.
</p>
<p>Steps to setup after a fresh install:
</p>
<ul>
<li>install nvidia proprietary driver 'prime', not bumblebee.</li>
<li>reboot</li>
<li>install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/optimus-manager/">optimus-manager</a></span><sup><small>AUR</small></sup>
</li>
<li>reboot</li>
<li>`optimus-manager --switch nvidia` # this will restart your X session, but not make the change persistent</li>
<li>`lspci -k | grep -A 2 -E "(VGA|3D)"` should say: Kernel driver in use: nvidia</li>
<li>`xrandr` should list HDMI output - try to configure screen, should work</li>
<li>`nvidia-settings` should work</li>
<li>`optimus-manager --set-startup nvidia` makes it persistent</li>
<li>check: reboot, external display should still work</li>
</ul>
<p><br>
</p>
<h3><span class="mw-headline" id="OLED_Display">OLED Display</span></h3>
<h4><span class="mw-headline" id="Brightness_control">Brightness control</span></h4>
<p>OLED screens have no backlight, brightness cannot be controlled by changing backlight power in the traditional way. Instead, it can be controlled using PWM by enabling following option:
</p>
<pre>echo "options i915 enable_dpcd_backlight=1" &gt;&gt; /etc/modprobe.d/i915.conf
</pre>
<p>Alternatively, you can add a kernel parameter. For example, if you are using GRUB, edit /etc/default/grub with 
</p>
<pre>GRUB_CMDLINE_LINUX_DEFAULT="i915.enable_dpcd_backlight=1"
</pre>
<p>Don't forget to <a href="/Usage/Configuration/G/GRUB.html#Generate_the_main_configuration_file" title="GRUB">update the grub configuration</a> to apply the changes.
</p>
<p>Brightness control is not yet supported by standard tools. You can try this one <a rel="nofollow"  href="https://github.com/deimosfr/oled_backlight">https://github.com/deimosfr/oled_backlight</a>
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<h4><span class="mw-headline" id="Audio_pop_on_shutdown_and_startup">Audio pop on shutdown and startup</span></h4>
<p>To work around the loud audio artifacts on startup/shutdown follow the guide for enabling the audio powersave: <a href="/Usage/Configuration/P/Power_management.html#Audio" title="Power management">Power management#Audio</a>.
</p>
<h3><span class="mw-headline" id="Fingerprint">Fingerprint</span></h3>
<p>The 2.0 version of fprint <a rel="nofollow"  href="https://gitlab.freedesktop.org/libfprint/libfprint/issues/181">supports this device</a> after a firmware update.
</p>
<p>To get fingerprint working right now:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The Firmware for this is still in the testing phase at LVFS. Proceed with caution. </div>
<p>Install the following packages available on the <a href="/Usage/Configuration/T/TOS_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> :
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/libfprint-git/">libfprint-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/fprintd-libfprint2/">fprintd-libfprint2</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>And setup <a href="/Usage/Configuration/F/Fwupd.html" title="Fwupd">fwupd</a>
</p>
<p>The firmware updates currently require the newest version of fwupd and you must manually download the updates:
</p>
<ul>
<li><a rel="nofollow"  href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.firmware">https://fwupd.org/lvfs/devices/com.synaptics.prometheus.firmware</a></li>
<li><a rel="nofollow"  href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.config">https://fwupd.org/lvfs/devices/com.synaptics.prometheus.config</a></li>
</ul>
<p>using the latest version of the fwupd tool you should be able to run:
</p>
<pre>fwupdmgr get-devices
</pre>
<p>and see a "Prometheus" device in the list.
</p>
<p>Install the firmware by running
</p>
<pre>fwupdmgr install *.cab
</pre>
<p>on each downloaded .cab file
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> At this point, a reboot may be required </div>
<p>You should then be able to enroll your fingerprints with <a href="/Usage/Configuration/F/Fprint.html#Configuration" title="Fprint">Fprint#Configuration</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For some reason, <a rel="nofollow"  href="https://gitlab.freedesktop.org/libfprint/libfprint/issues/207">the fprint.service can take some time to start. if fprint reports no devices, wait until fprint.service has completely stopped (it should become inactive in systemctl) To fix this, reset the fingerprint data in your bios settings</a> </div>
<h3><span class="mw-headline" id="Card_reader">Card reader</span></h3>
<p>The optional card reader that the Lenovo can install in your laptop is a Alcor Micro AU9560. There are some tools you can use to test your card reader.
</p>
<h4><span class="mw-headline" id="Installation">Installation</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ccid">ccid</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=opensc">opensc</a></span> from <a href="/Usage/Configuration/O/Official_repositories.html" title="Official repositories">official repositories</a>. Then, <a href="/Usage/Configuration/S/Systemd.html#Using_units" class="mw-redirect" title="Start">Start</a> and enable <code>pcscd.socket</code>.
</p>
<pre>systemctl enable pcscd
systemctl start pcscd
</pre>
<h4><span class="mw-headline" id="Testing">Testing</span></h4>
<p>First, verify that your card reader can be found by pcsc:
</p>
<pre>opensc-tool --list-readers
</pre>
<p>Now, insert a smart card and run the following to verify that pcsc is able to read your card:
</p>
<pre>pcsc_scan
</pre>
<h3><span class="mw-headline" id="Webcam">Webcam</span></h3>
<p>The webcam in this laptop is capable of "Windows Hello" which has a Linux version called <a href="/Usage/Configuration/H/Howdy.html" title="Howdy">Howdy</a>. The device you should use to configure howdy on this laptop is <code>/dev/video0</code>. It is possible that <a href="/Usage/Configuration/H/Howdy.html" title="Howdy">Howdy</a> will only use the RGB camera, in this case some additional configuration and software is required. Follow <a rel="nofollow"  href="https://www.reddit.com/r/thinkpad/comments/ffd82c/setup_howdy_on_thinkpad_x1_extreme_gen_2/">this</a> guide on installing <a rel="nofollow"  href="https://github.com/PetePriority/chicony-ir-toggle">chicony-ir-toggle</a> and setting it up as a service. In this case try changing the video device to <code>/dev/video2</code> in the howdy config <code>sudo howdy config</code>, if everything has worked correctly when running <code>sudo howdy test</code> the IR Camera should have a very faint red light. This will indicate that the camera is functioning and <a href="/Usage/Configuration/H/Howdy.html" title="Howdy">Howdy</a> is using the IR camera correctly.
</p>
<h3><span class="mw-headline" id="Keyboard">Keyboard</span></h3>
<h4><span class="mw-headline" id="Backlight">Backlight</span></h4>
<p>If you would like to enable the keyboard backlight, run:
</p>
<pre>echo 2 | tee /sys/class/leds/tpacpi::kbd_backlight/brightness
</pre>
<p>The "2" represents the brightness and can be any value between 0 and 2 (inclusive) for the laptop. For example, to turn off the keyboard backlight, you would run:
</p>
<pre>echo 0 | tee /sys/class/leds/tpacpi::kbd_backlight/brightness
</pre>
<h4><span class="mw-headline" id="Skipping_keystrokes">Skipping keystrokes</span></h4>
<p>There is an issue with keystrokes being skipped at times (<a rel="nofollow"  href="https://forums.lenovo.com/t5/ThinkPad-X-Series-Laptops/X1-Extreme-Gen-2-missing-keystrokes/td-p/4569936?page=72">see the Lenovo forums</a>). This is resolved with system firmware version 1.30. See <a href="#Firmware">Firmware</a> to check your current version and upgrade.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>The touchpad works out-of-the-box with libinput. However, it will be very insensitive.
</p>
<p>Make sure to not install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> - this driver is deprecated, lacks all features mentioned below, but is still installed by default with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/groups/x86_64/xorg-drivers/">xorg-drivers</a></span> group.
</p>
<p>You can check which input driver Xorg is using for your touchpad with:
</p>
<pre>grep 'Using input driver' /var/log/Xorg.0.log | grep 'SynPS/2 Synaptics TouchPad'
# Expected output: [   248.282] (II) Using input driver 'libinput' for 'SynPS/2 Synaptics TouchPad'
</pre>
<p>You can explicitly chose an input driver by placing an Xorg configuration snippet like the following in /etc/X11/xorg.conf.d/99-synaptics.conf:
</p>
<pre>Section "InputClass"
       Identifier "touchpad catchall"
       MatchIsTouchpad "on"
       Driver "libinput"
EndSection
</pre>
<h4><span class="mw-headline" id="Acceleration">Acceleration</span></h4>
<p>You can adjust acceleration using the command:
</p>
<pre>xinput set-prop 'SynPS/2 Synaptics TouchPad' 'libinput Accel Speed' 0.5
</pre>
<h4><span class="mw-headline" id="Two-Finger_Right_Click">Two-Finger Right Click</span></h4>
<p>Additionally, if you wish to disable right-clicking so that you use two finger click as your right click, run:
</p>
<pre>xinput set-prop 'SynPS/2 Synaptics TouchPad' 'libinput Click Method Enabled' 0 1    
</pre>
<h4><span class="mw-headline" id="Tap_Clicking">Tap Clicking</span></h4>
<p>If you would like for a tap on the touchpad to be registered as a click, use:
</p>
<pre>xinput set-prop 'SynPS/2 Synaptics TouchPad' 'libinput Tapping Enabled' 1
</pre>
<h3><span class="mw-headline" id="WiFi">WiFi</span></h3>
<p>If your WiFi card is occasionally not detected after reboots, this may be related to a known bug that is related to windows fastboot. 
Workarounds are to completely shutdown the machine (no suspend or reboot), on next boot it works for me. 
Alternatives suggested are to first boot into windows, and/or disable windows fastboot in the bios. 
</p>
<p>References:
<a rel="nofollow"  href="https://bugzilla.kernel.org/show_bug.cgi?id=201319">[1]</a>
<a rel="nofollow"  href="https://askubuntu.com/questions/1083369/ubuntu-18-04-cannot-recognized-intel-wireless-ac-9260">[2]</a>
<a rel="nofollow"  href="https://bugzilla.kernel.org/show_bug.cgi?id=205299">[3]</a>
</p>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<p>BIOS and firmware updates are available via <a href="/Usage/Configuration/F/Fwupd.html" title="Fwupd">fwupd</a>, the Lenovo Vantage application on Windows, or from <a rel="nofollow"  href="https://pcsupport.lenovo.com/us/wiki/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-extreme-gen-2/downloads">Lenovo's website</a>.
</p>
<p>The latest BIOS version is highly recommended. All information on this page should assume the latest BIOS unless explicitly stated otherwise.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To install TOS Linux you need to disable <a href="/Usage/Configuration/U/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>. If you cannot do so (e.g. because of <code>error: failed to save storage - write protected</code>), it may help to reset the BIOS to factory defaults (F9) and/or upgrade your BIOS.</div>
<h3><span class="mw-headline" id="Check_BIOS_version">Check BIOS version</span></h3>
<p>From Lenovo's firmware readme, to check the system's installed BIOS version:
</p>
<pre>DETERMINING WHICH VERSION IS INSTALLED

 [Checking on ThinkPad Setup]

  1. Turn on the computer.
  2. While the "To interrupt normal startup, press Enter" message is displayed
     at the lower-left area or lower-center of the screen, press the F1 key.
     The ThinkPad Setup menu will be displayed. If a password prompt appears,
     type the correct password.
  3. Locate the UEFI BIOS Version line.
     "UEFI BIOS version (BIOS ID)" will be shown on the UEFI BIOS Version line.
  4. Turn off the computer.
</pre>
<p>Alternatively, use fwupdmgr from <a href="/Usage/Configuration/F/Fwupd.html" title="Fwupd">fwupd</a> without rebooting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ fwupdmgr get-devices</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
├─System Firmware:
│     Current version:     0.1.30
...</pre>
<h3><span class="mw-headline" id="Upgrading_BIOS">Upgrading BIOS</span></h3>
<p>Download the zip file labelled "BIOS Update Utility (Linux)" from <a rel="nofollow"  href="https://support.lenovo.com/us/wiki/downloads/ds540308">Lenovo's support website</a>. Extract the zip file, then use <a href="/Usage/Configuration/F/Fwupd.html" title="Fwupd">fwupd</a> to update the firmware:
</p>
<pre> $ su
 # fwupdmgr install &lt;filename&gt;.cab
</pre>
<p>Then reboot immediately to finish the upgrade.
</p>
<h2><span class="mw-headline" id="Software">Software</span></h2>
<h3><span class="mw-headline" id="Throttling_fix">Throttling fix</span></h3>
<p>You will see a dmesg error that talks about CPU throttling. 
</p>
<p>There are a few ways to fix this. You should only use one of the following as they both attempt to undervolt.
</p>
<h4><span class="mw-headline" id="Throttled">Throttled</span></h4>
<p>To fix this install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=throttled">throttled</a></span>, then run 
</p>
<pre>systemctl enable --now lenovo_fix.service
</pre>
<h4><span class="mw-headline" id="CPU_undervolting">CPU undervolting</span></h4>
<p>Undervolting the CPU/Intel GPU works well with <a href="/Usage/Configuration/U/Undervolting_CPU.html#intel-undervolt" title="Undervolting CPU">intel-undervolt</a>.
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/C/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Extreme_(Gen_2)&amp;oldid=616606">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Extreme_(Gen_2)&amp;oldid=616606</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 27 May 2020, at 16:50.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/T/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/T/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/T/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



