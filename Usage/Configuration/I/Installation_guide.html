<!--
    title: Installation_guide
    description: Migration of Installation_guide from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:40:39.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Installation guide</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<p>This document is a guide for installing <a href="/Usage/Configuration/T/TOS_Linux.html" title="TOS Linux">TOS Linux</a> from the live system booted with the official installation image. Before installing, it would be advised to view the <a href="/Usage/Configuration/F/Frequently_asked_questions.html" class="mw-redirect" title="FAQ">FAQ</a>. For conventions used in this document, see <a href="/Usage/Configuration/H/Help:Reading.html" title="Help:Reading">Help:Reading</a>. In particular, code examples may contain placeholders (formatted in <code><i>italics</i></code>) that must be replaced manually.
</p>
<p>For more detailed instructions, see the respective <a href="/Usage/Configuration/T/TOS Wiki:About.html" class="mw-redirect" title="TOS Wiki">TOS Wiki</a> articles or the various programs' <a href="/Usage/Configuration/M/Man_page.html" title="Man page">man pages</a>, both linked from this guide. For interactive help, the <a href="/Usage/Configuration/T/TOS_IRC_channels.html" class="mw-redirect" title="IRC channel">IRC channel</a> and the <a rel="nofollow"  href="https://bbs.archlinux.org/">forums</a> are also available.
</p>
<p>TOS Linux should run on any <a href="https://en.wikipedia.org/wiki/X86-64"  title="wikipedia:X86-64">x86_64</a>-compatible machine with a minimum of 530 MiB RAM. A basic installation should take less than 2 GiB of disk space. As the installation process needs to retrieve packages from a remote repository, this guide assumes a working internet connection is available.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Pre-installation"><span >1</span> <span >Pre-installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Verify_signature"><span >1.1</span> <span >Verify signature</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Boot_the_live_environment"><span >1.2</span> <span >Boot the live environment</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Set_the_keyboard_layout"><span >1.3</span> <span >Set the keyboard layout</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Verify_the_boot_mode"><span >1.4</span> <span >Verify the boot mode</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Connect_to_the_internet"><span >1.5</span> <span >Connect to the internet</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Update_the_system_clock"><span >1.6</span> <span >Update the system clock</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Partition_the_disks"><span >1.7</span> <span >Partition the disks</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Example_layouts"><span >1.7.1</span> <span >Example layouts</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Format_the_partitions"><span >1.8</span> <span >Format the partitions</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Mount_the_file_systems"><span >1.9</span> <span >Mount the file systems</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Installation"><span >2</span> <span >Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Select_the_mirrors"><span >2.1</span> <span >Select the mirrors</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Install_essential_packages"><span >2.2</span> <span >Install essential packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Configure_the_system"><span >3</span> <span >Configure the system</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Fstab"><span >3.1</span> <span >Fstab</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Chroot"><span >3.2</span> <span >Chroot</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Time_zone"><span >3.3</span> <span >Time zone</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Localization"><span >3.4</span> <span >Localization</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Network_configuration"><span >3.5</span> <span >Network configuration</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Initramfs"><span >3.6</span> <span >Initramfs</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Root_password"><span >3.7</span> <span >Root password</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Boot_loader"><span >3.8</span> <span >Boot loader</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#Reboot"><span >4</span> <span >Reboot</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Post-installation"><span >5</span> <span >Post-installation</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Pre-installation">Pre-installation</span></h2>
<p>The installation media and their <a href="/Usage/Configuration/G/GnuPG.html" title="GnuPG">GnuPG</a> signatures can be acquired from the <a rel="nofollow"  href="https://archlinux.org/download/">Download</a> page.
</p>
<h3><span class="mw-headline" id="Verify_signature">Verify signature</span></h3>
<p>It is recommended to verify the image signature before use, especially when downloading from an <i>HTTP mirror</i>, where downloads are generally prone to be intercepted to <a rel="nofollow"  href="https://www2.cs.arizona.edu/stork/packagemanagersecurity/attacks-on-package-managers.html">serve malicious images</a>. 
</p>
<p>On a system with <a href="/Usage/Configuration/G/GnuPG.html" title="GnuPG">GnuPG</a> installed, do this by downloading the <i>PGP signature</i> (under <i>Checksums</i>) to the ISO directory, and <a href="/Usage/Configuration/G/GnuPG.html#Verify_a_signature" title="GnuPG">verifying</a> it with: 
</p>
<pre>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-<i>version</i>-x86_64.iso.sig
</pre>
<p>Alternatively, from an existing TOS Linux installation run:
</p>
<pre>$ pacman-key -v archlinux-<i>version</i>-x86_64.iso.sig
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The signature itself could be manipulated if it is downloaded from a mirror site, instead of from <a rel="nofollow"  href="https://archlinux.org/download/">archlinux.org</a> as above. In this case, ensure that the public key, which is used to decode the signature, is signed by another, trustworthy key. The <code>gpg</code> command will output the fingerprint of the public key.</li>
<li>Another method to verify the authenticity of the signature is to ensure that the public key's fingerprint is identical to the key fingerprint of the <a rel="nofollow"  href="https://www.archlinux.org/people/developers/">TOS Linux developer</a> who signed the ISO-file. See <a href="https://en.wikipedia.org/wiki/Public-key_cryptography"  title="wikipedia:Public-key cryptography">Wikipedia:Public-key cryptography</a> for more information on the public-key process to authenticate keys.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Boot_the_live_environment">Boot the live environment</span></h3>
<p>The live environment can be booted from a <a href="/Usage/Configuration/U/USB_flash_installation_media.html" title="USB flash installation media">USB flash drive</a>, an <a href="/Usage/Configuration/O/Optical_disc_drive.html#Burning" title="Optical disc drive">optical disc</a> or a network with <a href="/Usage/Configuration/P/Preboot_Execution_Environment.html" class="mw-redirect" title="PXE">PXE</a>. For alternative means of installation, see <a href="/Usage/Configuration/C/Category:Installation_process.html" title="Category:Installation process">Category:Installation process</a>.
</p>
<ul>
<li>Pointing the current boot device to a drive containing the TOS installation media is typically achieved by pressing a key during the <a href="https://en.wikipedia.org/wiki/Power-on_self_test"  title="wikipedia:Power-on self test">POST</a> phase, as indicated on the splash screen. Refer to your motherboard's manual for details.</li>
<li>When the TOS menu appears, select <i>Boot TOS Linux</i> and press <code>Enter</code> to enter the installation environment.</li>
<li>See <a rel="nofollow"  href="https://projects.archlinux.org/archiso.git/tree/docs/README.bootparams">README.bootparams</a> for a list of <a href="/Usage/Configuration/K/Kernel_parameters.html#Configuration" title="Kernel parameters">boot parameters</a>, and <a rel="nofollow"  href="https://git.archlinux.org/archiso.git/tree/configs/releng/packages.x86_64">packages.x86_64</a> for a list of included packages.</li>
<li>You will be logged in on the first <a href="https://en.wikipedia.org/wiki/Virtual_console"  title="wikipedia:Virtual console">virtual console</a> as the root user, and presented with a <a href="/Usage/Configuration/Z/Zsh.html" title="Zsh">Zsh</a> shell prompt.</li>
</ul>
<p>To switch to a different console—for example, to view this guide with <a href="/Usage/Configuration/E/ELinks.html" title="ELinks">ELinks</a> alongside the installation—use the <code>Alt+<i>arrow</i></code> <a href="/Usage/Configuration/K/Keyboard_shortcuts.html" title="Keyboard shortcuts">shortcut</a>. To <a href="/Usage/Configuration/H/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Textedit">edit</a> configuration files, <a href="/Usage/Configuration/N/Nano.html#Usage" title="Nano">nano</a>, <a href="https://en.wikipedia.org/wiki/vi"  title="wikipedia:vi">vi</a> and <a href="/Usage/Configuration/V/Vim.html#Usage" title="Vim">vim</a> are available.
</p>
<h3><span class="mw-headline" id="Set_the_keyboard_layout">Set the keyboard layout</span></h3>
<p>The default <a href="/Usage/Configuration/L/Linux_console/Keyboard_configuration.html" class="mw-redirect" title="Console keymap">console keymap</a> is <a href="https://en.wikipedia.org/wiki/File:KB_United_States-NoAltGr.svg"  title="wikipedia:File:KB United States-NoAltGr.svg">US</a>. Available layouts can be listed with:
</p>
<pre># ls /usr/share/kbd/keymaps/**/*.map.gz
</pre>
<p>To modify the layout, append a corresponding file name to <span class="plainlinks archwiki-template-man" title="$ man 1 loadkeys"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/loadkeys.1">loadkeys(1)</a></span>, omitting path and file extension. For example, to set a <a href="https://en.wikipedia.org/wiki/File:KB_Germany.svg"  title="wikipedia:File:KB Germany.svg">German</a> keyboard layout:
</p>
<pre># loadkeys de-latin1
</pre>
<p><a href="/Usage/Configuration/L/Linux_console.html#Fonts" class="mw-redirect" title="Console fonts">Console fonts</a> are located in <code>/usr/share/kbd/consolefonts/</code> and can likewise be set with <span class="plainlinks archwiki-template-man" title="$ man 8 setfont"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/setfont.8">setfont(8)</a></span>.
</p>
<h3><span class="mw-headline" id="Verify_the_boot_mode">Verify the boot mode</span></h3>
<p>If UEFI mode is enabled on an <a href="/Usage/Configuration/U/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> motherboard, <a href="/Usage/Configuration/T/TOSiso.html" title="TOSiso">TOSiso</a> will <a href="/Usage/Configuration/T/TOS_boot_process.html" class="mw-redirect" title="Boot">boot</a> TOS Linux accordingly via <a href="/Usage/Configuration/S/Systemd-boot.html" title="Systemd-boot">systemd-boot</a>. To verify this, list the <a href="/Usage/Configuration/U/Unified_Extensible_Firmware_Interface.html#UEFI_variables" class="mw-redirect" title="UEFI">efivars</a> directory:
</p>
<pre># ls /sys/firmware/efi/efivars
</pre>
<p>If the directory does not exist, the system may be booted in <a href="https://en.wikipedia.org/wiki/BIOS"  title="wikipedia:BIOS">BIOS</a> or CSM mode. Refer to your motherboard's manual for details.
</p>
<h3><span class="mw-headline" id="Connect_to_the_internet">Connect to the internet</span></h3>
<p>To set up a network connection, go through the following steps:
</p>
<ul>
<li>Ensure your <a href="/Usage/Configuration/N/Network_configuration.html#Network_interfaces" class="mw-redirect" title="Network interface">network interface</a> is listed and enabled, for example with <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/ip-link.8">ip-link(8)</a></span>: <pre># ip link</pre>
</li>
<li>Connect to the network. Plug in the Ethernet cable or <a href="/Usage/Configuration/N/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless network configuration">connect to the wireless LAN</a>.</li>
<li>Configure your network connection:
<ul>
<li><a href="/Usage/Configuration/N/Network_configuration.html#Static_IP_address" title="Network configuration">Static IP address</a></li>
<li>Dynamic IP address: use <a href="/Usage/Configuration/N/Network_configuration.html#DHCP" class="mw-redirect" title="DHCP">DHCP</a>.</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The installation image enables <a href="/Usage/Configuration/D/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> (<code>dhcpcd@<i>interface</i>.service</code>) for <a rel="nofollow"  href="https://git.archlinux.org/archiso.git/tree/configs/releng/airootfs/etc/udev/rules.d/81-dhcpcd.rules">wired network devices</a> on boot.</div></dd></dl>
</li>
<li>The connection may be verified with <a href="https://en.wikipedia.org/wiki/ping"  title="wikipedia:ping">ping</a>: <pre># ping archlinux.org</pre>
</li>
</ul>
<h3><span class="mw-headline" id="Update_the_system_clock">Update the system clock</span></h3>
<p>Use <span class="plainlinks archwiki-template-man" title="$ man 1 timedatectl"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/timedatectl.1">timedatectl(1)</a></span> to ensure the system clock is accurate:
</p>
<pre># timedatectl set-ntp true
</pre>
<p>To check the service status, use <code>timedatectl status</code>.
</p>
<h3><span class="mw-headline" id="Partition_the_disks">Partition the disks</span></h3>
<p>When recognized by the live system, disks are assigned to a <a href="/Usage/Configuration/D/Device_file.html#Block_devices" class="mw-redirect" title="Block device">block device</a> such as <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. To identify these devices, use <a href="/Usage/Configuration/D/Device_file.html#lsblk" class="mw-redirect" title="Lsblk">lsblk</a> or <i>fdisk</i>.
</p>
<pre># fdisk -l
</pre>
<p>Results ending in <code>rom</code>, <code>loop</code> or <code>airoot</code> may be ignored.
</p>
<p>The following <a href="/Usage/Configuration/P/Partitioning.html" class="mw-redirect" title="Partition">partitions</a> are <b>required</b> for a chosen device:
</p>
<ul>
<li>One partition for the root directory <code>/</code>.</li>
<li>If <a href="/Usage/Configuration/U/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> is enabled, an <a href="/Usage/Configuration/E/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>.</li>
</ul>
<p>If you want to create any stacked block devices for <a href="/Usage/Configuration/L/LVM.html" title="LVM">LVM</a>, <a href="/Usage/Configuration/D/Dm-crypt.html" title="Dm-crypt">system encryption</a> or <a href="/Usage/Configuration/R/RAID.html" title="RAID">RAID</a>, do it now.
</p>
<h4><span class="mw-headline" id="Example_layouts">Example layouts</span></h4>
<table >
<tbody>
<tr>
<th colspan="5">BIOS with <a href="/Usage/Configuration/P/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="MBR">MBR</a>
</th>
</tr>
<tr>
<th>Mount point
</th>
<th>Partition
</th>
<th>
<a href="https://en.wikipedia.org/wiki/Partition_type"  title="wikipedia:Partition type">Partition type</a>
</th>
<th>Suggested size
</th>
</tr>
<tr>
<td>
<code>/mnt</code>
</td>
<td>
<code>/dev/sd<i>X</i>1</code>
</td>
<td>Linux
</td>
<td>Remainder of the device
</td>
</tr>
<tr>
<td>[SWAP]
</td>
<td>
<code>/dev/sd<i>X</i>2</code>
</td>
<td>Linux swap
</td>
<td>More than 512 MiB
</td>
</tr>
<tr>
<th colspan="5">UEFI with <a href="/Usage/Configuration/P/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GPT">GPT</a>
</th>
</tr>
<tr>
<th>Mount point
</th>
<th>Partition
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs"  title="wikipedia:GUID Partition Table">Partition type</a>
</th>
<th>Suggested size
</th>
</tr>
<tr>
<td>
<code>/mnt/boot</code> or <code>/mnt/efi</code>
</td>
<td>
<code>/dev/sd<i>X</i>1</code>
</td>
<td>
<a href="/Usage/Configuration/E/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>
</td>
<td>260–512 MiB
</td>
</tr>
<tr>
<td>
<code>/mnt</code>
</td>
<td>
<code>/dev/sd<i>X</i>2</code>
</td>
<td>Linux x86-64 root (/)
</td>
<td>Remainder of the device
</td>
</tr>
<tr>
<td>[SWAP]
</td>
<td>
<code>/dev/sd<i>X</i>3</code>
</td>
<td>Linux swap
</td>
<td>More than 512 MiB
</td>
</tr>
</tbody>
</table>
<p>See also <a href="/Usage/Configuration/P/Partitioning.html#Example_layouts" title="Partitioning">Partitioning#Example layouts</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Use <a href="/Usage/Configuration/F/Fdisk.html" title="Fdisk">fdisk</a> or <a href="/Usage/Configuration/P/Parted.html" title="Parted">parted</a> to modify partition tables, for example <code>fdisk /dev/sd<i>X</i></code>.</li>
<li>
<a href="/Usage/Configuration/S/Swap.html" title="Swap">Swap</a> space can be set on a <a href="/Usage/Configuration/S/Swap.html#Swap_file" class="mw-redirect" title="Swap file">swap file</a> for file systems supporting it.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Format_the_partitions">Format the partitions</span></h3>
<p>Once the partitions have been created, each must be formatted with an appropriate <a href="/Usage/Configuration/F/File_systems.html" class="mw-redirect" title="File system">file system</a>. For example, if the root partition is on <code>/dev/sd<i>X</i>1</code> and will contain the <code><i>ext4</i></code> file system, run:
</p>
<pre># mkfs.<i>ext4</i> /dev/sd<i>X1</i>
</pre>
<p>If you created a partition for swap, initialize it with <i>mkswap</i>:
</p>
<pre># mkswap /dev/sd<i>X2</i>
# swapon /dev/sd<i>X2</i>
</pre>
<p>See <a href="/Usage/Configuration/F/File_systems.html#Create_a_file_system" title="File systems">File systems#Create a file system</a> for details.
</p>
<h3><span class="mw-headline" id="Mount_the_file_systems">Mount the file systems</span></h3>
<p><a href="/Usage/Configuration/F/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">Mount</a> the file system on the root partition to <code>/mnt</code>, for example:
</p>
<pre># mount /dev/sd<i>X1</i> /mnt
</pre>
<p>Create any remaining mount points (such as <code>/mnt/efi</code>) and mount their corresponding partitions. 
</p>
<p><a rel="nofollow"  href="https://git.archlinux.org/arch-install-scripts.git/tree/genfstab.in">genfstab</a> will later detect mounted file systems and swap space.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Select_the_mirrors">Select the mirrors</span></h3>
<p>Packages to be installed must be downloaded from <a href="/Usage/Configuration/M/Mirrors.html" title="Mirrors">mirror servers</a>, which are defined in <code>/etc/pacman.d/mirrorlist</code>. On the live system, all mirrors are enabled, and sorted by their synchronization status and speed at the time the installation image was created.
</p>
<p>The higher a mirror is placed in the list, the more priority it is given when downloading a package. You may want to edit the file accordingly, and move the geographically closest mirrors to the top of the list, although other criteria should be taken into account.
</p>
<p>This file will later be copied to the new system by <i>pacstrap</i>, so it is worth getting right.
</p>
<h3><span class="mw-headline" id="Install_essential_packages">Install essential packages</span></h3>
<p>Use the <a rel="nofollow"  href="https://projects.archlinux.org/arch-install-scripts.git/tree/pacstrap.in">pacstrap</a> script to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=base">base</a></span> package, Linux <a href="/Usage/Configuration/K/Kernel.html" title="Kernel">kernel</a> and firmware for common hardware:
</p>
<pre># pacstrap /mnt base linux-toslinux-firmware
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can substitute <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux">linux</a></span> for a <a href="/Usage/Configuration/K/Kernel.html" title="Kernel">kernel</a> package of your choice. You can omit the installation of the kernel or the firmware package if you know what you are doing.</div>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=base">base</a></span> package does not include all tools from the live installation, so installing other packages may be necessary for a fully functional base system. In particular, consider installing:
</p>
<ul>
<li>userspace utilities for the management of <a href="/Usage/Configuration/F/File_systems.html" title="File systems">file systems</a> that will be used on the system,</li>
<li>utilities for accessing <a href="/Usage/Configuration/R/RAID.html" title="RAID">RAID</a> or <a href="/Usage/Configuration/L/LVM.html" title="LVM">LVM</a> partitions,</li>
<li>specific firmware for other devices not included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>,</li>
<li>software necessary for <a href="/Usage/Configuration/N/Network_configuration.html" class="mw-redirect" title="Networking">networking</a>,</li>
<li>a <a href="/Usage/Configuration/L/List_of_applications.html#Text_editors" class="mw-redirect" title="Text editor">text editor</a>,</li>
<li>packages for accessing documentation in <a href="/Usage/Configuration/M/Man_page.html" class="mw-redirect" title="Man">man</a> and <a href="/Usage/Configuration/G/GNU.html#Texinfo" class="mw-redirect" title="Info">info</a> pages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=man-db">man-db</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=man-pages">man-pages</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=texinfo">texinfo</a></span>.</li>
</ul>
<p>To <a href="/Usage/Configuration/H/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> other packages or package groups, append the names to the <i>pacstrap</i> command above (space separated) or use <a href="/Usage/Configuration/P/Pacman.html" title="Pacman">pacman</a> while <a href="#Chroot">chrooted into the new system</a>. For comparison, packages available in the live system can be found in <a rel="nofollow"  href="https://projects.archlinux.org/archiso.git/tree/configs/releng/packages.x86_64">packages.x86_64</a>.
</p>
<h2><span class="mw-headline" id="Configure_the_system">Configure the system</span></h2>
<h3><span class="mw-headline" id="Fstab">Fstab</span></h3>
<p>Generate an <a href="/Usage/Configuration/F/Fstab.html" title="Fstab">fstab</a> file (use <code>-U</code> or <code>-L</code> to define by <a href="/Usage/Configuration/P/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> or labels, respectively):
</p>
<pre># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</pre>
<p>Check the resulting <code>/mnt/etc/fstab</code> file, and edit it in case of errors.
</p>
<h3><span class="mw-headline" id="Chroot">Chroot</span></h3>
<p><a href="/Usage/Configuration/C/Chroot.html" class="mw-redirect" title="Change root">Change root</a> into the new system:
</p>
<pre># arch-chroot /mnt
</pre>
<h3><span class="mw-headline" id="Time_zone">Time zone</span></h3>
<p>Set the <a href="/Usage/Configuration/S/System_time.html#Time_zone" class="mw-redirect" title="Time zone">time zone</a>:
</p>
<pre># ln -sf /usr/share/zoneinfo/<i>Region</i>/<i>City</i> /etc/localtime
</pre>
<p>Run <span class="plainlinks archwiki-template-man" title="$ man 8 hwclock"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/hwclock.8">hwclock(8)</a></span> to generate <code>/etc/adjtime</code>:
</p>
<pre># hwclock --systohc
</pre>
<p>This command assumes the hardware clock is set to <a href="https://en.wikipedia.org/wiki/UTC"  title="wikipedia:UTC">UTC</a>. See <a href="/Usage/Configuration/S/System_time.html#Time_standard" title="System time">System time#Time standard</a> for details.
</p>
<h3><span class="mw-headline" id="Localization">Localization</span></h3>
<p>Edit <code>/etc/locale.gen</code> and uncomment <code>en_US.UTF-8 UTF-8</code> and other needed <a href="/Usage/Configuration/L/Locale.html" title="Locale">locales</a>. Generate the locales by running:
</p>
<pre># locale-gen
</pre>
<p>Create the <span class="plainlinks archwiki-template-man" title="$ man 5 locale.conf"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/locale.conf.5">locale.conf(5)</a></span> file, and set the <code>LANG</code> <a href="/Usage/Configuration/E/Environment_variables.html" class="mw-redirect" title="Variable">variable</a> accordingly:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=<i>en_US.UTF-8</i></pre>
<p>If you <a href="#Set_the_keyboard_layout">set the keyboard layout</a>, make the changes persistent in <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/vconsole.conf.5">vconsole.conf(5)</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=<i>de-latin1</i></pre>
<h3><span class="mw-headline" id="Network_configuration">Network configuration</span></h3>
<p>Create the <a href="/Usage/Configuration/N/Network_configuration.html#Set_the_hostname" class="mw-redirect" title="Hostname">hostname</a> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>myhostname</i>
</pre>
<p>Add matching entries to <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/hosts.5">hosts(5)</a></span>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1	localhost
::1		localhost
127.0.1.1	<i>myhostname</i>.localdomain	<i>myhostname</i>
</pre>
<p>If the system has a permanent IP address, it should be used instead of <code>127.0.1.1</code>.
</p>
<p>Complete the <a href="/Usage/Configuration/N/Network_configuration.html" title="Network configuration">network configuration</a> for the newly installed environment, that includes installing your preferred <a href="/Usage/Configuration/N/Network_configuration.html#Network_management" class="mw-redirect" title="Network management">network management</a> software.
</p>
<h3><span class="mw-headline" id="Initramfs">Initramfs</span></h3>
<p>Creating a new <i>initramfs</i> is usually not required, because <a href="/Usage/Configuration/M/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a> was run on installation of the <a href="/Usage/Configuration/K/Kernel.html" title="Kernel">kernel</a> package with <i>pacstrap</i>.
</p>
<p>For <a href="/Usage/Configuration/I/Install_TOS_Linux_on_LVM.html#Adding_mkinitcpio_hooks" title="Install TOS Linux on LVM">LVM</a>, <a href="/Usage/Configuration/D/Dm-crypt.html" title="Dm-crypt">system encryption</a> or <a href="/Usage/Configuration/R/RAID.html#Configure_mkinitcpio" title="RAID">RAID</a>, modify <span class="plainlinks archwiki-template-man" title="$ man 5 mkinitcpio.conf"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/mkinitcpio.conf.5">mkinitcpio.conf(5)</a></span> and recreate the initramfs image:
</p>
<pre># mkinitcpio -P
</pre>
<h3><span class="mw-headline" id="Root_password">Root password</span></h3>
<p>Set the root <a href="/Usage/Configuration/U/Users_and_groups.html#User_database" class="mw-redirect" title="Password">password</a>:
</p>
<pre># passwd
</pre>
<h3><span class="mw-headline" id="Boot_loader">Boot loader</span></h3>
<p>Choose and install a Linux-capable <a href="/Usage/Configuration/T/TOS_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a>. If you have an Intel or AMD CPU, enable <a href="/Usage/Configuration/M/Microcode.html" title="Microcode">microcode</a> updates in addition.
</p>
<h2><span class="mw-headline" id="Reboot">Reboot</span></h2>
<p>Exit the chroot environment by typing <code>exit</code> or pressing <code>Ctrl+d</code>.
</p>
<p>Optionally manually unmount all the partitions with <code>umount -R /mnt</code>: this allows noticing any "busy" partitions, and finding the cause with <span class="plainlinks archwiki-template-man" title="$ man 1 fuser"><a rel="nofollow"  href="https://jlk.fjfi.cvut.cz/arch/manpages/man/fuser.1">fuser(1)</a></span>.
</p>
<p>Finally, restart the machine by typing <code>reboot</code>: any partitions still mounted will be automatically unmounted by <i>systemd</i>. Remember to remove the installation media and then login into the new system with the root account.
</p>
<h2><span class="mw-headline" id="Post-installation">Post-installation</span></h2>
<p>See <a href="/Usage/Configuration/G/General_recommendations.html" title="General recommendations">General recommendations</a> for system management directions and post-installation tutorials (like setting up a graphical user interface, sound or a touchpad).
</p>
<p>For a list of applications that may be of interest, see <a href="/Usage/Configuration/L/List_of_applications.html" title="List of applications">List of applications</a>.
</p>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/C/Category:Installation_process.html" title="Category:Installation process">Installation process</a></li></ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Installation_guide&amp;oldid=609864">https://wiki.archlinux.org/index.php?title=Installation_guide&amp;oldid=609864</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 2 May 2020, at 12:56.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/T/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/T/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/T/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



