<!--
    title: Ratpoison
    description: Migration of Ratpoison from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-29T19:25:31.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">Ratpoison</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/Usage/Configuration/R/Window_manager.html" title="Window manager">Window manager</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="/Usage/Configuration/R/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" ><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Poor style, duplicate content (Discuss in <a rel="nofollow"  href="https://wiki.archlinux.org/index.php/Talk:Ratpoison">Talk:Ratpoison#</a>)</div>
</div>
<p><a rel="nofollow"  href="http://www.nongnu.org/ratpoison/">Ratpoison</a> is a tiling <a href="/Usage/Configuration/R/Window_manager.html" title="Window manager">window manager</a> written in C  that allows the user to manage applications without a mouse. The user interface is inspired by <a href="/Usage/Configuration/R/GNU_Screen.html" title="GNU Screen">GNU Screen</a>.
</p>
<p>By default, Ratpoison controls in much the same way as Emacs. Commands begin by pressing <code>Ctrl t</code>, and are then followed by another combination such as <code>Ctrl Space</code> to move to the next window. 
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Configuration"><span >2</span> <span >Configuration</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Using_ratpoison"><span >3</span> <span >Using ratpoison</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Tips_and_tricks"><span >4</span> <span >Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Java_Swing_Applications"><span >4.1</span> <span >Java Swing Applications</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Multiple_workspaces"><span >4.2</span> <span >Multiple workspaces</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#Urxvt_and_xterm"><span >4.3</span> <span >Urxvt and xterm</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Install_a_Patched_URxvt"><span >4.3.1</span> <span >Install a Patched URxvt</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Adjust_the_Border"><span >4.3.2</span> <span >Adjust the Border</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Launch_on_startup"><span >4.4</span> <span >Launch on startup</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Wallpaper_and_transparency"><span >4.5</span> <span >Wallpaper and transparency</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Useful_keybindings"><span >5</span> <span >Useful keybindings</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Focus_follows_mouse"><span >6</span> <span >Focus follows mouse</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Ratpoison_and_display_managers"><span >7</span> <span >Ratpoison and display managers</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#See_also"><span >8</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/Usage/Configuration/R/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ratpoison">ratpoison</a></span> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>To use ratpoison as your window manager, you have to create/edit the file <code>~/.xinitrc</code>.
</p>
<p>Example <code>.xinitrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># The black/white grid as background doesn't suit my taste.
xsetroot -solid black &amp;
# Ratpoison is compatible with xcompmgr! now you can have real transparency
xcompmgr -c -f -D 5 &amp;
#fire up ratpoison!
exec /usr/bin/ratpoison
</pre>
<h2><span class="mw-headline" id="Using_ratpoison">Using ratpoison</span></h2>
<p>After <a href="/Usage/Configuration/R/Xorg.html" class="mw-redirect" title="X11">X11</a> starts up you will see a black screen and a little textbox on the upper right of it that says "Welcome to Ratpoison".
Now type <code>Ctrl+t</code> and then <code>?</code> to get a list of keybindings. If you are used to GNU screen, you will feel at home very soon.
</p>
<p>You are able to define custom keystrokes and even override existing ones in <code>~/.ratpoisonrc</code>
</p>
<p>Example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Overriding CTRL+t 'c' to start aterm instead of xterm
bind c exec aterm

bind f exec firefox
</pre>
<p>So, if you type <code>Ctrl+t</code> and then <code>f</code>, ratpoison will fire up Firefox.
</p>
<p><code>Ctrl+t</code> is the default escape key, the key used to trigger ratpoison commands. To change the mapping of the escape key to the Windows key, use the following line in your <code>~/.ratpoisonrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Setting the escape key to the Windows key
escape Super_L
</pre>
<p>Here is a another <code>.ratpoisonrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec xsetroot -cursor_name left_ptr
startup_message off
escape C-z

# Make a screenshot
alias sshot exec import -window root ~/screenshot-$(date +%F).jpg
definekey top M-C-Print sshot

#virtual desks
gnewbg one
gnewbg two

definekey top M-l exec ratpoison -c "select -" -c "gprev" -c "next"
definekey top M-h exec ratpoison -c "select -" -c "gnext" -c "next"

#switch between windows
definekey top M-j next
definekey top M-k prev

#apps
unbind c
bind c exec urxvt -tr
#bind c exec aterm

bind g exec gftp
bind f exec firefox
</pre>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Java_Swing_Applications">Java Swing Applications</span></h3>
<p>Java Swing GUI applications assume tiling window managers, and don't go to fullscreen properly with the default ratpoison configuration. However, there is a way to "trick" the Java swing window into thinking it's in a tiling window manager and getting it to go to fullscreen correctly.
</p>
<p>First, install the <code>wmname</code> package. Then add this line to your <code>.ratpoisonrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec wmname LG3D
</pre>
<p>Voila! Java Swing applications should properly fullscreen now.
</p>
<h3><span class="mw-headline" id="Multiple_workspaces">Multiple workspaces</span></h3>
<p>By default, ratpoison only has one workspace, but using a script called rpws (installed by default) you can have more.
</p>
<p>Just edit your .ratpoisonrc, and add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec /usr/bin/rpws init 6 -k
</pre>
<p>That creates 6 workspaces. By default, you can access to them by using <code>Alt+F1</code> to access the first, <code>Alt+F2</code> to access the second, etc.
</p>
<p>You can also add binds to them, like this:
</p>
<pre>bind C-1 exec rpws 1
bind C-2 exec rpws 2
...
</pre>
<p>That allows to access them with <code>Ctrl+t</code> <code>Ctrl+1</code> (assuming <code>Ctrl+t</code> as your escape key)
</p>
<h3><span class="mw-headline" id="Urxvt_and_xterm">Urxvt and xterm</span></h3>
<p>Urxvt and xterm, as they are installed by default, send resize hints to the window manager. This works in most tiling window managers, but not in ratpoison. The end result is that URxvt/xterm resizes itself in multiples of the font size, rather than resizing to the whole screen, and chances that there are unfilled gaps are high. There are two solutions to this problem, documented below.
</p>
<h4><span class="mw-headline" id="Install_a_Patched_URxvt">Install a Patched URxvt</span></h4>
<p>If you use URxvt, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel/">rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel</a></span><sup><small>AUR</small></sup> package, among other improvements, sends no resize hints to the window manager. If you install this version of URxvt rather than the default, URxvt will resize properly within ratpoison.
</p>
<h4><span class="mw-headline" id="Adjust_the_Border">Adjust the Border</span></h4>
<p>We can use the xterm/urxvt option internalBorder and set the border of ratpoison to 0.
</p>
<p>A trial and error process must be done to find the exact number of internalBorder for each combination of resolution and font size. (the border of ratpoison must be set to 0 before doing the tests)
The term command line option -b can be used to test for the correct number and then can be saved on the following files.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xresources</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">urxvt*internalBorder: 8 #change urxvt to xterm if necessary. Using the font terminus in urxvt at 14px size, 8 is the correct number here.
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set border 0
</pre>
<p>If a combination cannot be found, you could try changing the font size and the font family also. (that changes the required border number)
</p>
<h3><span class="mw-headline" id="Launch_on_startup">Launch on startup</span></h3>
<p>Examples for launching programs when ratpoison starts. File <code>~/.ratpoisonrc</code> is executed by ratpoison on startup.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Launch urxvt with a tmux session</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec urxvt -e bash -c "tmux -q has-session &amp;&amp; exec tmux attach-session -d || exec tmux new-session -n$USER -s$USER@$HOSTNAME"
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Launch optimized chromium</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec bash -c 'pidof chromium &amp;&gt;/dev/null || exec /usr/bin/chromium --disk-cache-dir=~/tmp/cache'
</pre>
<h3><span class="mw-headline" id="Wallpaper_and_transparency">Wallpaper and transparency</span></h3>
<p>Example for setting transparency using <a href="/Usage/Configuration/R/Xcompmgr.html" title="Xcompmgr">xcompmgr</a> and nitrogen.
First start nitrogen and set the desired wallpaper. Then use this in your <code>~/.ratpoisonrc</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Wallpaper and transparency</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec xcompmgr -c -f -D 5 &amp;
exec nitrogen --restore
</pre>
<h2><span class="mw-headline" id="Useful_keybindings">Useful keybindings</span></h2>
<table >
<tbody>
<tr>
<td>
<code>Ctrl+t</code> <code>!</code> &lt;<i>Program Name</i>&gt; Start any program
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>?</code> Show key bindings
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>c</code> Start an X terminal
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>n</code> Switch to next window
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>p</code> Switch to previous window
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>1</code>-<code>9</code> Switch to windows 1-9
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>k</code> Close the current window
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Shift+k</code> XKill the current application
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>s</code>,<code>Shift+s</code> Split the current frame into two vertical,horizontal ones
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Tab</code>, <code>←</code>, <code>↑</code>, <code>→</code>, <code>↓</code> Switch to the next, left. top, right, bottom frame.
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Shift+q</code> Make the current frame the only one
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>:</code> Execute a ratpoison command
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Focus_follows_mouse">Focus follows mouse</span></h2>
<p><code>sloppy.c</code> is a build script for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=ratpoison">ratpoison</a></span> and can be found in <code>/usr/share/ratpoison/</code>. To enable focus follows mouse for <code>ratpoison</code>, run the following:
</p>
<pre># cd /usr/share/ratpoison/
# gcc -o sloppy sloppy.c -lX11
# ./sloppy
</pre>
<p>To autostart focus follows mouse, add the following to <code>~/.ratpoisonrc</code>:
</p>
<pre>exec /usr/share/ratpoison/sloppy
</pre>
<h2><span class="mw-headline" id="Ratpoison_and_display_managers">Ratpoison and display managers</span></h2>
<p>Many <a href="/Usage/Configuration/R/Display_manager.html" title="Display manager">display managers</a> (e.g., <a href="/Usage/Configuration/R/LightDM.html" title="LightDM">LightDM</a>) source the available sessions from <code>/usr/share/xsessions/</code> and most window managers and desktop environments create .desktop files there. However ratpoison instead creates a <code>ratpoison.desktop</code> file in <code>/etc/X11/sessions/</code>. To allow display managers to find ratpoison one may need to copy the ratpoison.desktop file from <code>/etc/X11/sessions/ratpoison.desktop</code> to <code>/usr/share/xsessions/ratpoison.desktop</code>. If the <code>/usr/share/xsessions</code> directory does not exist, create it as root.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="http://ratpoison.wxcvbn.org/">The Ratpoison wiki</a></li>
<li>
<a rel="nofollow"  href="http://stumpwm.svkt.org/cgi-bin/ratpoison.pl?action=browse;id=keys">X11 Keys in Ratpoison</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot"  title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-02 ⓘ]</sup>
</li>
<li><a rel="nofollow"  href="http://www.ormiret.com/?q=node/11">Ratpoison config sample</a></li>
<li><a rel="nofollow"  href="https://bbs.archlinux.org/viewtopic.php?id=68622">Share your Ratpoison (experience) forum thread</a></li>
<li><a rel="nofollow"  href="https://github.com/jbaber/ratpoison_scripts">Collection of scripts for the Ratpoison window manager</a></li>
<li><a rel="nofollow"  href="http://www.nongnu.org/stumpwm/">Stumpwm - a successor to Ratpoison written in Common lisp</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="/Usage/Configuration/R/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/Usage/Configuration/R/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="/Usage/Configuration/R/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Ratpoison&amp;oldid=612253">https://wiki.archlinux.org/index.php?title=Ratpoison&amp;oldid=612253</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 11 May 2020, at 11:20.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="/Usage/Configuration/R/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="/Usage/Configuration/R/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="/Usage/Configuration/R/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



