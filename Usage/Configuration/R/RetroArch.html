<!--
    title: RetroTOS
    description: Migration of RetroTOS from the arch Wiki to the TOS Wiki
    published: true
    date: 2020-05-28T17:58:55.000Z
    tags: 
    -->>

<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading"  lang="en">RetroTOS</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" >From TOS Wiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> RetroTOS is not affiliated with <a href="../wiki/TOS_Linux.html" title="TOS Linux">TOS Linux</a>.</div>
<p><a rel="nofollow"  href="http://www.retroarch.com/">RetroTOS</a> is the reference implementation of the libretro API. It is a modular front-end for video game system emulators, game engines, video games, media players and other applications that offers several uncommon technical features such as multi-pass shader support, real-time rewinding and video recording (using <a href="../wiki/FFmpeg.html" title="FFmpeg">FFmpeg</a>), it also features a gamepad-driven UI on top of a full-featured command-line interface.
</p>
<div id="toc" >
<input type="checkbox" role="button" id="toctogglecheckbox"  style="display:none"><div  lang="en" dir="ltr">
<h2>Contents</h2>
<span ><label  for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span >1</span> <span >Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span >2</span> <span >Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Configuration"><span >3</span> <span >Configuration</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Tips_and_tricks"><span >4</span> <span >Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Enabling_the_Online_Updater"><span >4.1</span> <span >Enabling the <i>Online Updater</i></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Enabling_SaveRAM_Autosave_Interval"><span >4.2</span> <span >Enabling <i>SaveRAM Autosave Interval</i></span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Filters_and_shaders"><span >4.3</span> <span >Filters and shaders</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Reset_settings_to_their_default_value"><span >4.4</span> <span >Reset settings to their default value</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Troubleshooting"><span >5</span> <span >Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#No_cores_found"><span >5.1</span> <span >No cores found</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Input_devices_do_not_operate"><span >5.2</span> <span >Input devices do not operate</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Poor_video_performance"><span >5.3</span> <span >Poor video performance</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Audio_issues_with_ALSA"><span >5.4</span> <span >Audio issues with ALSA</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Save_data_is_lost_whenever_RetroTOS_crashes"><span >5.5</span> <span >Save data is lost whenever RetroTOS crashes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#See_also"><span >6</span> <span >See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../wiki/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=retroarch">retroarch</a></span> package or alternatively <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/retroarch-git/">retroarch-git</a></span><sup><small>AUR</small></sup> for the development version.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=retroarch-assets-xmb">retroarch-assets-xmb</a></span> to get the fonts and icons for the RetroTOS GUI. You may also want to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=retroarch-assets-ozone">retroarch-assets-ozone</a></span> for a more desktop-friendly GUI.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/retroarch-standalone-service/">retroarch-standalone-service</a></span><sup><small>AUR</small></sup> to get system user, systemd.service and retroarch configuration for standalone game-box. Just enable retroarch-standalone.service after all.</div>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>RetroTOS relies on separate libraries, called "cores", for most of its functionality. These can be downloaded per-user within RetroTOS itself (via the <a rel="nofollow"  href="https://buildbot.libretro.com/">libretro Buildbot</a>) or you can <a href="../wiki/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> them system-wide via <a rel="nofollow"  href="https://www.archlinux.org/groups/x86_64/libretro/">Community</a> or <a rel="nofollow"  href="https://aur.archlinux.org/packages/?O=0&amp;K=libretro">AUR</a>.
</p>
<p>By default RetroTOS is configured to load the per-user cores that it downloads. Change your <a href="#Configuration">#Configuration</a> if you install them elsewhere.
</p>
<p>The command to run a particular core is
</p>
<pre>$ retroarch --libretro <i>/path/to/some_core_libretro.so</i> <i>/path/to/rom</i>
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>When you first run RetroTOS it will create the user configuration file <code>~/.config/retroarch/retroarch.cfg</code>. If you install any RetroTOS components system-wide with <a href="../wiki/Pacman.html" title="Pacman">pacman</a>, you should specify these in the global configuration file and include them in your user file. For example,
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/retroarch.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># for retroarch-assets-xmb
assets_directory = "/usr/share/retroarch/assets"
# for libretro-core-info
libretro_info_path = "/usr/share/libretro/info"
# for libretro cores
libretro_directory = "/usr/lib/libretro"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/retroarch/retroarch.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#include "/etc/retroarch.cfg"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> RetroTOS does not support multiple search paths for these components. For example, if you install cores with <a href="../wiki/Pacman.html" title="Pacman">pacman</a> <b>and</b> download cores using RetroTOS's GUI, you cannot configure RetroTOS to show all of them at once since they are installed in different directories.</div>
<p>If you want to override your configuration (for example when running certain cores) you can use the <code>--appendconfig <i>/path/to/config</i></code> command line option.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Enabling_the_Online_Updater">Enabling the <i>Online Updater</i></span></h3>
<p>If you prefer to install all RetroTOS components with the built in updater instead of pacman, you can enable it with a configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/retroarch/retroarch.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">menu_show_core_updater = "true"</pre>
<h3><span class="mw-headline" id="Enabling_SaveRAM_Autosave_Interval">Enabling <i>SaveRAM Autosave Interval</i></span></h3>
<p>By default, RetroTOS only writes SRAM onto disk when it exits without error, which means that there's a risk of losing save data when using crash-prone cores. To change this behavior, open <code>~/.config/retroarch/retroarch.cfg</code> and set <code>autosave_interval</code> to <i>n</i>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/retroarch/retroarch.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autosave_interval = "600"</pre>
<p>With the example above, RetroTOS will write SRAM changes onto disk every 600 seconds.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Setting this value too low will cause all sorts of issue, most notably hardware degradation. See <a rel="nofollow"  href="https://github.com/libretro/RetroTOS/issues/4901#issuecomment-300888019">[1]</a>
</div>
<h3><span class="mw-headline" id="Filters_and_shaders">Filters and shaders</span></h3>
<p>RetroTOS can load <a rel="nofollow"  href="https://gitorious.org/bsnes/xml-shaders">BSNES XML filters</a> and <a rel="nofollow"  href="https://github.com/libretro/common-shaders">CG shaders</a>. These are set in <code>retroarch.cfg</code> with <code>video_bsnes_shader</code> and <code>video_cg_shader</code> respectively. The shaders can also be obtained and updated directly inside RetroTOS using the Online Updater.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://aur.archlinux.org/packages/retroarch-git/">retroarch-git</a></span><sup><small>AUR</small></sup> requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"  href="https://www.archlinux.org/packages/?name=nvidia-cg-toolkit">nvidia-cg-toolkit</a></span> in order to use the <i>cg shaders</i>.</div>
<h3><span class="mw-headline" id="Reset_settings_to_their_default_value">Reset settings to their default value</span></h3>
<p>To reset a setting or keybind to its default value through the GUI, highlight it and press <code>Start</code>. To remove a button from a keybind, highlight the keybind and press <code>Y</code>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="No_cores_found">No cores found</span></h3>
<p>By default RetroTOS searches for cores in <code>~/.config/retroarch/cores</code>, which is where the Online Updater installs them. Cores installed with <a href="../wiki/Pacman.html" title="Pacman">pacman</a> are placed in <code>/usr/lib/libretro</code> and thus will not appear in RetroTOS's GUI. You should choose one method of installing cores (pacman or the Online Updater) and change your <a href="#Configuration">#Configuration</a> to match.
</p>
<h3><span class="mw-headline" id="Input_devices_do_not_operate">Input devices do not operate</span></h3>
<p>You may encounter problems if running on a CLI or a display server other than <a href="../wiki/Xorg.html" title="Xorg">Xorg</a> or if you use the <a href="../wiki/Udev.html" title="Udev">udev</a> input driver, because <code>/dev/input</code> nodes are limited to root-only access. Try adding your user to the <code>input</code> <a href="../wiki/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> then logging in again.
</p>
<p>Alternatively, manually add a rule in <code>/etc/udev/rules.d/99-evdev.rules</code>, with <code>KERNEL=="event*", NAME="input/%k", MODE="666"</code> as its contents. Reload <a href="../wiki/Udev.html" class="mw-redirect" title="Udev rules">udev rules</a> by running:
</p>
<pre># udevadm control --reload-rules
</pre>
<p>If rebooting the system or replugging the devices are not options, permissions may be forced using:
</p>
<pre># chmod 666 /dev/input/event*
</pre>
<h3><span class="mw-headline" id="Poor_video_performance">Poor video performance</span></h3>
<p>If poor video performance is met, RetroTOS may be run on a separate thread by setting <code>video_threaded = true</code> in <code>~/.config/retroarch/retroarch.cfg</code>.
</p>
<p>This is, however, a solution that should be not be used if tweaking RetroTOS's video resolution/refresh rate fixes the problem, as it makes perfect V-Sync impossible, and slightly increases latency.
</p>
<h3><span class="mw-headline" id="Audio_issues_with_ALSA">Audio issues with ALSA</span></h3>
<p>When using <a href="../wiki/Advanced_Linux_Sound_TOSitecture.html" class="mw-redirect" title="ALSA">ALSA</a> the <code>audio_out_rate</code> must match the system's default output rate, usually <code>48000</code>.
</p>
<h3><span class="mw-headline" id="Save_data_is_lost_whenever_RetroTOS_crashes">Save data is lost whenever RetroTOS crashes</span></h3>
<p>See <a href="#Enabling_SaveRAM_Autosave_Interval">#Enabling SaveRAM Autosave Interval</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow"  href="http://www.retroarch.com/">Official Website</a></li>
<li><a rel="nofollow"  href="https://github.com/libretro/RetroTOS/wiki">RetroTOS wiki on GitHub</a></li>
<li><a rel="nofollow"  href="https://github.com/libretro/libretro.github.com/wiki/Documentation-devs">Documentation for developers</a></li>
</ul>
</div></div>
		
		<div id="catlinks"  data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../wiki/Category:Gaming.html" title="Category:Gaming">Gaming</a></li>
<li><a href="../wiki/Category:Emulation.html" title="Category:Emulation">Emulation</a></li>
</ul>
</div></div>
		<div ></div>
		
	</div>
</div>


		<div id="footer" role="contentinfo" style="margin: 0">
						<ul id="footer-info">
								<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=RetroTOS&amp;oldid=615048">https://wiki.archlinux.org/index.php?title=RetroTOS&amp;oldid=615048</a>"</li>
		
		<li id="footer-info-lastmod"> This page was last edited on 22 May 2020, at 17:41.</li>
								<li id="footer-info-copyright">Content is available under <a  rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							<br>
</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="../wiki/TOS Wiki:Privacy_policy.html" title="TOS Wiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="../wiki/TOS Wiki:About.html" title="TOS Wiki:About">About TOS Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="../wiki/TOS Wiki:General_disclaimer.html" title="TOS Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" >
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		



